# ุงูุฒููู ุฐุฎุฑูโุณุงุฒ ูพุงุฏุงุฑ (IndexedDBStorage)

ุงู ุงูุฒููู ูุธูู ุฐุฎุฑูโุณุงุฒ ุฏุงุฆู ู ูพุงุฏุงุฑ ุฏุงุฏูโูุง ุฑุง ุฏุฑ ุณูุช ฺฉุงุฑุจุฑ (Client-Side) ุจุง ุงุณุชูุงุฏู ุงุฒ ุชฺฉููููฺ **IndexedDB** ูุฑูุฑฺฏุฑ ุจุฑ ุนูุฏู ุฏุงุฑุฏ.

## ๐ก ฺู ฺฉุงุฑ ุงูุฌุงู ูโุฏูุฏุ

ุงู ุงูุฒููู ฺฉ ุฏุชุงุจุณ ุจู ูุงู `PeikDB` ุฏุฑ ูุฑูุฑฺฏุฑ ุงุฌุงุฏ ูโฺฉูุฏ ู ุชูุงู ุชูุธูุงุช ู ุชุงุฑุฎฺู ฺฏูุชฺฏููุง ุฑุง ุฏุฑ ุขู ุฐุฎุฑู ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุญุช ูพุณ ุงุฒ ุจุณุชู ูุฑูุฑฺฏุฑ ุง ุฎุงููุด ฺฉุฑุฏู ุณุณุชูุ ุฏุงุฏูโูุง ุญูุธ ุดููุฏ.

## โจ ูุฒุงุง

-   **ูุงูุฏฺฏุงุฑ ุฏุงุฏูโูุง (Persistence)**: ุฏุงุฏูโูุง ุชุง ุฒูุงู ฺฉู ฺฉุงุฑุจุฑ ฺฉุด ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ูฺฉูุฏุ ุจุงู ูโูุงููุฏ.
-   **ุธุฑูุช ุจุงูุง**: ุจุฑุฎูุงู LocalStorageุ ูุถุง ุจุณุงุฑ ุฒุงุฏ ุจุฑุง ุฐุฎุฑู ูุชู ู ุชุตุงูุฑ ุฏุงุฑุฏ.
-   **ุนููฺฉุฑุฏ ุบุฑููฺฏุงู (Async)**: ุนููุงุช ุฐุฎุฑูโุณุงุฒ ุจุงุนุซ ูุฑุฒ ุดุฏู ุฑุงุจุท ฺฉุงุฑุจุฑ ููโุดูุฏ.

## ๐ฆ ูุตุจ

```javascript
import IndexedDBStorage from './plugins/platform/indexeddbStorage/index.js';

await peik.use(new IndexedDBStorage());
```

## โ๏ธ ูพฺฉุฑุจูุฏ

ุงู ุงูุฒููู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุชุงุจุณ ุฑุง ุจุง ุณุงุฎุชุงุฑ ุฒุฑ ุงุฌุงุฏ ูโฺฉูุฏ ู ูุงุฒ ุจู ูพฺฉุฑุจูุฏ ุฏุณุช ูุฏุงุฑุฏ:

### ุณุงุฎุชุงุฑ ุฏุชุงุจุณ (`PeikDB`)

1.  **Store: `settings`**
    *   ูฺฏูุฏุงุฑ ุชูุธูุงุช ฺฉูุฏ (ูุซู ุชู ูุนุงูุ ฺฉูุฏูุง API ู ...).
2.  **Store: `chats`**
    *   ูฺฏูุฏุงุฑ ุขุจุฌฺฉุชโูุง ฺุช.
    *   `keyPath`: `id`
    *   ุดุงูู ุชูุงู ูพุงูโูุง ู ุชุตุงูุฑ (ุจู ุตูุฑุช Base64).

## ๐ป ูุซุงู ุงุณุชูุงุฏู

```javascript
const peik = new Peik();
await peik.use(new IndexedDBStorage()); // ุฌุงฺฏุฒู MemoryStorage
await peik.init();

// ุณุณุชู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ฺุชโูุง ูุจู ุฑุง ุงุฒ ูุฑูุฑฺฏุฑ ููุฏ ูโฺฉูุฏ
peik.on('ready', ({ chats }) => {
    console.log(`${chats.length} ฺฏูุชฺฏู ุฐุฎุฑู ุดุฏู ุจุงุฑฺฏุฐุงุฑ ุดุฏ.`);
});
```
