# ูพุฑุงููพุชโูุง ููุด

## ูพุฑุงููพุชโูุง ุทุฑุงุญ

### ูพุฑุงููพุช ฑ
ูโุฎูุงู ุจุฑุงู ฺฉ ุงุจุฒุงุฑ ฺุช ุจุง ูุฏูโูุง ููุด ูพุงุฏูโุณุงุฒ ฺฉู.

### ูพุฑุงููพุช ฒ
ูโุฎูุงู ุทุฑุญ ุฑุง ุจุฑุง ุฒุจุงู ูุงุฑุณ ุจูููโุณุงุฒ ฺฉู.

### ูพุฑุงููพุช ณ
ุฎุจ ูโุฎูุงู ุงู ุตูุญู ุฑู ุทูุฑ ุชุบุฑ ุจุฏ ฺฉู ฺฉุงุฑุจุฑ ุจุชููู ฺูุฏ ูุฏู ุณูุงุฑุด ุงุถุงูู ฺฉูู.

### ูพุฑุงููพุช ด
ุฎุจ ูุดฺฉู ุทุฑุญ ฺฉู ุฒุฏ ุงูฺฉู ฺูุฏุชุง ฺฉูุฏ ุณูุงุฑุด ุฑู ูุดูู ููโุฏู.

### ูพุฑุงููพุช ต
ูุดฺฉู ุงู ุทุฑุญ ุงูฺฉู ููุช ุชุนุฏุงุฏ ูุฏูโูุง ุณูุงุฑุด ุฒุงุฏ ุจุงุดู ุตูุญู ุฎู ุจุฒุฑฺฏ ูโุดู ู ฺฉุงุฑุจุฑ ุฏุฑ ุตูุญู ูุง ฺฉูฺฺฉ ุจุงุฏ ุฎู ุงุณฺฉุฑูู ฺฉูู. ุงฺฏุฑ ูุชูู ฺฉ ุทุฑุญ ุฎูุงูุงููโุชุฑ ุจุฒู.

### ูพุฑุงููพุช ถ
ูโุฎูุงู ุฏุฑ ุงู ุตูุญู ุฏู ฺฏุฒูู ุงุถุงูู ฺฉู ฺฉู ฺฉุงุฑุจุฑ ุจุชููู ูุฑุงููโฺฉููุฏู ู ูุฏู ฺฉู ุจุงูุงุด ูโุฎูุงุฏ ฺฏูพ ุจุฒูู ุฑุง ูุดุฎุต ฺฉูู.

## ูพุฑุงููพุชโูุง ูพุงุฏูโุณุงุฒ

### ูพุฑุงููพุช ฑ
ูโุฎูุงู ฺฉ ุงุจุฒุงุฑ ฺฏูพ (chat) ุจุง ูุฏูโูุง ููุด ูุตููุน ุจุง ูุงู ฺฏูฺฏ (goug) ุจุณุงุฒ ฺฉู ูฺฺฏโูุง ุฒุฑ ุฑุง ุฏุงุดุชู ุจุงุดู:
1. ููุท ุจุง ุฌุงูุงุงุณฺฉุฑูพุช ุฎุงู (ุจุฏูู ูุฑููุฑฺฉ)
2. ุจุชููู ุจู OpenAI ูุชุตู ุจุดู
3. ูพุงูโูุง ุฑุง ุฐุฎุฑู ฺฉูู (localStorage)
4. ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุงุฏู ุฏุงุดุชู ุจุงุดู
5. ฺฉุงุฑุจุฑ API key ุฎูุฏุด ุฑุง ูุงุฑุฏ ฺฉูู (ฺฉ input ุณุงุฏู)
6. ูพุงูโูุง ุจุนุฏ ุงุฒ ุฑูุฑุด ุตูุญู ุจุงู ุจูููู
7. ุทุฑุงุญ ุณุงุฏู ู ุชูุฒ (ูุงุฑุณ ู ุฑุงุณุชโฺู)
8. ฺฉุฏูุง ุฎูุงูุง ู ฺฉุงููุชโุฏุงุฑ ุจุงุดู
9. ููุท ฺฉ ูฺฉุงููู (ูู ูุณุช ูฺฉุงูููโูุง)

### ูพุฑุงููพุช ฒ
ุฎุจ ูโุฎูุงู ูพุฑูฺู ุฑุง ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ูฺ ฺุงุฑฺูุจ (framework) ูพุงุฏูโุณุงุฒ ฺฉู.
- ุงุฒ react ุงุณุชูุงุฏู ูฺฉู.
- ููุท ุงุฒ pure javascript ุงุณุชูุงุฏู ฺฉู.
- ููโุฎูุงู ุฏุฑ ูพุฑูฺู ูฺ ูุงู ุจุง ูพุณููุฏูุง tsx ู ts ูุฌูุฏ ุฏุงุดุชู ุจุงุดู.

### ูพุฑุงููพุช ณ
ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
Uncaught TypeError: The specifier โ@google/genaiโ was a bare specifier, but was not remapped to anything. Relative module specifiers must start with โ./โ, โ../โ or โ/โ.
```

### ูพุฑุงููพุช ด
ุญุงูุง ูโุฎูุงู ููู ฺฉุฏ ุฑุง ุจู ฺฉ **ูุนูุงุฑ ูุงฺููุงุฑ ู ุญุฑููโุง** ุชุจุฏู ฺฉู.
1. ูุฑ ูุงู ูุณุฆูู ฺฉ ูุธูู ุจุงุดู.
2. ุงุฒ ฺฉุชุงุจุฎุงูู tailwind ุงุณุชูุงุฏู ูฺฉู ู ุจุฌุงุด ุงุฒ CSS ุงุณุชูุงุฏู ฺฉู.
3. ุฌุฏุงุณุงุฒ ฺฉุงูู: Core ูุจุงุฏ UI ุฑุง ุจุดูุงุณู. UI ุงุฒ Core ุงุฒ ุทุฑู API ุงุณุชูุงุฏู ฺฉูู.
4. ุจุฏูู ฺฉุชุงุจุฎุงูู ุฎุงุฑุฌ: ุญุฐู `@google/genai`
5. ุงุณุชูุงุฏู ุงุฒ ES6 Modules
    - export/import ุงุณุชุงูุฏุงุฑุฏ   
    - ูุฑ ูุงู ฺฉ ูุงฺูู
6. ูฺฺฏโูุง ูุนู ูุซู Streaming response ู Auto-resize textarea ู Loading state ุฑุง ุญูุธ ฺฉู
7. ูุนูุงุฑ Event-Driven
    - ChatEngine ุฑูุฏุงุฏ emit ฺฉูู
    - ChatUI ุจู ุฑูุฏุงุฏูุง ฺฏูุด ุจุฏู

> ูพุณ ุงุฒ ุชุบุฑ ูุนูุงุฑ ูพุฑูฺูุ ูพุงุณุฎ ูุฏู gemini ููุงุด ุฏุงุฏู ููโุดุฏ. ุจุง ฺฉูฺฉ ูุฏู sonnet ู ูุงฺฏโฺฏุฐุงุฑ ุฏุฑ ฺฉุฏ ู ูพุฏุง ฺฉุฑุฏู ุฎุทุง ูุดฺฉู ุจุฑ ุทุฑู ุดุฏ.

### ูพุฑุงููพุช ต
ุฒูุงู ฺฉู ุตูุญู ุฑุง ุจุงุฒูุดุงู (refresh) ูโฺฉููุ ููุท ูพุงูโูุง ูุฏู ููุด ุฑุง ููุงุด ูโุฏู ู ูพุงูโูุง ุงุฑุณุงู ูู ุฑุง ููุงุด ููโุฏู.

### ูพุฑุงููพุช ถ
ูโุฎูุงู ุจูุจูุฏูุง ุฒุฑ ุฑุง ุฏุฑ ูพุฑูฺู ุงุนูุงู ฺฉู:
1. ูุฏุฑุช ุจูุชุฑ Stream (Buffer): ุงฺฏุฑ ฺฉ ูพุงุณุฎ ูุณุท JSON ูุทุน ุจุดูุ ุฎุทุง ูโุฏูุ ฺฉ ูุชุบุฑ `buffer` ุจุณุงุฒ ฺฉู ุฎุทูุท ูุงุชูุงู ุฑุง ูฺฏู ุฏุงุฑูุ ูุฑ ุฎุท ฺฉุงูู ุฑุง ูพุฑุฏุงุฒุด ฺฉูุ ุฎุท ุขุฎุฑ ูุงูุต ุฑุง ุจุฑุง chunk ุจุนุฏ ูฺฏู ุฏุงุฑ
2. ูพุงูโูุง ุฎุทุง ูุงุถุญ: ุงูุงู ููู ุฎุทุงูุง ฺฉ ุดฺฉู ููุงุด ุฏุงุฏู ูโุดู
    - `401`: "ฺฉูุฏ API ุงุดุชุจุงู ุงุณุช"
    - `429`: "ุฏุฑุฎูุงุณุชโูุง ุฒุงุฏ. ูุทูุงู 1 ุฏููู ุตุจุฑ ฺฉูุฏ"
    - `400`: "ุฏุฑุฎูุงุณุช ูุงูุนุชุจุฑ"
    - `500`: "ูุดฺฉู ุฏุฑ ุณุฑูุฑุ ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ"
    - ุฎุทุง ุดุจฺฉู: "ุงูุชุฑูุช ูุทุน ุงุณุช"
3. ุชูุงุด ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ (Retry): ุงฺฏุฑ ุฏุฑุฎูุงุณุช fail ุดุฏุ 3 ุจุงุฑ ุฏูุจุงุฑู ุชูุงุด ฺฉูู
    - ูุฑ ุจุงุฑ ุชุฃุฎุฑ ุจุดุชุฑ ุฏุงุดุชู ุจุงุดู (1 ุซุงููุ 2 ุซุงููุ 4 ุซุงูู)
    - ููุท ุจุฑุง ุฎุทุงูุง ูููุช retry ฺฉูู (ูุซู 500ุ network error)
    - ุจุฑุง ุฎุทุงูุง ุฏุงุฆู retry ูฺฉูู (ูุซู 401ุ 400)
4. ูุญุฏูุฏุช ุฒูุงู (Timeout): ุงฺฏุฑ ุฏุฑุฎูุงุณุช ุจุดุชุฑ ุงุฒ 30 ุซุงูู ุทูู ฺฉุดุฏุ ูุบูุด ฺฉูู
    - ูพุงู ุจุฏู: "ุฏุฑุฎูุงุณุช ุฎู ุทูู ฺฉุดุฏุ ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ"
5. ููุงุด ุจูุชุฑ ุฎุทุง ุฏุฑ UI: ุจู ุฌุง `alert()` ฺฉ ูพุงู ุฑูฺฏ ุฏุฑ ุฎูุฏ ฺุช ูุดุงู ุจุฏู
    - ูพุงู ุฎุทุง ูุฑูุฒ ุฑูฺฏ ุจุงุดู ู ุจุนุฏ ุงุฒ 5 ุซุงูู ูุญู ุจุดู
ูฺฉุงุช ููู:
- ฺฉุฏูุง ูุนู ุฑู ุฎุฑุงุจ ูฺฉูุ ููุท ุจูุจูุฏุดูู ุจุฏู
- ฺฉุงููุชโูุง ูุงุฑุณ ุจุฑุง ุจุฎุดโูุง ุฌุฏุฏ ุจููุณ
- ุณุงุฏู ู ุฎูุงูุง ุจููุณ

### ูพุฑุงููพุช ท
ุงูุงู ููุท Gemini ูพุดุชุจุงู ูโุดู. ูโุฎูุงู ฺฉุงุฑุจุฑ ุจุชููู ุจู ูุฏูโูุง ูุฎุชูู ุงูุชุฎุงุจ ฺฉูู.
1. ุงูุชุฎุงุจ ููุน ูุฏู
    - **Gemini** (ูุนู)
    - **OpenAI** (GPT-4, GPT-3.5, ู...)
    - **ุณูุงุฑุด** (API ุฎูุฏุด)
    - ุจุงุฏ ูุซู OpenAI ุจุงุดู (ุงุณุชุงูุฏุงุฑุฏ OpenAI-compatible).
2. ุชูุธูุงุช ูุฏู
    - **ฺฉูุฏ API** (ุจุฑุง ููู)
    - **ูุงู ูุฏู** (ูุซูุงู gpt-4ุ gpt-3.5-turbo)
    - **ุขุฏุฑุณ API** (ููุท ุจุฑุง ุณูุงุฑุด)
      - ูุซุงู: `http://localhost:11434/v1/chat/completions` (Ollama)
      - ูุซุงู: `https://api.openai.com/v1/chat/completions`
3. ุชูุธูุงุช ุจุงุฏ ุฐุฎุฑู ุจุดู
    - ููุน ูุฏู (gemini/openai/custom)
    - ฺฉูุฏ API
    - ูุงู ูุฏู
    - ุขุฏุฑุณ API (ุงฺฏุฑ ุณูุงุฑุด ุจุงุดู)

ูฺฉุงุช ููู:
1. **ฺฉุฏ ูุนู ุฑุง ุฎุฑุงุจ ูฺฉู**: Gemini ููฺูุงู ฺฉุงุฑ ฺฉูู
2. **UI ุณุงุฏู**: ูุฑู ุชูุธูุงุช ูุดูฺฏ ู ุณุงุฏู ุจุงุดู
3. **Validation**: ุงฺฏุฑ ุขุฏุฑุณ API ุบูุท ุจุงุดูุ ุฎุทุง ุจุฏู
4. **ฺฉุงููุชโูุง**: ุจุฑุง ุจุฎุดโูุง ุฌุฏุฏ ฺฉุงููุช ูุงุฑุณ ุจููุณ
5. **Error handling**: ุฎุทุงูุง OpenAI ุฑุง ูู ูุฏุฑุช ฺฉู
6. ุฏูุช ฺฉู ูุนูุงุฑ ูพุฑูฺู ฺฉู ูุงฺููุงุฑ ู ูุฑ ูุงู ฺฉ ูุธูู ุฑุง ุฑุนุงุช ฺฉู.

### ูพุฑุงููพุช ธ
ฺฉ README.md ุญุฑููโุง ุจุฑุง ูพุฑูฺู ฺฏูฺฏ ุจููุณ. ุฏุฑ ุงู ุณูุฏ ุจฺฏู ฺฉู ูพุฑูฺู ุจุง ุงุณุชูุงุฏู ุงุฒ ููุด ูุตููุน ููุดุชู ุดุฏู.

> ูพุณ ุงุฒ ุฏุฑุงูุช ุทุฑุญโูุง ู ฺฉุฏโูุง ูพุงู ุงุฒ stitchุ ฺฉุฏูุง ุฑุง ุจู ูุฏูโูุง sonnet4.5 ู gemini 2.5 pro ุชุง ฺฉุชุงุจุฎุงูู tailwind ุฑุง ุงุฒ ฺฉุฏูุง ูพุงู ุญุฐู ฺฉููุฏ.
> ุจุง ุชูุฌู ุจู ุงูฺฉู ฺฉุฏูุง ุงุตูุงุญ ุดุฏู sonnet 4.5 ุจุณุงุฑ ูุฒุฏฺฉโุชุฑ ุจู ุทุฑุญ ุจูุฏ ุขูโูุง ุฑุง ุจุฑุง ูพุงุฏูโุณุงุฒ ุจู ูุฏู ููุด ุฏุงุฏู.

### ูพุฑุงููพุช น
ูู ฺฉุฏูุง ุทุฑุญ ุฌุฏุฏ UI ุจุฑุง ูพุฑูฺู ฺฏูฺฏ ุฑุง ุจุงุฑฺฏุฐุงุฑ ฺฉุฑุฏู. ูโุฎูุงู:
1. ุงู ุทุฑุญ ุฑุง ุฌุงฺฏุฒู ุทุฑุญ ูุนู ฺฉู
2. ฺฉูุงุณโูุง ู IDูุง ุฑุง ุจุง ฺฉุฏ JavaScript ูุนู ุชุทุจู ุจุฏู
3. ููุฏุงู ุชูุธูุงุช ุฑุง ุฏุฑ ุงู ุทุฑุญ ุฌุฏุฏ ุจุณุงุฒ (ูุงู key.html)
ูฺฉุงุช ููู:
- ฺฉุฏ JavaScript ูุนู ุฑุง ุฎุฑุงุจ ูฺฉู
- ููุท UI ุฑุง ุชุบุฑ ุจุฏู
- ุชูุงู ูุงุจูุชโูุง ูุนู ุฑุง ุญูุธ ฺฉู
- ุตูุญู ฺฏูพ (chat) ู ููุฏุงู ฺฉูุฏูุง ุฑุง ุทุจู ุทุฑุญ ุฌุฏุฏ ุจุณุงุฒ

### ูพุฑุงููพุช ฑฐ
ุงุฒุช ูโุฎูุงู ุชุบุฑุงุช ุฒุฑ ุฑุง ุงุนูุงู ฺฉู:
1. ุฏุฑ ุตูุญู ฺฏูพ ุฎุท ฺฉู ุจุงูุง ุจุฎุด ููุดุชู ฺฉุงุฑุจุฑ ูุณุช ุฑุง ุญุฐู ฺฉู.
2. ุฑูฺฏ ูพูู ฺฉูุงุฑ (sidebar) ุจุง ฺุฒ ฺฉู ุฏุฑ ุทุฑุญโูุง ูุฑุณุชุงุฏู ฺฉุณุงู ูุณุช. ุฑูฺฏุด ุจุง ุจูู ุตูุญู ฺฉุณุงูู ฺฉู ุฏุฑุณุช ูุณุช.
3. ุฏูุช ฺฉู ุงุณู ูพุฑูฺู ุฑุง ุจุงุฏ ูุงุฑุณ ุจููุณ ยซฺฏูฺฏยป
4. ุงุฒุช ูโุฎูุงู ูุฏุงู ูุฏุฑุช ฺฉูุฏูุง ุฑุง ุฏููุง ูุดุงุจู ุทุฑุญ ูพุงุฏูโุณุงุฒ ฺฉู.

### ูพุฑุงููพุช ฑฑ
ุฎุจ ุจุง ุชุบุฑุงุช ฺฉู ุฏุงุฏ ุฏฺฉูู ูุฏุฑุช ฺฉูุฏูุง ุฏุฑ ูพูู ุณูุช ุฑุงุณุช ุดุจู ุฏฺฉูู ูุณุชุ ุงูุจุชู ููุช ูุงูุณ ุฑูุด ูุฑุงุฑ ูโฺฏุฑู ุจู ุตูุฑุช ุฏฺฉูู ููุงุด ุฏุงุฏู ูโุดู.

### ูพุฑุงููพุช ฑฒ
ุญุงูุง ุงุฒุช ูโุฎูุงู ุจุฎุด ูุฏุฑุช ฺฉูุฏูุง ุฑุง ุฏููุง ูุดุงุจู ฺฉุฏ ฺฉู ุจุงุฑฺฏุฐุงุฑ ฺฉุฑุฏู ูพุงุฏูโุณุงุฒ ฺฉู ุจุฏูู ูฺ ุชุบุฑ.

### ูพุฑุงููพุช ฑณ
ุจุฎุด ฺฉู ฺฉุงุฑุจุฑ ูุชู ุฎูุฏุด ุฑุง ูุงุฑุฏ ูโฺฉูู ุจุง ุจุฎุด ููุงุด ูพุงูโูุง ุฏุฑ ฺฉ ุฑุงุณุชุง ูุณุช. ุฏุฑ ุณูุช ุฑุงุณุช ูุดฺฉู ูุณุช ูู ุฏุฑ ุณูุช ฺูพ ูุชูโูุง ููุงุด ุฏุงุฏู ุดุฏู ู ููุฏ ูุฑูุฏ ูุชู ุจุง ูู ุฏุฑ ฺฉ ุฑุงุณุชุง ูุณุชู.

ุนฺฉุณ ูุดฺฉู ุฑุง ูพูุณุช ฺฉุฑุฏู.

### ูพุฑุงููพุช ฑด
ุชุบุฑ ฺฉู ุฏุงุฏ ูุดฺฉู ุฑุง ุญู ูฺฉุฑุฏ.

### ูพุฑุงููพุช ฑต
ุชุบุฑ ฺฉู ุงุฌุงุฏ ฺฉุฑุฏ ุจุงุนุซ ุดุฏ ูุงุชุฑุงุฒ ุจู ุณูุช ุฑุงุณุช ููุชูู ุจุดู.

### ูพุฑุงููพุช ฑถ
ุจุฎุด ฺฏูพ ุจู ุฏุฑุณุช ูพุงุฏูโุณุงุฒ ูุดุฏูุ ูพุงูโูุง ููุงุด ุฏุงุฏู ุดุฏู ุจุง ููุฏ ูุฑุฏ ุฏุฑ ฺฉ ุฑุงุณุชุง ูุณุชู.
1. ูพุงูโูุง ฺฉู ฺฉุงุฑุจุฑ ูโููุณู ุงุฒ ุณูุช ฺูพ ุตูุญู ูุงุตูู ุฏุงุฑู
2. ูพุงูโูุง ูุฏู ููุด ูู ุงุฒ ุณูุช ุฑุงุณุช ุตูุญู ูุงุตูู ุฏุงุฑู.

ุฏุฑ ุตูุฑุชฺฉู ุจุงุฏ ุจู ุงู ุดฺฉู ุจุงุดู:
1. ูพุงู ฺฉุงุฑุจุฑ ุจุงุฏ ุณูุช ุฑุงุณุช ููุงุด ุฏุงุฏู ุจุดู ู ุงูุชูุง ูพุงู ุจุงุฏ ุงุฒ ุณูุช ฺูพ ุตูุญู ูุงุตูู ุฏุงุดุชู ุจุงุดู.
2. ูพุงู ูุฏู ููุด ูู ุจุงุฏ ุณูุช ฺูพ ููุงุด ุฏุงุฏู ู ุงูุชูุง ูพุงู ุงุฒ ุณูุช ุฑุงุณุช ุตูุญู ูุงุตูู ุฏุงุดุชู ุจุงุดู.

### ูพุฑุงููพุช ฑท
ุชุบุฑุงุช ุฑุง ฺฉุงูู ุงูุฌุงู ูุฏุงุฏ.
1. ุขูุงุชุงุฑ ฺฉุงุฑุจุฑ ุจู ุณูุช ุฑุงุณุช ููุชูู ูุดุฏู ู ุฌุง ูุจูุด ุจุงู ูููุฏู
2. ุขูุงุชุงุฑ ููุด ูู ุจุงุฏ ุจู ุณูุช ฺูพ ูพุงู ููุด ููุชูู ุจุดู

### ูพุฑุงููพุช ฑธ
ุณุงุฎุชุงุฑ ูุงูโูุง HTML ู CSS ูพุฑูฺู ูพฺุฏู ุดุฏูุ ูโุฎูุงู ุงู ูุงูโูุง ุฑุง ุจู ฺฉ ูุนูุงุฑ ูุงฺููุงุฑ ู ูุจุชู ุจุฑ ฺฉุงููพูููุช ุชุจุฏู ฺฉู ุชุง ูฺฏูุฏุงุฑ ู ุชูุณุนู ุงููโูุง ุขุณุงูโุชุฑ ุจุดู.

1.  **ุณุงุฏูโุณุงุฒ `index.html`:** ุงู ูุงู ุจุงุฏ ุจุณุงุฑ ุณุจฺฉ ุจุดู ู ููุท ุดุงูู ฺฉ ุงูููุช ุฑุดู ุฏุฑ `<body>` ุจุงุดู.
2.  **ุงุฌุงุฏ ฺฉุงููพูููุชโูุง HTML:** ฺฉ ูพูุดู ุฌุฏุฏ ุจู ูุงู `templates/` ุจุณุงุฒ.
    - ูุฑ ุจุฎุด ุงุฒ HTML ุจุงุฏ ฺฉ ูุงูุจ ุฌุฏุง ุจุงุดู.
3.  ุจุงุฑฺฏุฐุงุฑ ูพูุง ฺฉุงููพูููุชโูุง
4.  ูุงู `chatUI.js` ุฑุง ูู ุจุงุฏ ูุงฺููุงุฑ ฺฉู.
5.  ุจุฑุง **ุงุณุชุงูโูุง** ุงู ููุงุฑุฏ ุฑุง ุฑุนุงุช ฺฉู
    - ุญุฏุงฺฉุซุฑ 100 ุฎุท ุฏุฑ ูุฑ ูุงู CSS
    - ูุงูโฺฏุฐุงุฑ BEM ุง ูุดุงุจู
    - ูฺ ุงุณุชุงู inline ูุจุงุดู
6. ุจุฑุง ูุงูโูุง **JavaScript**:
   - ุญุฏุงฺฉุซุฑ 200 ุฎุท ุฏุฑ ูุฑ ูุงู
   - Export/Import ุตุญุญ
   - JSDoc ุจุฑุง ุชูุงุจุน
7. ุจุฑุง ูุงูโูุง **HTML**:
   - Templates ุฏุฑ ูุงู ุฌุฏุงฺฏุงูู ุง template literals
   - Semantic HTML
   - Accessibility
8.  **ุฌุฏุงุณุงุฒ Core/UI**: ุฏูุช ฺฉู ฺฉู ุธุงูุฑ ุจุงุฏ ุงุฒ ููุทู ุจุฑูุงูู ุฌุฏุง ุจุงุดู ู ูุงุจุณุชฺฏ ูุฏุงุดุชู ุจุงุดู
     - Core ูฺ DOM manipulation ูฺฉูุฏ
     - UI ููุท ุงุฒ Core API ุงุณุชูุงุฏู ฺฉูุฏ
     - Event-driven communication
9.  ุณุงุฎุชุงุฑ ูพุดููุงุฏ:

```
goug/
โโโ index.html
โ
โโโ styles/
โ   โโโ variables.css        # CSS Variables
โ   โโโ base.css             # Reset, Typography
โ   โโโ layout.css           # Layout ุงุตู (sidebar, main)
โ   โโโ components/
โ   โ   โโโ modal.css        # Modal styles
โ   โ   โโโ sidebar.css      # Sidebar styles
โ   โ   โโโ messages.css     # Message bubbles
โ   โ   โโโ input.css        # Input area
โ   โ   โโโ buttons.css      # Button styles
โ   โโโ utilities.css        # Utilities (spinner, typing, error)
โ
โโโ js/
โ   โโโ ui/
โ   โ   โโโ chatUI.js
โ   โ   โโโ components/
โ   โ       โโโ settingsModal.js     # ูุฏุฑุช modal
โ   โ       โโโ messageRenderer.js   # ุฑูุฏุฑ ูพุงูโูุง
โ   โ       โโโ sidebarManager.js    # ูุฏุฑุช sidebar
โ   โโโ main.js
โ
โโโ templates/              # HTML Templates
    โโโ settingsModal.html
    โโโ sideBar.html
```
ุงู ููุงุฑุฏ ุฑุง ูู ุญุชูุง ุฑุนุงุช ฺฉู:
- **Single Responsibility**: ูุฑ ูุงู ฺฉ ูุณุฆููุช
- **Reusability**: ฺฉุงููพูููุชโูุง ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ
- **Maintainability**: ฺฉุฏ ูุงุจู ูฺฏูุฏุงุฑ

### ูพุฑุงููพุช ฑน
ุงูฺฉู ููู ูุงูโูุง css ุฑุง ุฏุฑ html ุขูุฑุฏ ุจู ูุธุฑู ุฎูุจ ูุณุชุ ุจูุชุฑู ููุท ฺฉ ูุงู ุฑุง ุฏุฑ ุงู ุจุฎุด ูุนุฑู ฺฉู.

### ูพุฑุงููพุช ฒฐ
ุญุงูุง ุงุฒุช ูโุฎูุงู ุจุฎุด ููุทู ูพุฑูฺู ุฑุง ูู ูุงฺููุงุฑ ฺฉูุ ูุดุงุจู ฺฉุงุฑ ฺฉู ุจุง ูุงูโูุง `chatUI.js` ู css ฺฉุฑุฏ.

1. ูุฑ provider ฺฉ ูุงู ุฌุฏุงฺฏุงูู
2. UI components ุฌุฏุง ุงุฒ core
3. **Separation of Concerns**: UI ฺฉุงููุงู ุฌุฏุง ุงุฒ Core
4. **Single Responsibility**: ูุฑ ูุงู ฺฉ ูุณุฆููุช
5. **Reusability**: ฺฉุงููพูููุชโูุง ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ
6. **Maintainability**: ฺฉุฏ ูุงุจู ูฺฏูุฏุงุฑ
7. ุฏุฑ ูุงูโูุง **JavaScript**ููุงุฑุฏ ุฒุฑ ุฑุง ุฑุนุงุช ฺฉู:
   - ุญุฏุงฺฉุซุฑ 200 ุฎุท ุฏุฑ ูุฑ ูุงู
   - Export/Import ุตุญุญ
   - JSDoc ุจุฑุง ุชูุงุจุน

ุณุงุฎุชุงุฑ ูพุดููุงุฏ:
```
goug/
โโโ index.html
โโโ styles/
โโโ js/
โ   โโโ core/
โ   โ   โโโ chatEngine.js
โ   โ   โโโ eventEmitter.js
โ   โ   โโโ providers/
โ   โ       โโโ geminiProvider.js    # ุฌุฏุงุณุงุฒ ูุฑ provider
โ   โ       โโโ openaiProvider.js
โ   โ       โโโ customProvider.js
โ   โโโ services/
โ   โ   โโโ apiService.js
โ   โ   โโโ storageService.js
โ   โโโ ui/
โ   โโโ utils/
โ   โโโ main.js
โโโ templates/
```

### ูพุฑุงููพุช ฒฑ
ุงุฒุช ูโุฎูุงู ฺฉ ูพูุดู ุงุฌุงุฏ ฺฉู ู ุณูุฏูุง ุฒุฑ ุฑุง ุฏุฑ ุงูู ุจููุณ:
1. ูุนูุงุฑ
    - ูููุฏุงุฑ ูุนูุงุฑ (ุจุง ูุชู)
    - ุชูุถุญ ูุฑ ูุงู (UI, Core, Storage)
    - Event-driven architecture ฺุทูุฑ ฺฉุงุฑ ูโฺฉูู
    - ูููุฏุงุฑ ุฌุฑุงู ฺฉ ุฏุฑุฎูุงุณุช ุงุฒ ุงุจุชุฏุง ุชุง ุงูุชูุง
    - ุชุตููุงุช ุทุฑุงุญ ู ฺุฑุง ุขูโูุง
    - Dependency diagram
    - ฺุทูุฑ ูุงฺููโูุง ุจุง ูู ุงุฑุชุจุงุท ุฏุงุฑูุฏ
    - Modular
    - Separation of concerns
2. ูุงู ุจุฑุง ุชูุณุนูโุฏููุฏูโฺฏุงู
    - ุจุฎุด 1: API ุฏุงุฎู
      - ุชูุงู eventูุง ฺฉู ChatEngine emit ูโฺฉูู
      - ุชูุงู ูุชุฏูุง public ุฏุฑ ูุฑ ฺฉูุงุณ
      - ูุญูู ุงุณุชูุงุฏู ุงุฒ ูุฑ API ุจุง ูุซุงู
    - ุจุฎุด 2: ุฑุงูููุง ุชูุณุนู
      - ฺุทูุฑ ฺฉ provider ุฌุฏุฏ ุงุถุงูู ฺฉูู
      - ฺุทูุฑ UI ุณูุงุฑุด ุจุณุงุฒู
      - ฺุทูุฑ storage mechanism ุฑุง ุชุบุฑ ุฏูู
      - ูุญูู ุงุถุงูู ฺฉุฑุฏู plugin
    - Best Practices
      - ูฺฉุงุช ฺฉุฏููุณ
      - ุงูฺฏููุง ุทุฑุงุญ ุงุณุชูุงุฏู ุดุฏู
      - ูฺฉุงุช ุงููุช

ุงู ุณูุฏูุง ุจุงุฏ ูู ุงูุง ูุงุจู ููู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ุจุงุดู. ุจู ูุงุฑุณ ูู ุจููุณ.

### ูพุฑุงููพุช ฒฒ
ุณูุฏ ุชูุณุนู ุฏููุฏูโฺฏุงู ุฑุง ูููุดุช.

### ูพุฑุงููพุช ฒณ
ูุชู ุฏุงุฎู ุฏฺฉููโูุง ุงุฒ ูููุช ูุฒุฑ ูุชู ุงุณุชูุงุฏู ููโฺฉููุฏ.

### ูพุฑุงููพุช ฒด
ุจุง ูุฑ ุจุงุฑ ุจุงุฒูุดุงู ุตูุญู (refresh) ูุชูโูุง ูพุดู ุฏุฑ ฺฏูพ ูพุงฺฉ ูโุดู.

### ูพุฑุงููพุช ฒต
ูโุฎูุงูู ูุงุจูุช ูุฏุฑุช ฺูุฏ ฺฏูพ (chat) ุฑุง ุงุถุงูู ฺฉู.
1. ุจุง ุฒุฏู ุฏฺฉูู ฺฏูพ ุฌุฏุฏ ฺฉ ูฺฉุงููู ฺฉุงููุงู ุฌุฏุฏ ู ุฎุงู ุงุฌุงุฏ ุจุดู.
    - ุงู ฺฏูพ ุฌุฏุฏ ุจุงุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ุนููุงู ฺฏูพ ูุนุงู ุงูุชุฎุงุจ ุจุดู ู ุฏุฑ ุจุงูุง ูุณุช ฺฏูพโูุง ุฏุฑ ููุงุฑ ฺฉูุงุฑ ููุงุด ุฏุงุฏู ุจุดู.
2. ููุงุด ูุณุช ฺฏูพโูุง ุฏุฑ ููุงุฑ ฺฉูุงุฑ (Sidebar):
    - ููุงุฑ ฺฉูุงุฑ ุจุงุฏ ูุณุช ุงุฒ ุชูุงู ฺฏูพโูุง ููุฌูุฏ ุฑุง ููุงุด ุจุฏู.
    - ูุฑ ุขุชู ุฏุฑ ุงู ูุณุช ุจุงุฏ ุนููุงู ุขู ฺฏูพ ุฑุง ูุดูู ุจุฏู.
    - ฺฏูพ ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ูุนุงููุ ุจุงุฏ ุงุฒ ูุธุฑ ุธุงูุฑ ูุชูุงุฒ ุจุงุดู.
    - ููุช ฺฉุงุฑุจุฑ ุฑู ฺฉ ฺฏูพ ุฏุฑ ูุณุช ฺฉูฺฉ ูโฺฉููุ ูุญุชูุง ุงูู ฺฏูพ ุฏุฑ ูพูุฌุฑู ุงุตู ฺฏูพ ุจุงุฑฺฏุฐุงุฑ ู ููุงุด ุฏุงุฏู ุจุดู.
3. ูุฏุฑุช ุนููุงู ฺฏูพ ููุช ฺฉุงุฑุจุฑ ูุณุฎุชู ูพุงู ุฎูุฏ ุฑุง ุฏุฑ ฺฉ ฺฏูพ ุฌุฏุฏ ุงุฑุณุงู ูโฺฉููุ ููุงู ูุชู ูพุงู (ูุซูุงู ณฐ ููุณู ูุฎุณุช) ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ุนููุงู "ุนููุงู" ุขู ฺฏูพ ุชูุธู ุจุดู.
    - ฺฉุงุฑุจุฑ ุจุงุฏ ุจุชููู ุนููุงู ฺฏูพ ุฑุง ูุฑุงุด ฺฉูู.
5. ฺฉุงุฑุจุฑ ุจุชููู ูฺฉุงููู ุฑู ุญุฐู ฺฉููุ ุจุฑุง ุญุฐู ุญุชูุง ุงุฒ ฺฉุงุฑุจุฑ ุชุงุฏู ุจฺฏุฑ.
    - ุงฺฏุฑ ฺฉุงุฑุจุฑ ุชุฃุฏ ฺฉุฑุฏุ ูฺฉุงููู ุจุงุฏ ุจู ุทูุฑ ฺฉุงูู ุงุฒ ุณุณุชู (ู ุงุฒ ุญุงูุธู ุฐุฎุฑูโุณุงุฒ) ุญุฐู ุจุดู. ุงฺฏุฑ ูฺฉุงููู ุญุฐู ุดุฏูุ ูฺฉุงููู ูุนุงู ุจูุฏุ ฺฉ ฺฏูพ ุฎุงู ูุนุงู ุจุดู.
6. ฺฏุฒููโูุง ูุฑุงุด ูุงู ู ุญุฐ ุฏุฑ ฺฉ ูุณุช ุจุฑุง ูุฑ ฺฏูพ ุฏุฑ ููุงุฑ ฺฉูุงุฑ ููุงุด ุฏุงุฏู ุจุดู. (ุณู ููุทู ุงูู)
7. ุจุฑุง ูุฑ ฺฏูพ ููุงุฑุฏ ุฒุฑ ุจุงุฏ ุฐุฎุฑู ุจุดู
    - ุชุงุฑุฎ ุงุฌุงุฏ
    - ุชุงุฑุฎ ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู
    - ูุฑุงูู ฺฉููุฏู ู ูุงู ูุฏู

### ูพุฑุงููพุช ฒถ
ุชุบุฑุงุช ฺฉู ุจุฑุง ูุฏุฑุช ฺฏูพโูุง ุงุฌุงุฏ ฺฉุฑุฏ ูุดฺฉูโูุง ุฒุฑ ุฑุง ุฏุงุฑู:
1. ุฏฺฉูู ฺฏูพ ุฌุฏุฏ ุจุงูุง ูุฑุงุฑ ฺฏุฑูุชูุ ุฏุฑ ุญุงูฺฉู ุจุงุฏ ูููู ูพุงู ุฏุฑ ุฌุง ูพุดู ุจุงุดู.
2. ูุงู ุฏฺฉูู ยซฺุช ุฌุฏุฏยป ุจุงุฏ ุจุดู ยซฺฏูพ ุฌุฏุฏยป
3. ฺฏูพ ูุนุงู ุฏุฑ ูพูู ฺฉูุงุฑ ุงุฒ ุณุงุฑ ฺฏูพโูุง ูุชูุงุฒ ูุดุฏู (ุจุงุฏ ุฑูฺฏุด ุชุบุฑ ฺฉูู.)
4. ุจุฑุง ูุฑุงุด ูุงู ู ุญุฐู ุจุงุฏ ูุฏุงู ููุงุณุจ ุจุง ูพุฑูฺู ุทุฑุงุญ ฺฉู.

### ูพุฑุงููพุช ฒท
ุฎุจ ุจุฎุด ููฺฏู ยซฺฏูฺฏยป ุฑุง ูู ุจุฑฺฏุฑุฏูู.

### ูพุฑุงููพุช ฒธ
ุฏุฑ ฺูุฏ ุฌุง ุงุฒ ูพุฑูฺูุ ูุญุชูุง ุฏุฑุงูุช ุงุฒ ฺฉุงุฑุจุฑ ุง API ุจู ุตูุฑุช ูุณุชูู ุฏุฑ HTML ูุฑุงุฑ ูโฺฏุฑุฏ ฺฉู ูโุชูุงูุฏ ุจุงุนุซ ุญููุงุช XSS ุดูุฏ.
1. ูุงู: `js/ui/components/sidebarManager.js`
    - ุฏุฑ ูุชุฏ `handleRename`:
       - ุฎุท ูุฑุจูุท ุจู `bodyHtml` ฺฉู ููุฏุงุฑ `chat.title` ุฑุง ุฏุฑ attribute ูุฑุงุฑ ูโุฏูุฏ
       - ุฑุงูโุญู: ููุฏุงุฑ ุฑุง ุจุนุฏ ุงุฒ ุณุงุฎุช input ุชูุธู ฺฉูุ ูู ุฏุฑ HTML
    - ุฏุฑ ูุชุฏ `handleDelete`:
       - ุฎุท ูุฑุจูุท ุจู `bodyHtml` ฺฉู `chat.title` ุฑุง ุฏุฑ ุชฺฏ `<strong>` ูุฑุงุฑ ูโุฏูุฏ
       - ุฑุงูโุญู: ุงุจุชุฏุง ฺฉ ุชุงุจุน ฺฉูฺฉ ุจุฑุง escape ฺฉุฑุฏู HTML ุจููุณ ู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉู
ฺฉ ูุชุฏ ุจู ูุงู `escapeHtml` ุจู ฺฉูุงุณ `SidebarManager` ุงุถุงูู ฺฉู ฺฉู ูุชู ุฑุง ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุฎุทุฑูุงฺฉ HTML ูพุงฺฉ ฺฉูุฏ.
2. ูุงู: `js/ui/components/messageRenderer.js`
    - ุฏุฑ ูุชุฏ `displayTemporaryError`:
       - ุฎุท ุงุณุชูุงุฏู ุงุฒ `innerHTML` ุจุฑุง ููุงุด `errorMessage`
       - ุฑุงูโุญู: ุงุฒ `textContent` ุงุณุชูุงุฏู ฺฉู ุง ุงููุงู ุฑุง ุจู ุตูุฑุช ุฏุณุช ุจุณุงุฒ

> ูพุฑุงููพุช ุจุงูุง ูพุณ ุงุฒ ุจุฑุฑุณ ฺฉุฏูุง ุชูุณุท ูุฏู sonnet ููุดุชู ุดุฏู ุงุณุช.

### ูพุฑุงููพุช ฒน
ุญุงูุช `disabled` ุจุฑุง ุฏฺฉููโูุง ุชุนุฑู ูุดุฏู.

### ูพุฑุงููพุช ณฐ
ุจูุจูุฏ ูุฏุฑุช ุฎุทุง ุฏุฑ EventEmitterุ ุงฺฏุฑ ฺฉ ุงุฒ listener ูุง ุฎุทุง ุฏุงุดุชู ุจุงุดูุ ุจูู listener ูุง ุงุฌุฑุง ููโุดู ู ุจุฑูุงูู ููฺฉู ูุชููู ุจุดู.

### ูพุฑุงููพุช ณฑ
1. ุฑูุน ูุดฺฉู RTL ุฏุฑ Input Groupุ ุฏุฑ ุจุฎุด input groupุ ุงุณุชุงูโูุง ููุท ุจุฑุง LTR ููุดุชู ุดุฏู ู ุฏุฑ ุญุงูุช RTL (ูุงุฑุณ) ุฏุฑุณุช ููุงุด ุฏุงุฏู ููโุดู. ุจุฑุง ุญุงูุช `[dir="rtl"]` ุงุณุชุงูโูุง ูุฎุตูุต ุงุถุงูู ฺฉู ฺฉู `border-radius` ู `border` ุฑุง ุตุญุญ ูุฑุงุฑ ุจุฏู.
2. ุงุถุงูู ฺฉุฑุฏู ูุฏุฑุช ุฎุทุง ุฏุฑ main.jsุ ุงฺฏุฑ ุฏุฑ ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ุฎุทุง ุฑุฎ ุจุฏูุ ฺฉุงุฑุจุฑ ุตูุญู ุฎุงู ุง ูพุงู ุฎุทุง ูุจูู ูโุจูู.
3. ุงุถุงูู ฺฉุฑุฏู Focus State ุจุฑุง ุฏุณุชุฑุณโูพุฐุฑุ 
    - ูุงู: `styles/components/buttons.css`: ฺฉุงุฑุจุฑุงู ฺฉู ุจุง ฺฉุจูุฑุฏ ฺฉุงุฑ ูโฺฉููุฏ ููโุชูุงููุฏ ุจุจููุฏ ฺฉุฏุงู ุฏฺฉูู ููฺฉูุณ ุดุฏู ุงุณุช.
      - ุจุฑุง ุญุงูุช `:focus-visible` ฺฉ outline ุขุจ ุงุถุงูู ฺฉู.
    - ูุงู: `styles/components/sidebar.css`ุ ููุช ฺฉุงุฑุจุฑ ุจุง Tab ุจู ฺฉ chat item ูโุฑุณุฏุ ุฏฺฉูู ุณู ููุทู ููุงุด ุฏุงุฏู ููโุดูุฏ.
      - ุจุฑุง ุญุงูุช `:focus-within` ุฏุฑ `.chat-list-item`ุ ุฏฺฉูู actions ุฑุง ููุงุด ุจุฏู.

### ูพุฑุงููพุช ณฒ
ฺฉ ูุงู ฺฉุงูู ู ุฌุงูุน ุจู ูุงู `docs/USER_GUIDE.md` ุงุฌุงุฏ ฺฉู ฺฉู ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ฺฏูฺฏ ุจุฑุง ฺฉุงุฑุจุฑุงู ููุง ุจุงุดุฏ.
- **ูุงู ูพุฑูฺู:** ฺฏูฺฏ (Goug)  
- **ุชูุถุญ:** ุงุจุฒุงุฑ ูุชูโุจุงุฒ ฺฏูุชโูฺฏู ุจุง ูุฏูโูุง ููุด ูุตููุน
- **ูฺฺฏ ฺฉูุฏ:** ฺฉุงููุงู ุณูุช ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดูุฏุ ูุงุฒ ุจู ุณุฑูุฑ ูุฏุงุฑุฏุ ููู ุฏุงุฏูโูุง ุฏุฑ ูุฑูุฑฺฏุฑ ฺฉุงุฑุจุฑ ุฐุฎุฑู ูโุดูุฏ.

ุณุงุฎุชุงุฑ ุฑุงูููุง:
1. ูุนุฑู
    - ฺฏูฺฏ ฺุณุชุ
    - ฺู ูุดฺฉู ุฑุง ุญู ูโฺฉูุฏุ
    - ฺุฑุง ุงุฒ ฺฏูฺฏ ุงุณุชูุงุฏู ฺฉููุ (ูุฒุงุง)
2. ุดุฑูุน ุณุฑุน (5 ุฏููู)
3. ุชูุธูุงุช ุงููู
    - ุฏุฑุงูุช API Key
4. ฺฉุงุฑ ุจุง ฺฏูพโูุง (Chats)
5. ุงุฑุณุงู ู ุฏุฑุงูุช ูพุงู
    - ููุดุชู ูพุงู ุฏุฑ ฺฉุงุฏุฑ ูพุงู ุตูุญู
    - ูุดุฑุฏู Enter ุจุฑุง ุงุฑุณุงู (Shift+Enter ุจุฑุง ุฎุท ุฌุฏุฏ)
    - ูุดุงูุฏู ูพุงุณุฎ ุจู ุตูุฑุช ุชุฏุฑุฌ (streaming)
    - ููุงุด "ุฏุฑ ุญุงู ุชุงูพ..." ููฺฏุงู ุฏุฑุงูุช ูพุงุณุฎ
6. ุฐุฎุฑูโุณุงุฒ ู ุญุฑู ุฎุตูุต
7. ูุงูุจุฑูุง ฺฉุจูุฑุฏ
- Enter: ุงุฑุณุงู ูพุงู
- Shift+Enter: ุฎุท ุฌุฏุฏ
- Tab: ุฌุงุจุฌุง ุจู ุงููุงูโูุง
8. ุฑูุน ูุดฺฉูุงุช ุฑุงุฌ (Troubleshooting)
    - ูุดฺฉู: ูพุงู ุฎุทุง "ุชูุธูุงุช API ุตุญุญ ูุณุช"**
    - ูุดฺฉู: ูพุงุณุฎ ุฏุฑุงูุช ููโุดูุฏ**
    - ูุดฺฉู: ฺฏูพโูุง ูพุงฺฉ ุดุฏูุฏ
    - ูุดฺฉู: ุจุฑูุงูู ุจุงุฑฺฏุฐุงุฑ ููโุดูุฏ
9. ูพุฑุณุดโโูุง ูพุฑุชฺฉุฑุงุฑ (FAQ)
    - ุขุง ฺฏูฺฏ ุฑุงฺฏุงู ุงุณุชุ
    - ุขุง ุฏุงุฏูโูุง ูู ุงูู ุงุณุชุ
    - ุขุง ูโุชูุงูู ุฏุฑ ููุจุงู ุงุณุชูุงุฏู ฺฉููุ
    - ฺฺฏููู ูโุชูุงูู ุงุฒ ฺฏูพโูุง ูุณุฎู ูพุดุชุจุงู ุชูู ฺฉููุ
    - ุขุง ูโุชูุงูู ฺูุฏ API Key ุฏุงุดุชู ุจุงุดูุ
10. ูพุดุชุจุงู ู ฺฉูฺฉ


ุณุจฺฉ ูฺฏุงุฑุด ุณูุฏ:
- ุฒุจุงู ุณุงุฏู ู ุฑูุงู
- ูุงุฑุณ ุฑุณู ุงูุง ุตูู
- ูุซุงูโูุง ูุงูุน ู ฺฉุงุฑุจุฑุฏ
- ุชุตุงูุฑ ุชูุถุญ ูุงุฒ ูุณุช (ููุท ูุชู)
- ุฌุฏูู ุจุฑุง ููุงุณู ุง ูุณุชโูุง

### ูพุฑุงููพุช ณณ
ูโุฎูุงู ูพุงูโูุง ุฏุฑุงูุช ุงุฒ ูุฏูโูุง ููุด ูุตููุน ฺฉู ุจู ุตูุฑุช Markdown ูุณุชูุฏุ ุจุง ูุงูุจโุจูุฏ ุตุญุญ ููุงุด ุฏุงุฏู ุดููุฏ.

1. ุงุฒ ฺฉุชุงุจุฎุงูู **Markdown-it** ุงุณุชูุงุฏู ฺฉู.
2. ฺฉุชุงุจุฎุงูู ุฑุง ุจู ุตูุฑุช ูุญู ุงุณุชูุงุฏู ฺฉู
3. ุฑูุฏุฑ ูุญุชูุง
    - ูพุงูโูุง ฺฉุงุฑุจุฑ (user) ุจู ุตูุฑุช ูุชู ุณุงุฏู ุจุงู ุจูุงููุฏ
    - ููุท ูพุงูโูุง ูุฏู (assistant) ุจุง Markdown ุฑูุฏุฑ ุดููุฏ
    - ููฺฏุงู streaming (ููุงุด ุชุฏุฑุฌ ูพุงุณุฎ)ุ Markdown ุจู ุฏุฑุณุช ุฑูุฏุฑ ุดูุฏ
    - ูพุงู ุฎูุดโุขูุฏฺฏู ูู ุจุง Markdown ุฑูุฏุฑ ุดูุฏ
4. ุจุฑุง ุงููุงูโูุง Markdown ุงุณุชุงู ููุงุณุจ ุงุถุงูู ฺฉู.
5. ุขูุงุฏูโุณุงุฒ ุจุฑุง ุขูุฏู: ูุนูุงุฑ ุจุงุฏ ุทูุฑ ุจุงุดุฏ ฺฉู ุจุชูุงู ููุณุฑ Markdown ุฑุง ุฏุฑ ุขูุฏู ุฑุงุญุช ุชุนูุถ ฺฉุฑุฏ (ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ููุณุฑ ุณูุงุฑุด ูุงุฑุณ).
6. ุงุณุชุงูโูุง ุจุงุฏ ุจุง ูุชูโูุง ุฑุงุณุชโฺู (ูุงุฑุณ) ุณุงุฒฺฏุงุฑ ุจุงุดูุฏ.

**ูฺฉุงุช ููู:**
- ุงุณุชุงูโูุง ุจุงุฏ ุจุง ุฒุจุงู ูุงุฑุณ ุณุงุฒฺฏุงุฑ ุจุงุดูุฏ (RTL)
- ุฏุฑ ุญุงูุช Dark Mode ูู ุฏุฑุณุช ููุงุด ุฏุงุฏู ุจุดู
- ุจููฺฉโูุง ฺฉุฏ ุจุงุฏ LTR ุจุงุดูุฏ (ฺูพโฺู)
- ูุณุชโูุง ู blockquote ูุง ุงุฒ ุณูุช ุฑุงุณุช padding ุฏุงุดุชู ุจุงุดู
- ูุนูุงุฑ ูุงฺููุงุฑ ูพุฑูฺู ู ุงูฺฉู ูุฑ ูุงู ฺฉ ูุธูู ุงูุฌุงู ุจุฏู ุฑุง ุญูุธ ฺฉู.

### ูพุฑุงููพุช ณด
ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
Uncaught SyntaxError: The requested module 'http://127.0.0.1:8000/js/lib/markdown-it.min.js' doesn't provide an export named: 'default'
```

### ูพุฑุงููพุช ณต
ูู ูุงู ููฺฏู ูพุฑูฺู ุฑุง ุฏุฑ ูุณุฑ `assets/images/logo.svg` ูุฑุงุฑ ุฏุงุฏู. ุงุฒุช ูโุฎูุงู ุงู ููฺฏู ุฑุง ุฏุฑ ููุงุฑ ฺฉูุงุฑ ูพุด ุงุฒ ูุงู ูพุฑูฺู ูุฑุงุฑ ุจุฏ. ูููุทูุฑ ุจู ุนููุงู favicon ูู ุงุณุชูุงุฏู ฺฉู.

### ูพุฑุงููพุช ณถ
ุฏุฑ ุญุงู ุญุงุถุฑ ููุฏุงู ูุฏุฑุช ฺฉูุฏูุง ุจุง ูุฑ ุจุงุฑ ูุฑูุฏ ุจู ุจุฑูุงูู ููุงุด ุฏุงุฏู ูโุดู ฺฉู ุขุฒุงุฑุฏููุฏู ุงุณุช.
1.  **ููุงุด ููุดููุฏ ููุฏุงู:** ููุฏุงู ุชูุธูุงุช ููุท ุจุงุฏ ุฏุฑ ุตูุฑุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงุด ุฏุงุฏู ุจุดู ฺฉู **ุจุฑูุงูู ุจุฑุง ุงููู ุจุงุฑ ุงุฌุฑุง ูโุดู ู ูููุฒ ูฺ ฺฉูุฏ API ูุนุชุจุฑ ุฐุฎุฑู ูุดุฏู.**
2.  **ุนุฏู ููุงุด ุฏุฑ ุจุงุฒุฏุฏูุง ุจุนุฏ:** ุงฺฏุฑ ฺฉุงุฑุจุฑ ูุจูุงู ฺฉูุฏ API ุฎูุฏ ุฑุง ูุงุฑุฏ ู ุฐุฎุฑู ฺฉุฑุฏูุ ุจุฑูุงูู ุจุงุฏ ุจู ุทูุฑ ุนุงุฏ ู ุจุฏูู ููุงุด ููุฏุงู ุชูุธูุงุช ุดุฑูุน ุจู ฺฉุงุฑ ฺฉูู.
3.  **ุฏุณุชุฑุณ ุฏุณุช:** ฺฉุงุฑุจุฑ ููฺูุงู ุจุงุฏ ุจุชูุงูุฏ ุจุง ฺฉูฺฉ ฺฉุฑุฏู ุฑู ุฏฺฉูู "ูุฏุฑุช ฺฉูุฏ API" (ุง ูุดุงุจู ุขู)ุ ุจู ุตูุฑุช ุฏุณุช ููุฏุงู ุชูุธูุงุช ุฑุง ุจุงุฒ ฺฉูู.
4. **ุงุนุชุจุงุฑุณูุฌ:** ุญุฏุงูู ุจุงุฏ Provider ู ฺฉูุฏ API ูุฑ ุฏู ููุฌูุฏ ุจุงุดู
5. ุงฺฏุฑ ฺฉุงุฑุจุฑ Cache ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ฺฉููุ ุชูุธูุงุช ูพุงฺฉ ูโุดู ู ุฏูุจุงุฑู ููุฏุงู ููุงุด ุฏุงุฏู ูโุดู (ุฑูุชุงุฑ ุฏุฑุณุช)
6. **ูพุฑ ฺฉุฑุฏู ุฎูุฏฺฉุงุฑ ูุฑู:** ููุช ููุฏุงู ุชูุธูุงุช ุจุงุฒ ูโุดู (ฺู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ู ฺู ุจุง ฺฉูฺฉ ฺฉุงุฑุจุฑ)ุ ููุฏูุง ูุฑู (ูุซู ฺฉูุฏ APIุ ุงุฑุงุฆูโุฏููุฏูุ ูุงู ูุฏู ู...) ุจุงุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุง **ุขุฎุฑู ููุงุฏุฑ ุฐุฎุฑู ุดุฏู** ูพุฑ ุจุดู.

### ูพุฑุงููพุช ณท
ููฺูุงู ุจุง ุจุงุฒูุดุงู (refresh) ุตูุญู ูุฏุงู ููุงุด ุฏุงุฏู ูโุดู. ุงูุจุชู ุงุทูุงุนุงุช ุฐุฎุฑู ุดุฏู ุจู ุฎูุจ ููุงุด ุฏุงุฏู ูโุดู.

ุฏูุช ฺฉู ุงฺฏุฑ ฺฉุงุฑุจุฑ ุงุทูุงุนุงุช ฺฉูุฏ (API key) ุฑุง ูุจูุง ูุงุฑุฏ ฺฉุฑุฏู ูุจุงุฏ ููุฏุงู ููุงุด ุฏุงุฏู ุจุดู.

### ูพุฑุงููพุช ณธ
ุงุฒุช ูโุฎูุงู ุฏุงุฏูโูุง ฺฏูฺฏ ุฑุง `indexedDB` ุฐุฎุฑู ฺฉู. ุฏูุช ฺฉู ฺฉู ุจุฑุง ูุฑ ฺฏูพ ูโุฎูุงู ุฏุงุฏูโูุง ุฒุฑ ุญุชูุง ุฐุฎุฑู ุจุดู:
1. ูุงู ฺฏูพ
2. ุชุงุฑุฎ ุงุฌุงุฏ ฺฏูพ
3. ุชุงุฑุฎ ุขุฎุฑู ุจุฑูุฒุฑุณุงู
4. ูุงู ูุฏู
5. ูุฑุงูู ฺฉููุฏู ูุฏู

### ูพุฑุงููพุช ณน
ฺูุฏ ูุดฺฉู ููู ุฏุฑ ุณุณุชู ุฐุฎุฑูโุณุงุฒ ูุนู ูุฌูุฏ ุฏุงุฑู ฺฉู ุจุงุฏ ุฑูุน ุจุดู:
1. ุงูุงู ูุฑ ุจุงุฑ ฺฉู ฺฉ ฺฏูพ ุชุบุฑ ูโฺฉูู (ูุซูุงู ูพุงู ุฌุฏุฏุ ุชุบุฑ ูุงู)ุ **ููู ฺุชโูุง** ุฏูุจุงุฑู ุฏุฑ IndexedDB ููุดุชู ูโุดูุ ฺฉู ุจููู ูุณุช.
    - ูุชุฏูุง ุชุงุฒู ุจุฑุง ุจุฑูุฒุฑุณุงู ู ุญุฐู ฺฉ ฺฏูพ ุงุฌุงุฏ ฺฉู.
    - ุฏูุช ฺฉู ฺฉู ุงู ฺฉุงุฑ ุฑุง ุฏุฑ ฺฉู ูพุฑูฺู ุงูุฌุงู ุจุฏ
    - ูุชุฏ ูุนู ุฑุง ูฺฏูุฏุงุฑ
2. ุงฺฏุฑ IndexedDB ุฏุฑ ูุฑูุฑฺฏุฑ ฺฉุงุฑุจุฑ ุบุฑูุนุงู ุจุงุดู ุง ุฎุทุง ุจุฏูุ ุจุฑูุงูู crash ูโฺฉูู.
     - ูพุงู ููุงุณุจ ุจุฑุง ุฎุทุงูุง ููุงุด ุจุฏู
3. ูุฏุฑุช ูุญุฏูุฏุช ุญุฌู (QuotaExceeded)ุ ุงฺฏุฑ ูุถุง ุฐุฎุฑูโุณุงุฒ ูุฑูุฑฺฏุฑ ูพุฑ ุจุดูุ ุฎุทุง QuotaExceeded ุฑุฎ ูโุฏู ู ฺฉุงุฑุจุฑ ูุชูุฌู ููโุดู.
    - ุจู ฺฉุงุฑุจุฑ ูุดุฏุงุฑ ููุงุด ุจุฏู: "ูุถุง ุฐุฎุฑูโุณุงุฒ ูุฑูุฑฺฏุฑ ูพุฑ ุงุณุช. ูุทูุงู ฺฏูพโูุง ูุฏู ุฑุง ุญุฐู ฺฉูุฏ."
    - ุจุฑุง ุฎุทุงูุง ุฏฺฏุฑ: log ฺฉู ู ุจู ฺฉุงุฑุจุฑ ุฎุทุง ุนููู ููุงุด ุจุฏู
    - ูุจู ุงุฒ ุฐุฎุฑูุ ุญุฌู ุชุฎูู ุฏุงุฏูโูุง ุฑุง ุจุฑุฑุณ ฺฉูุ ุงฺฏุฑ ุญุฌู ุจุด ุงุฒ 45 ูฺฏุงุจุงุช ุจูุฏ:
      - ฺฉ console.warn ููุงุด ุจุฏู: "ูุดุฏุงุฑ: ูุฒุฏฺฉ ุจู ุญุฏ ูุฌุงุฒ ุฐุฎุฑูโุณุงุฒ ูุณุชุฏ"
4. ูุฏุฑุช Concurrent Tabs (ุชุจโูุง ููุฒูุงู)ุ ุงฺฏุฑ ฺฉุงุฑุจุฑ ุฏู ุชุจ ุงุฒ ฺฏูฺฏ ุจุงุฒ ฺฉูู ู ุฏุฑ ฺฉ ฺฏูพ ุฌุฏุฏ ุจุณุงุฒูุ ุชุจ ุฏฺฏุฑ ูุชูุฌู ููโุดู.

ุฏูุช ฺฉู ูพุงูโูุง ุฎุทุง ุจุงุฏ ุจู ุฒุจุงู ูุงุฑุณ ู ูุงุจู ููู ุจุงุดู.

### ูพุฑุงููพุช ดฐ
ุงุฒุช ูโุฎูุงู ุจุฑุงุณุงุณ ุชุบุฑูุง ฺฉู ุฏุงุฏ ฺฉู ุณูุฏูุง ููุฑุฏ ูุงุฒ ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช ดฑ
ูโุฎูุงู ูฺฺฏ **ุจุงุฑฺฏุฐุงุฑ ุชุตูุฑ** ุฑุง ูพุงุฏูโุณุงุฒ ฺฉู:
1. **ุฏฺฉูู ุจุงุฑฺฏุฐุงุฑ:** ฺฉ ุฏฺฉูู ุจุง ุขฺฉูู "ฺฏุฑู ฺฉุงุบุฐ" (๐) ฺฉูุงุฑ ฺฉุงุฏุฑ ูุฑูุฏ ูุชู ุงุถุงูู ุจุดู.
2. **ุงูุชุฎุงุจ ูุงู:** ุจุง ฺฉูฺฉ ุฑู ุงู ุฏฺฉููุ ฺฉุงุฑุจุฑ ุจุชููู **ููุท ฺฉ ูุงู ุชุตูุฑ** (ูุซู PNG, JPG, GIF) ุงุฒ ฺฉุงููพูุชุฑุด ุงูุชุฎุงุจ ฺฉูู.
3. **ูุญุฏูุฏุช ุญุฌู:** ุงฺฏุฑ ุญุฌู ูุงู ุจุดุชุฑ ุงุฒ **ฑฐ ูฺฏุงุจุงุช** ุจูุฏุ ฺฉ ูพุงู ุฎุทุง ุจู ฺฉุงุฑุจุฑ ูุดูู ุจุฏู ู ูุงู ุฑู ูุจูู ูฺฉู.
4. **ูพุดโููุงุด:** ุจุนุฏ ุงุฒ ุงูุชุฎุงุจ ุชุตูุฑุ ฺฉ ูพุดโููุงุด ฺฉูฺฺฉ ุงุฒ ุงูู ุฒุฑ ฺฉุงุฏุฑ ูุชู ุธุงูุฑ ุจุดู. ฺฉูุงุฑ ุงู ูพุดโููุงุด ฺฉ ุฏฺฉูู "ุญุฐู" (โ) ูู ุจุงุดู ุชุง ฺฉุงุฑุจุฑ ุจุชููู ุงูุชุฎุงุจุด ุฑู ูุบู ฺฉูู.
5. **ุงุฑุณุงู ุจู ูุฏู:** ููุช ฺฉุงุฑุจุฑ ูพุงู ุฑู ุงุฑุณุงู ูโฺฉููุ ูู ูุชู ู ูู ุชุตูุฑ ุจุง ูู ุจุฑุง ูุฏู ููุด ูุตููุน ุงุฑุณุงู ุจุดู.
6. **ููุงุด ุฏุฑ ุชุงุฑุฎฺู:** ุฏุฑ ูพูุฌุฑู ฺุชุ ูพุงู ุงุฑุณุงู ุดุฏู ุจุงุฏ ูู ุชุตูุฑ ู ูู ูุชู ฺฉุงุฑุจุฑ ุฑู ููุงุด ุจุฏู.
7.  **ุฐุฎุฑูโุณุงุฒ:** ุชุตูุฑ ุจุงุฏ ููุฑุงู ุจุง ุชุงุฑุฎฺู ฺฏูุชฺฏู ุฐุฎุฑู ุจุดู ุชุง ุจุนุฏ ุงุฒ ุจุงุฒ ฺฉุฑุฏู ุฏูุจุงุฑู ุจุฑูุงููุ ุญุฐู ูุดู.
8.  ุฎุทุงูุง ุฑุง ุจู ุฏุฑุณุช ูุฏุฑุช ฺฉู ู ูพุงู ููุงุณุจ ุจู ฺฉุงุฑุจุฑ ููุงุด ุจุฏู
9.  ุนููฺฉุฑุฏ ูุจุงุฏ ุชุบุฑ ฺฉูุฏ - ฺฉุงุฑุจุฑ ููฺูุงู ูโุชูุงูุฏ ุจุฏูู ุชุตูุฑ ูู ูพุงู ุจูุฑุณุชู

**ุชูุฌู:** ุงู ูฺฺฏ ุจุงุฏ ุจุง ุณุงุฎุชุงุฑ ู ูุนูุงุฑ ูุนู ูพุฑูฺู ุณุงุฒฺฏุงุฑ ุจุงุดุฏ ู ุชุบุฑุงุช ูุงุฒู ุฏุฑ ุชูุงู ูุงูโูุง ุงุนูุงู ุจุดู.

### ูพุฑุงููพุช ดฒ
ุชุบุฑุงุช ุฒุฑ ุฑุง ุงูุฌุงู ุจุฏู:
1. ุงฺฏุฑ ุชุตูุฑ ุฏุฑ ูพุงูโูุง ุจู ุฏุฑุณุช ุจุงุฑฺฏุฐุงุฑ ูุดุฏ (ุฎุทุง load)ุ ุจู ุฌุง ุชุตูุฑ ฺฉ ูุชู "โ๏ธ ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุชุตูุฑ" ููุงุด ุจุฏู ุชุง ฺฉุงุฑุจุฑ ูุชูุฌู ูุดฺฉู ุจุดู.
2. ุฏุฑ ุชูุงู ุฌุงูุง ฺฉู ุงุฒ `message.image` ุงุณุชูุงุฏู ูโุดูุ ูุจูุด ฺฺฉ ฺฉู ฺฉู ูู `image.data` ู ูู  image.mimeType` ูุฌูุฏ ุฏุงุดุชู ุจุงุดู. ุงฺฏู ูุฏุงุดุชูุ ุชุตูุฑ ุฑู ูุงุฏุฏู ุจฺฏุฑ ู ููุท ูุชู ุฑู ููุงุด ุจุฏู.
3. ุงฺฏุฑ ุชุตูุฑ ุฏุฑ ุจุฎุด ูพุดโููุงุด (preview) ุจู ุฏุฑุณุช ุจุงุฑฺฏุฐุงุฑ ูุดุฏุ ูพุดโููุงุด ุฑู ุญุฐู ฺฉู ู ฺฉ ูพุงู ุฎุทุง ุจู ฺฉุงุฑุจุฑ ูุดูู ุจุฏู: "ุฎุทุง ุฏุฑ ููุงุด ูพุดโููุงุด ุชุตูุฑ"

### ูพุฑุงููพุช ดณ
ุงฺฏุฑ ฺฉุงุฑุจุฑ ุชุตูุฑ ุจุง ุญุฌู ุจุดุชุฑ ุงุฒ 2 ูฺฏุงุจุงุช ุงูุชุฎุงุจ ฺฉุฑุฏุ ูุจู ุงุฒ ุฐุฎุฑู ฺฉุฑุฏูุ ุงูู ุฑู ูุดุฑุฏูโุณุงุฒ ฺฉู:
- ุนุฑุถ ุชุตูุฑ ุฑู ุจู ุญุฏุงฺฉุซุฑ 1200 ูพฺฉุณู ฺฉุงูุด ุจุฏู (ุจุง ุญูุธ ูุณุจุช ุงุจุนุงุฏ)
- ฺฉูุช ุฑู ุจู 80% ุชูุธู ฺฉู

ุงู ฺฉุงุฑ ุจุงุนุซ ูุดู ุญุฌู ฺฉูุชุฑ ุฏุฑ ูพุงฺฏุงูโุฏุงุฏู ุฐุฎุฑู ุจุดู.

### ูพุฑุงููพุช ดด
ุณู ุจูุจูุฏ ุฌุฒุฆ ุจุฑุง ูุดุฑุฏูโุณุงุฒ ุชุตูุฑ:
1. GIFโูุง ุงููุดู ุฑู ูุดุฑุฏู ูฺฉูุ ฺูู ุงููุดูโุดูู ุงุฒ ุจู ูุฑู. ุงฺฏู ูุงู ุงุฒ ููุน image/gif ุจูุฏุ ุจุฏูู ูุดุฑุฏูโุณุงุฒ ุฐุฎุฑู ฺฉู.
2. ุชุตุงูุฑ ุนููุฏ (ูุซู 800ร2000) ูู ูุดุฑุฏู ุจุดู. ุงูุงู ููุท ุนุฑุถ ฺฺฉ ูุดูุ ุจุงุฏ ุจุฒุฑฺฏุชุฑู ุถูุน (ุนุฑุถ ุง ุงุฑุชูุงุน) ุฑู ุจู ุญุฏุงฺฉุซุฑ 1200 ูพฺฉุณู ูุญุฏูุฏ ฺฉู.
3. ุงฺฏู ุชุตูุฑ ุงุตู PNG ุจูุฏุ ุจุนุฏ ุงุฒ ูุดุฑุฏูโุณุงุฒ ูู PNG ูฺฏูุด ุฏุงุฑ (ูู JPEG)ุ ฺูู ฺฉูุช ุจูุชุฑ ุฏุงุฑู.

### ูพุฑุงููพุช ดต
ุฏุฑ ูุงู Gemini Providerุ ููุช ุฎุทุง ุฑุฎ ูุฏูุ ุณุน ฺฉู ูพุงู ุฎุทุง ุฏูู ุฑู ุงุฒ `response.json()` ุจุฎูู ู ุจู ฺฉุงุฑุจุฑ ูุดูู ุจุฏ. ุงฺฏู ูุชููุณุชุ ูููู ูพุงู ูพุดโูุฑุถ ุฑู ููุงุด ุจุฏู.

(ุฏููุงู ูุซู OpenAI Provider ฺฉู ฺฉ ุชุงุจุน `getOpenAIErrorMessage` ุฏุงุฑู)

### ูพุฑุงููพุช ดถ
ฺฉุงุฑูุง ุฒุฑ ุฑุง ุงูุฌุงู ุจุฏู:
1. ููุช ุชุตูุฑ ุฏุฑ ูพุงูโูุง ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ุงุณุชุ ฺฉ ุงููุดู ููุฏูฺฏ (ูุซู ฺฉ ูุณุชุทู ุฎุงฺฉุณุชุฑ ุจุง ุงูฺฉุช shimmer) ููุงุด ุจุฏู. ููุช ุชุตูุฑ ฺฉุงูู ููุฏ ุดุฏุ ุงููุดู ุฑู ุญุฐู ฺฉู.
2. ููุช ฺฉุงุฑุจุฑ ุฑู ุชุตูุฑ ุฏุฑ ูพุงูโูุง ฺฉูฺฉ ูโฺฉููุ ุชุตูุฑ ุฑู ุฏุฑ ฺฉ ููุง ุชูุงูโุตูุญู (ุจุง ูพุณโุฒููู ุชุฑู) ููุงุด ุจุฏู. ุจุง ฺฉูฺฉ ุฏูุจุงุฑู ุฑู ูพุณโุฒูููุ ููุง ุจุฒุฑฺฏ ุจุณุชู ุจุดู.
3. ุฏุฑ OpenAI Providerุ ุงฺฏุฑ ฺฉุงุฑุจุฑ ููุท ุชุตูุฑ ูุฑุณุชุงุฏู ู ูุชู ูุฏุงุดุชูุ ุจุฎุด text ุฑู ุงุตูุงู ุจู API ููุฑุณุช. ููุท ุจุฎุด image_url ุฑู ุจูุฑุณุช.

### ูพุฑุงููพุช ดท
ูโุฎูุงู ููุงุด ุชูุงู ุตูุญู ุนฺฉุณ ุจุง ุฏฺฉูู Esc ูู ุจุณุชู ุจุดู.

### ูพุฑุงููพุช ดธ
ุงุฒุช ูโุฎูุงู ุจุฑุงุณุงุณ ุชุบุฑุงุช ฺฉู ุฏุงุฏ ู ูฺฺฏ ุจุงุฑฺฏุฐุงุฑ ุชุตูุฑุ ุชูุงู ุณูุฏูุง ุฑุง ุจุฑูุฑุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช ดน
ูโุฎูุงู ฺฉ ุฏฺฉูู ุฑูููุดุช (Copy) ฺฉูุงุฑ ูุฑ ูพุงู ุงุถุงูู ฺฉู:
1. ฺฉูุงุฑ ูุฑ ูพุงู (ฺฉุงุฑุจุฑ ู ูุฏู) ฺฉ ุฏฺฉูู ฺฉูฺฺฉ ุจุง ุขฺฉูู "ุฑูููุดุช" ุงุถุงูู ุจุดู.
2. ุงู ุฏฺฉูู ููุท ุฏุฑ ุญุงูุช hover ููุงุด ุฏุงุฏู ุจุดู.
3. ููุช ฺฉุงุฑุจุฑ ฺฉูฺฉ ูโฺฉูู:
   - ูุชู ูพุงู (message.content) ุฑูููุดุช ุจุดู
   - ฺฉ ุขฺฉูู "โ" ุจุง ุฑูฺฏ ุณุจุฒ ุจุฑุง ณ ุซุงูู ููุงุด ุฏุงุฏู ุจุดู
4. ุจุฑุง ูพุงูโูุง ูุฏู ฺฉู Markdown ุฏุงุฑูุ ูุชู ุงุตู (ูุจู ุงุฒ render) ฺฉูพ ุจุดู.

### ูพุฑุงููพุช ตฐ
ุขฺฉูู ููุงุด ุฑูููุดุช ุฏุฑ ฺฉูุงุฑ ูพุงู ฺฉุงุฑุจุฑ ููุงุด ุฏุงุฏู ููโุดู ู ุจู ุณูุช ฺูพ ุตูุญู ููุงุด ุฏุงุฏู ูโุดู.

 ### ูพุฑุงููพุช ตฑ
 ูโุฎูุงู ุจู ูุฑ ูพุงู ฺฉ ุดูุงุณู ฺฉุชุง (ID) ุงุถุงูู ฺฉู:
1. ูุฑ ูพุงู ฺฉู ุณุงุฎุชู ูโุดู (ฺู ุงุฒ ฺฉุงุฑุจุฑุ ฺู ุงุฒ ูุฏู) ุจุงุฏ ฺฉ ููุฏ id ุฏุงุดุชู ุจุงุดู ฺฉู ฺฉ ุฑุดุชู ฺฉุชุง ุจุงุดู.
2. ูุฑูุช ID: "msg_" + ุฒูุงู ูุนู + ฺฉ ุนุฏุฏ ุชุตุงุฏู (ูุซุงู: msg_1704567890123_abc123)
3. ุงู ID ุจุงุฏ ุฏุฑ ุชูุงู ุฌุงูุง ฺฉู ูพุงู ุณุงุฎุชู ูโุดู ุงุถุงูู ุจุดู:
   - ุฏุฑ chatEngine.js ููุช ูพุงู ฺฉุงุฑุจุฑ ุณุงุฎุชู ูโุดู
   - ุฏุฑ chatEngine.js ููุช ูพุงู ูุฏู ุณุงุฎุชู ูโุดู
   - ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ูพุงูโูุง ุงุฒ storage (ุงฺฏู ID ูุฏุงุดุชูุ ฺฉ ุจูุดูู ุจุฏู)
4. ุฏุฑ ฺฉุฏูุง UI ฺฉู ุงุฒ ูพุงู ุงุณุชูุงุฏู ูโฺฉููุ ุงุฒ message.id ุงุณุชูุงุฏู ฺฉู (ูุซูุงู ุฏุฑ ุฏฺฉูู Copy ุจู ุฌุง ุงูฺฉู ฺฉู ุขุจุฌฺฉุช message ุฑู ูพุงุณ ุจุฏูุ ููุท message.id ุฑู ูพุงุณ ุจุฏู)
5. ุชูุงู ูพุงูโูุง ุจุงุฏ ฺฉ ููุฏ timestamp ูู ุฏุงุดุชู ุจุงุดู ฺฉู ุฒูุงู ุงุฌุงุฏ ูพุงู ุฑู ูุดูู ุจุฏู.
ุชูุฌู: ุงู ุชุบุฑ ูุจุงุฏ ุนููฺฉุฑุฏ ูุนู ุจุฑูุงูู ุฑู ุฎุฑุงุจ ฺฉููุ ููุท ฺฉ ููุฏ ุงุถุงู ุจู ูพุงูโูุง ุงุถุงูู ูโฺฉูู.

### ูพุฑุงููพุช ตฒ
ฺฉุฏ ูุฑุจูุท ุจู ููุงุฌุฑุช ูพุงูโูุง ูุฏู (migration) ุฑู ุญุฐู ฺฉู:

ุฏุฑ chatEngine.jsุ ุจุฎุด ฺฉู ูพุงูโูุง ุจุฏูู ID ุง timestamp ุฑู ฺฺฉ ูโฺฉูู ู ุจูุดูู ID ู timestamp ูโุฏู ุฑู ฺฉุงููุงู ุญุฐู ฺฉู. ุงุฒ ุงู ุจู ุจุนุฏุ ููู ูพุงูโูุง ุงุฒ ุงูู ID ู timestamp ุฏุงุฑูุ ูพุณ ูุงุฒ ุจู ฺฺฉ ฺฉุฑุฏู ู ุงุถุงูู ฺฉุฑุฏู ูุณุช.

### ูพุฑุงููพุช ตณ
ูโุฎูุงู ูุณุชู ChatEngine ุฑู ูุณุชูู ุงุฒ IndexedDB ฺฉู ุชุง ุจุดู ุฏุฑ ูุฑ ูุญุท (ูุฑูุฑฺฏุฑุ Node.jsุ React Native ู...) ุงุณุชูุงุฏู ฺฉุฑุฏ:
1. ChatEngine ูุจุงุฏ ูุณุชููุงู ุงุฒ storageService ุงุณุชูุงุฏู ฺฉูู. ุจู ุฌุงุดุ ฺฉ ุขุจุฌฺฉุช storage ุงุฒ ุจุฑูู ุฏุฑุงูุช ฺฉูู.
2. ุฏุฑ constructor ฺฉ ูพุงุฑุงูุชุฑ options ุงุถุงูู ฺฉู ฺฉู storage ุฑู ุงุฒ ุงูู ุฏุฑุงูุช ฺฉูู. ุงฺฏู storage ุฏุงุฏู ูุดุฏุ ุงุฒ ฺฉ ุญุงูุธู ูููุช (MemoryStorage) ุงุณุชูุงุฏู ฺฉูู.
3. ุชูุงู ุฌุงูุง ฺฉู ุงุฒ Storage.loadSettings() ุง Storage.saveChat() ู... ุงุณุชูุงุฏู ุดุฏูุ ุจู this.storage.loadSettings() ุง this.storage.saveChat() ุชุจุฏู ุจุดู.
4. ฺฉ ูุงู memoryStorage.js ุฏุฑ ูพูุดู services ุจุณุงุฒ ฺฉู ฺฉ ุฐุฎุฑูโุณุงุฒ ูููุช ุฏุฑ ุญุงูุธู ุจุงุดู (ุจุฑุง ุชุณุช ุง ูุญุทโูุง ฺฉู IndexedDB ูุฏุงุฑู).
5. ุงู ูุงู ุจุงุฏ ุชูุงู ูุชุฏูุง storageService ุฑู ุฏุงุดุชู ุจุงุดู (loadSettingsุ  saveSettingsุ loadAllChatsุ saveChatุ deleteChatById) ุงูุง ุฏุงุฏูโูุง ุฑู ุฏุฑ ฺฉ ุขุจุฌฺฉุช ุฌุงูุงุงุณฺฉุฑูพุช ุณุงุฏู ูฺฏู ุฏุงุฑู.
6. ุฏุฑ main.jsุ ฺฉ ููููู ุงุฒ IndexedDB storage ุจุณุงุฒ ู ุงูู ุฑู ุจู ChatEngine ูพุงุณ ุจุฏู.

**ุชูุฌู:**
- ุงู ุชุบุฑ ูุจุงุฏ ุนููฺฉุฑุฏ ูุนู ุจุฑูุงูู ุฏุฑ ูุฑูุฑฺฏุฑ ุฑู ุชุบุฑ ุจุฏู
- ููุท ุจุงุนุซ ูุดู ุจุดู storage ุฑู ุงุฒ ุจุฑูู ุชุฒุฑู ฺฉุฑุฏ
- ููู ฺุฒ ุจุงุฏ ูุซู ูุจู ฺฉุงุฑ ฺฉูู

### ูพุฑุงููพุช ตด
ุจุง ุชูุฌู ุจู ุชุบุฑูุง ฺฉู ุชุง ุงูู ุงูุฌุงู ุฏุงุฏ ุณูุฏูุง ููุฑุฏ ูุงุฒ ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู ู ฺฉ ุณูุฏ ุฌุฏุฏ ุจุง ูุงู storageAdaptorGuide.md ุงุฌุงุฏ ฺฉู ุดุงูู ููุงุฑุฏ ุฒุฑ ุจุงุดู:
- ุชูุถุญ API ูุงุฒู (5 ูุชุฏ ุงุตู)
- ูุซุงู MemoryStorage
- ูุซุงู IndexedDB
- ูุซุงู FileSystem ุจุฑุง Node.js
- ูฺฉุงุช ููู

### ูพุฑุงููพุช ตต
ูโุฎูุงู ุณุณุชู ูุฏุฑุช Providerโูุง ุฑู ุจูุจูุฏ ุจุฏ ุชุง ุจุชููู ุจู ุฑุงุญุช Provider ุฌุฏุฏ ุงุถุงูู ฺฉูู ุจุฏูู ุงูฺฉู ฺฉุฏ ูุณุชู ChatEngine ุฑู ุชุบุฑ ุจุฏู:
1. ChatEngine ูุจุงุฏ ูุณุชููุงู Providerโูุง ุฑู import ฺฉูู. ุจู ุฌุงุดุ ฺฉ Map ุฎุงู ุจุฑุง providers ุฏุงุดุชู ุจุงุดู.
2. ฺฉ ูุชุฏ registerProvider(name, handler) ุจู ChatEngine ุงุถุงูู ฺฉู ฺฉู ุจุชููู Provider ุฌุฏุฏ ุซุจุช ฺฉูู.
3. ุฏุฑ constructorุ ุงฺฏู ุฏุฑ options ฺฉ ูุณุช providers ุฏุงุฏู ุดุฏูุ ุงููโูุง ุฑู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุซุจุช ฺฉูู.
4. ุฏุฑ main.jsุ Providerโูุง ููุฑุฏ ูุงุฒ (Geminiุ OpenAIุ Custom) ุฑู import ฺฉู ู ุจู ChatEngine ูพุงุณ ุจุฏู.
5. ูโุชููู ุจู ุฏู ุตูุฑุช ุจุงุดู:
   - ุง ููู ุฑู ุฏุฑ constructor ูพุงุณ ุจุฏู
   - ุง ุจุนุฏ ุงุฒ ุณุงุฎุช engineุ ุจุง registerProvider ุซุจุช ฺฉูู

**ูุชุฌู:**
- ุงฺฏู ฺฉุณ ููุท ุงุฒ Gemini ุงุณุชูุงุฏู ูโฺฉููุ ููุท ุงูู ุฑู import ฺฉูู
- ุงฺฏู ฺฉุณ Provider ุฌุฏุฏ ูโุฎูุงุฏ ุจููุณู (ูุซู Anthropic)ุ ููุท 
  registerProvider ุตุฏุง ุจุฒูู
- ฺฉุฏ ูุณุชู ChatEngine ุฏฺฏู ุจู ูฺ Provider ุฎุงุต ูุงุจุณุชู ูุณุช

ุชูุฌู: ุงู ุชุบุฑ ูุจุงุฏ ุนููฺฉุฑุฏ ูุนู ุฑู ุฎุฑุงุจ ฺฉูู.

### ูพุฑุงููพุช ตถ
ุจุฑุง ุงุฌุงุฏ ฺฉ ูุฑุงููโฺฉููุฏู ูุฏู ููุด ูู ฺฉ ุณูุฏ ุฎูุจ ู ฺฉุงูู ุจููุณ.

### ูพุฑุงููพุช ตท
ูโุฎูุงู ุชูุงู ุงุนุฏุงุฏ ู ุฑุดุชูโูุง ุซุงุจุช (Magic Numbers ู Strings) ฺฉู ุฏุฑ ฺฉุฏูุง ูพุฑุงฺฉูุฏู ูุณุชู ุฑู ุฏุฑ ฺฉ ูุงู constants.js ุฌูุน ฺฉู:
1. ฺฉ ูุงู js/utils/constants.js ุจุณุงุฒ.
2. ุชูุงู ุงู ููุงุฏุฑ ุฑู ุฏุฑ ุงูู ูุงู ุชุนุฑู ฺฉู ู export ฺฉู:
   - ูุญุฏูุฏุชโูุง ูุงู (ุญุฏุงฺฉุซุฑ ุญุฌู 10MBุ ุขุณุชุงูู ูุดุฑุฏูโุณุงุฒ 2MB)
   - ุชูุธูุงุช ุชุตูุฑ (ุญุฏุงฺฉุซุฑ ุงุจุนุงุฏ 1200ุ ฺฉูุช ูุดุฑุฏูโุณุงุฒ 0.8)
   - ุฒูุงูโูุง UI (ูุฏุช ููุงุด ูพุงู ฺฉูพ ุดุฏ 3000msุ ูุฏุช ููุงุด ุฎุทุง 5000ms)
   - ูุงู ฺฉุงูุงู ููฺฏุงูโุณุงุฒ ('goug-chat-sync')
   - Timeout ุฏุฑุฎูุงุณุชโูุง API (30000ms)
3. ุงู ููุงุฏุฑ ุฑู ุฏุฑ ุฏุณุชูโุจูุฏโูุง ููุทู ูุฑุงุฑ ุจุฏู (ูุซูุงู FILE_LIMITSุ IMAGE_SETTINGSุ UI_TIMEOUTSุ API_CONFIG).
4. ุฏุฑ ุชูุงู ูุงูโูุง ฺฉู ุงุฒ ุงู ููุงุฏุฑ ุซุงุจุช ุงุณุชูุงุฏู ูโฺฉููุ constants.js ุฑู import ฺฉู ู ุจู ุฌุง ุนุฏุฏ ุง ุฑุดุชู ูุณุชููุ ุงุฒ constant ุงุณุชูุงุฏู ฺฉู.
ุชูุฌู: ููุท ููุงุฏุฑ ุซุงุจุช ู ูุงุจู ุชูุธู ุฑู ููุชูู ฺฉูุ ูู ฺุฒูุง ฺฉู ูุญุงุณุจู ูโุดู ุง ูพูุง ูุณุชู.

### ูพุฑุงููพุช ตธ
ูโุฎูุงู ุงุนุชุจุงุฑุณูุฌ (Validation) ุจุฑุง ูุฑูุฏโูุง ฺฉุงุฑุจุฑ ุงุถุงูู ฺฉู ุชุง ุงุฒ ุฎุทุงูุง ู ูุดฺฉูโูุง ุงุญุชูุงู ุฌููฺฏุฑ ุจุดู:
1. ุจุฑุฑุณ ฺฉู ฺฉู userInput ุงฺฏู ูุฌูุฏ ุฏุงุฑูุ ุญุชูุงู ุงุฒ ููุน string ุจุงุดู.
2. ุจุฑุฑุณ ฺฉู ฺฉู ุทูู ูุชู ุงุฒ ฺฉ ุญุฏ ูุดุฎุต (ูุซูุงู 50000 ฺฉุงุฑุงฺฉุชุฑ) ุจุดุชุฑ ูุจุงุดู. ุงฺฏู ุจุดุชุฑ ุจูุฏุ ฺฉ ูพุงู ุฎุทุง ููุงุด ุจุฏู.
3. ุจุฑุฑุณ ฺฉู ฺฉู ุงฺฏู image ุฏุงุฏู ุดุฏูุ ุญุชูุงู ุฏุงุฑุง ููุฏูุง data ู mimeType ุจุงุดู. ุงฺฏู ุณุงุฎุชุงุฑ ุฏุฑุณุช ูุจูุฏุ ฺฉ ูพุงู ุฎุทุง ููุงุด ุจุฏู.
4. ุจุฑุฑุณ ฺฉู ฺฉู ุญุฏุงูู ฺฉ ุงุฒ userInput (ุจุง ูุญุชูุง) ุง image ูุฌูุฏ ุฏุงุดุชู ุจุงุดู.
5. ุฏุฑ ูุฑุงุด ูุงู ุจุฑุฑุณ ฺฉู ฺฉู newTitle ฺฉ ุฑุดุชู ุจุงุดู ู ุฎุงู ูุจุงุดู.
6. ุฏุฑ ูุฑุงุด ูุงู ุจุฑุฑุณ ฺฉู ฺฉู ุทูู newTitle ุงุฒ ุญุฏ ูุนููู (ูุซูุงู 100 ฺฉุงุฑุงฺฉุชุฑ) ุจุดุชุฑ ูุจุงุดู.
7. ุงู ูุญุฏูุฏุชโูุง ุฑู ุจู ูุงู constants.js ุงุถุงูู ฺฉู:
   - ุญุฏุงฺฉุซุฑ ุทูู ูุชู ูพุงู (50000 ฺฉุงุฑุงฺฉุชุฑ)
   - ุญุฏุงฺฉุซุฑ ุทูู ูุงู ฺฏูพ (100 ฺฉุงุฑุงฺฉุชุฑ)

**ูฺฉุชูโูุง:**
- ููู ุจุฑุฑุณโูุง ุจุงุฏ ูุจู ุงุฒ ุงูฺฉู ุนููุงุช ุงุตู ุงูุฌุงู ุจุดูุ ุงุฌุฑุง ุจุดู
- ูพุงูโูุง ุฎุทุง ุจุงุฏ ูุงุฑุณ ู ูุงุถุญ ุจุงุดู
- ุงุฒ emit('error', ...) ุจุฑุง ููุงุด ุฎุทุง ุงุณุชูุงุฏู ฺฉู
- ุนููฺฉุฑุฏ ุนุงุฏ ุจุฑูุงูู ูุจุงุฏ ุชุบุฑ ฺฉูู

### ูพุฑุงููพุช ตน
ูโุฎูุงู ูุฏุฑุช ุฎุทุงูุง (Error Handling) ุฑู ุจูุจูุฏ ุจุฏ ุชุง ุจุฑูุงูู ุฏุฑ ููุงุฌูู ุจุง ุฎุทุงูุง ุฐุฎุฑูโุณุงุฒ ููโุชุฑ ู ูุงุจู ุงุนุชูุงุฏุชุฑ ุจุดู. ููุช ุฐุฎุฑูโุณุงุฒ (Storage) ุจุง ุฎุทุง ููุงุฌู ูุดูุ ููุท ฺฉ ูพุงู ุฎุทุง ููุงุด ุฏุงุฏู ูโุดู ุงูุง ุฏุงุฏู ุงุฒ ุฏุณุช ูุฑู.
1. **Retry Logic ุจุฑุง ุฐุฎุฑูโุณุงุฒ:** ฺฉ ูุชุฏ ฺฉูฺฉ ุจู ูุงู saveWithRetry ุฏุฑ chatEngine ุจุณุงุฒ ฺฉู:
   - ุชุง 3 ุจุงุฑ ุชูุงุด ฺฉูู ูุงู ุฑู ุฐุฎุฑู ฺฉูู
   - ุจู ูุฑ ุชูุงุดุ 1 ุซุงูู ุตุจุฑ ฺฉูู
   - ุงฺฏู ุจุนุฏ ุงุฒ 3 ุจุงุฑ ูููู ูุดุฏุ ุฎุทุง ุฑู emit ฺฉูู
2. **ุฐุฎุฑู ูููุช ุฏุฑ ุตูุฑุช ุดฺฉุณุช:** ุงฺฏู ุฐุฎุฑูโุณุงุฒ ฺฉุงููุงู ูุงูููู ุจูุฏ:
   - ฺฉ ุขุฑุงู unsavedChats ุฏุฑ chatEngine ุจุณุงุฒ
   - ฺฏูพโูุง ุฐุฎุฑู ูุดุฏู ุฑู ุฏุฑ ุงูู ุขุฑุงู ูฺฏูโุฏุงุฑ
   - ฺฉ ูพุงู ูุดุฏุงุฑ ููุงุด ุจุฏู: "ุฐุฎุฑูโุณุงุฒ ูุงูููู ุจูุฏ. ูุทูุงู ุตูุญู ุฑุง ุจุงุฒูุดุงู ูฺฉูุฏ!"
3. **ุชูุงุด ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ:** ฺฉ ูุชุฏ retryUnsavedChats ุจุณุงุฒ ฺฉู:
   - ูุฑ 10 ุซุงูู ฺฉุจุงุฑ ฺฏูพโูุง unsaved ุฑู ุฏูุจุงุฑู ุณุน ฺฉูู ุฐุฎุฑู ฺฉูู
   - ุงฺฏู ูููู ุดุฏุ ุงุฒ ุขุฑุงู unsaved ุญุฐูุดูู ฺฉูู
   - ฺฉ ูพุงู ููููุช ููุงุด ุจุฏู
4. **ุงุถุงูู ฺฉุฑุฏู ุจู constants.js:**
   - MAX_SAVE_RETRIES: 3
   - SAVE_RETRY_DELAY_MS: 1000
   - UNSAVED_RETRY_INTERVAL_MS: 10000
5. **ุงุณุชูุงุฏู ุฏุฑ ุฌุงูุง ููุงุณุจ:** ุฏุฑ ูุชุฏูุง ุฒุฑ ุงุฒ saveWithRetry ุงุณุชูุงุฏู ฺฉู:
   - sendMessage (ุฐุฎุฑู ฺฏูพ ุจุนุฏ ุงุฒ ูพุงุณุฎ)
   - startNewChat
   - renameChat

**ูฺฉุชูโูุง:**
- ุงู ุชุบุฑุงุช ูุจุงุฏ ุนููฺฉุฑุฏ ุนุงุฏ ุฑู ุฎุฑุงุจ ฺฉูู
- ูพุงูโูุง ุฎุทุง ู ูุดุฏุงุฑ ุจุงุฏ ูุงุถุญ ู ูุงุฑุณ ุจุงุดู
- ฺฉุงุฑุจุฑ ุจุงุฏ ุจูููู ฺู ุงุชูุงู ุงูุชุงุฏู

### ูพุฑุงููพุช ถฐ
ูโุฎูุงู Type Safety ุฑู ุจุง JSDoc ุจู ูพุฑูฺู ุงุถุงูู ฺฉู ุชุง IDE ุจุชููู ฺฉูฺฉ ุจูุชุฑ ุจู ุชูุณุนูโุฏููุฏฺฏุงู ุจุฏู:
1. ฺฉ ูุงู js/types.js ุจุณุงุฒ ฺฉู ุดุงูู ุชุนุฑู ุชูุงู Typeโูุง ุงุตู ูพุฑูฺู ุจุงุดู:
   - Message (ูพุงู)
   - ImageData (ุฏุงุฏู ุชุตูุฑ)
   - Chat (ฺฏูุชฺฏู)
   - Settings (ุชูุธูุงุช)
   - StorageAdapter (ูุงุณุท ุฐุฎุฑูโุณุงุฒ)
   - ProviderHandler (ุชุงุจุน ูุฏุฑุช Provider)
2. ุงุฒ @typedef ุจุฑุง ุชุนุฑู ุณุงุฎุชุงุฑ ูุฑ ฺฉ ุงุณุชูุงุฏู ฺฉู.
3. ุชูุงู ููุฏูุง ุฑู ุจุง ููุน ุฏููุดูู ูุดุฎุต ฺฉู (string, number, Object ู...).
4. ููุฏูุง ุงุฎุชุงุฑ ุฑู ุจุง [ูุงู_ููุฏ] ูุดุฎุต ฺฉู.
5. ุฏุฑ ูุงูโูุง ุงุตู (chatEngine.jsุ messageRenderer.jsุ chatUI.js)ุ ุจู ุชูุงุจุน ููู JSDoc ุงุถุงูู ฺฉู ฺฉู ุดุงูู:
   - ุชูุถุญ ูุฎุชุตุฑ ุชุงุจุน
   - @param ุจุฑุง ูุฑ ูพุงุฑุงูุชุฑ (ุจุง ููุน ุงุฒ types.js)
   - @returns ุจุฑุง ููุฏุงุฑ ุจุฑฺฏุดุช
6. ููุท ุชูุงุจุน public (ุนููู) ุฑู ูุณุชูุฏ ฺฉูุ ูู ุชูุงุจุน ฺฉูฺฉ ฺฉูฺฺฉ.

**ูฺฉุชูโูุง:**
- ุงุฒ ุฒุจุงู ูุงุฑุณ ุจุฑุง ุชูุถุญุงุช ุงุณุชูุงุฏู ฺฉู
- ูุฎุชุตุฑ ู ููุฏ ุจููุณ
- ูุงุฒ ุจู ุชุบุฑ ููุทู ฺฉุฏ ูุณุชุ ููุท ูุณุชูุฏุณุงุฒ

### ูพุฑุงููพุช ถฑ
ูโุฎูุงู ฺฉ ูุดุฏุงุฑ ุงููุช ุจู ูุฏุงู ูุฏุฑุช ฺฉูุฏูุง ุงุถุงูู ฺฉู:
1. ุฏุฑ ูุฑู ุชูุธูุงุชุ ฺฉ ุจุฎุด "ูฺฉุงุช ุงููุช" ุงุถุงูู ฺฉู ฺฉู ุดุงูู:
   - ุขฺฉูู ูุดุฏุงุฑ (โ๏ธ)
   - ูุชู: "ฺฉูุฏ API ุดูุง ููุท ุฏุฑ ูุฑูุฑฺฏุฑ ุดูุง ุฐุฎุฑู ูโุดูุฏ"
   - ูุณุช ุชูุตูโูุง (ุงุณุชูุงุฏู ุงุฒ ุฏุณุชฺฏุงู ุดุฎุตุ ุชูุธู ูุญุฏูุฏุช ู...)
   - ฺฉ checkbox ุจุง ุจุฑฺุณุจ "ููุท ุจุฑุง ุงู ูุดุณุช"
2. ุงฺฏุฑ checkbox ูุนุงู ุจูุฏ:
   - ฺฉูุฏ API ุฏุฑ chatEngine ุฐุฎุฑู ุจุดู ุงูุง ุจู Storage ุงุฑุณุงู ูุดู
   - ุนู ููุท ุฏุฑ RAM ุจุงู ุจูููู ู ุจุนุฏ ุงุฒ refresh ูพุงฺฉ ุจุดู
3. ูพุงู ูุงุถุญ ู ูุงุฑุณ ุจุงุดูุ ุจุง ุทุฑุงุญ ุณุงุฏู ู ูุงุจู ููู.

**ูฺฉุชู:** ุงู ููุท ุจุฑุง Web App ูุณุชุ ูู ุจุฎุด ุงุฒ ูุณุชู ChatEngine.

### ูพุฑุงููพุช ถฒ
ูโุฎูุงู ูุดฺฉู ุงุฑุณุงู ูพุงู ููุฒูุงู ุฑู ุจุฑุทุฑู ฺฉู: ุงูุงู ุงฺฏู ฺฉุงุฑุจุฑ ุฏุฑ ุญู ุฏุฑุงูุช ูพุงุณุฎุ Enter ุจุฒููุ ูุชู ุงุฒ input ูพุงฺฉ ูโุดู ุงูุง ูพุงู ุงุฑุณุงู ููุดู.
1. ุฏุฑ chatUI.js ุฏุฑ ูุชุฏ handleSendMessageุ ูุจู ุงุฒ ูุฑ ฺฉุงุฑ ฺฺฉ ฺฉู ฺฉู ุขุง engine.isLoading ูุณุช ุง ูู.
2. ุงฺฏู isLoading ุจูุฏ:
   - ูฺ ฺฉุงุฑ ุงูุฌุงู ูุฏู (ูุชู ุฏุฑ input ุจูููู)
   - return ฺฉู (ุงุฏุงูู ูุฏู)
3. ููุท ุงฺฏู isLoading ูุจูุฏุ ุงุฏุงูู ุจุฏู ู ูพุงู ุฑู ุจูุฑุณุช ู input ุฑู ูพุงฺฉ ฺฉู.
4. ููู ููุทู ุฑู ุจุฑุง event listener ฺฉูุฏ Enter ูู ุงุนูุงู ฺฉู.

**ูฺฉุชู:** ุงู ฺฉ ุฌููฺฏุฑ ุณุงุฏู ุงุฒ spam ุงุณุชุ ูู ฺฉ Rate Limiting ูพฺุฏู.

### ูพุฑุงููพุช ถณ
ูโุฎูุงู chatEngine.js ุฑู ุจุงุฒุณุงุฒ ฺฉู ู ุจู ูุงฺููโูุง ฺฉูฺฺฉุชุฑ ุชูุณู ฺฉู:
1. ูุฏุฑุช ฺุชโูุง
2. ูุฏุฑุช ุงุฑุณุงู ูพุงู
3. ูุฏุฑุช ุฐุฎุฑูโุณุงุฒ ููุดููุฏ
4. ููฺฏุงูโุณุงุฒ ุจู ุชุจโูุง
5. ูุงู ุงุตู ููุท ููุงููฺฏ ุฑุง ุงูุฌุงู ุจุฏู

**ูุฏู:** ูุฑ ูุงู ุญุฏุงฺฉุซุฑ 200 ุฎุท ู ฺฉ ูุณุฆููุช ูุดุฎุต ุฏุงุดุชู ุจุงุดู.

- ูุฑ ูุงฺูู ุจุงุฏ constructor ุจฺฏุฑู ฺฉู chatEngine ุฑู ุฏุฑุงูุช ฺฉูู
- ุงุฒ this.engine ุจุฑุง ุฏุณุชุฑุณ ุจู ฺุฒูุง ูุดุชุฑฺฉ ุงุณุชูุงุฏู ฺฉูู
- Eventโูุง ุงุฒ ุทุฑู chatEngine emit ุจุดู
- JSDoc ฺฉุงูู ุจุฑุง ููู
- Import/Export ุตุญุญ
- ุญูุธ ุนููฺฉุฑุฏ ูุนู (Backward Compatible)
- ุณุงุฎุชุงุฑ ูพุดููุงุฏ:
```
js/core/
โโโ chatEngine.js (150 ุฎุท - Orchestrator)
โโโ modules/
```

### ูพุฑุงููพุช ถด
ูโุฎูุงู chatUI.js ุฑู ุจุงุฒุณุงุฒ ฺฉู: ุงุณุชุฎุฑุงุฌ ูุณุฆููุชโูุง ูุฎุชูู ุจู Componentโูุง ุฌุฏุงฺฏุงูู

1. ุจุงุฑฺฏุฐุงุฑ ูุงู
2. lightboxManager
3. inputManager
4. chatUI.js ุฌุฏุฏ:
    - ููุท orchestration
    - init components
    - bind events
    - updateChatView()
5. ุณุงุฎุชุงุฑ ุฌุฏุฏ:
```
js/ui/
โโโ chatUI.js (150 ุฎุท - Orchestrator)
โโโ components/
```

### ูพุฑุงููพุช ถต
ุฎุจ ูโุฎูุงู ุจุง ุชูุฌู ุจู ุชูุงู ุชุบุฑุงุช ฺฉู ุฏุงุฏ ุณูุฏูุง ููุฑุฏ ูุงุฒ ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช ถถ
ุฏุฑ ุญุงู ุญุงุถุฑุ ูุณุชู ุงุตู ุจุฑูุงูู (ChatEngine) ุจู ุทูุฑ ูุณุชูู ุจู ฺฉ ูุงู ุฐุฎุฑูโุณุงุฒ ุฎุงุต ูุงุจุณุชู ุงุณุช. ุงู ููุถูุน ุงูุนุทุงูโูพุฐุฑ ูุง ุฑุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุณุชู ุฏุฑ ูุญุทโูุง ูุฎุชูู ฺฉู ูโฺฉูู. ููฺูู ูุงู ูุงู `storageService.js` ุจู ุงูุฏุงุฒู ฺฉุงู ฺฏูุง ูุณุช.
1.  **ุดูุงูโุณุงุฒ ูุงู:** ูุงู ูุงู `js/services/storageService.js` ุฑุง ุจู `js/services/indexedDBStorage.js` ุชุบุฑ ุจุฏู ุชุง ูุดุฎุต ุจุดู ฺฉู ุงู ูุงู ูุฎุตูุต ุฐุฎุฑูโุณุงุฒ ุฏุฑ ูุฑูุฑฺฏุฑู. ูุทูุงู ูุฑุฌุง ฺฉู ุงุฒ ุงู ูุงู ุงุณุชูุงุฏู ุดุฏูุ ุขุฏุฑุณ ุขู ุฑุง ุงุตูุงุญ ฺฉู.
2.  **ุงุณุชููุงู ูุณุชู:** ูโุฎูุงูู `ChatEngine` ุจู ุทูุฑ ูพุดโูุฑุถ ุจู ูฺ ูุงู ุฐุฎุฑูโุณุงุฒ ูุงุจุณุชู ูุจุงุดู.
    - ุงฺฏุฑ ููฺฏุงู ุฑุงูโุงูุฏุงุฒุ ูุง ฺฉ **ุฑูุด ุฐุฎุฑูโุณุงุฒ ูุดุฎุต** (ูุซู `indexedDBStorage`) ุจู ุงูู ุจุฏูุ ุจุงุฏ ุงุฒ ูููู ุงุณุชูุงุฏู ฺฉูู (ูุซู ุงูุงู).
    - ุงฺฏุฑ ูฺ ุฑูุด ูุนุฑู ูุดุฏุ ุจุฑูุงูู ูุจุงุฏ ุฎุทุง ุจุฏู. ุฏุฑ ุนูุถุ ุจุงุฏ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุจู ฺฉ **ุญุงูุช ุญุงูุธู ูููุช** ุจุฑู ู ฺฉ **ูุดุฏุงุฑ ูุงุถุญ** ุฏุฑ ฺฉูุณูู ููุงุด ุจุฏู ฺฉู "ุฏุงุฏูโูุง ุฐุฎุฑู ูุฎูุงููุฏ ุดุฏ".

**ูุฏู ููุง:**
ฺฉ ุชูุณุนูโุฏููุฏู ุจุงุฏ ุจุชููู ูุณุชู `ChatEngine` ุฑุง ุจู ุชููุง ู ุจุฏูู ูุงุฒ ุจู ุชูุธูุงุช ูพฺุฏู ุงุฌุฑุง ฺฉููุ ุงูุง ุจุฑูุงูู ุงุตู ูุง ููฺูุงู ุจุงุฏ ุงุฒ ุฐุฎุฑูโุณุงุฒ ุฏุงุฆู `indexedDB` ุงุณุชูุงุฏู ฺฉูู.

### ูพุฑุงููพุช ถท
1. ุฏุฑ chatEngine.js:
   - import ูุณุชูู ุจู memoryStorage ุฑู ุญุฐู ฺฉู
   - ุจู ุฌุง ุงููุ ฺฉ ุชุงุจุน ุณุงุฏู ุฏุงุฎู ููู ูุงู ุจููุณ ฺฉู memory storage ุจุฑูโฺฏุฑุฏููู
   - ูุชู ูุดุฏุงุฑ ุฑู ฺฉุงููโุชุฑ ฺฉู ู ููฺฉ ุจู ูุณุชูุฏุงุช ุจุฏู
2. ุฏุฑ main.js:
   - ุจุงูุง ุฎุท import ุงุฒ IndexedDBStorageุ ฺฉ ฺฉุงููุช ุงุถุงูู ฺฉู
   - ุชูุถุญ ุจุฏู ฺฉู ฺุฑุง IndexedDB ุฑู ุจุฑุง ุงู ุจุณุชู ุงูุชุฎุงุจ ฺฉุฑุฏู

### ูพุฑุงููพุช ถธ
ูุฏู: ุงุถุงูู ฺฉุฑุฏู ุณุณุชู ูุญุฏูุฏุชโูุง ูุงุจู ูพฺฉุฑุจูุฏ ู ุฑูุน ูุดฺฉูุงุช Validation

ุจุฎุด ฑ: ุณุงุฎุชุงุฑ ุฌุฏุฏ Constants
1. ูุงู constants.js ุฑุง ุจู ุงู ุดฺฉู ุจุงุฒููุณ ฺฉู:
   - ฺฉ ุดุก DEFAULT_LIMITS ุจุง ุชูุงู ูุญุฏูุฏุชโูุง ูพุดโูุฑุถ
   - ฺฉ ุดุก PRESET_LIMITS ุจุง ด ูพุดโุชูุธู: web, ide, mobile, unlimited
   - ูุฑ preset ุดุงูู ูุญุฏูุฏุชโูุง ูุชูุงุณุจ ุจุง ูุญุท ุฎูุฏุด
2. ูุญุฏูุฏุชโูุง ููุฑุฏ ูุงุฒ:
   - ุทูู ูพุงูุ ุนููุงู ฺุชุ ุชุนุฏุงุฏ ฺุชุ ุชุนุฏุงุฏ ูพุงู ุฏุฑ ฺุช
   - ูุงู: ุญุฌู ุงุตูุ ุญุฌู ูุดุฑุฏู ุดุฏูุ ูุฑูุชโูุง ูุฌุงุฒุ ูพุณููุฏูุง ูุฌุงุฒ
   - ุชุตูุฑ: ุงุจุนุงุฏ ุงุตูุ ุงุจุนุงุฏ ููุงุ ฺฉูุช ูุดุฑุฏูโุณุงุฒุ ูุณุจุช ุงุจุนุงุฏ

ุจุฎุด ฒ: ุจูโุฑูุฒุฑุณุงู ChatEngine
1. ุฏุฑ constructor ฺฉ ูุชุฏ mergeLimits ุงุถุงูู ฺฉู ฺฉู:
   - ุงฺฏุฑ options.limits ฺฉ string ุจูุฏุ ุงุฒ PRESET ุงุณุชูุงุฏู ฺฉูู
   - ุงฺฏุฑ object ุจูุฏุ ุจุง DEFAULT ุชุฑฺฉุจ ฺฉูู
   - ูุชุฌู ุฑู ุฏุฑ this.limits ุฐุฎุฑู ฺฉูู
2. ุงู limits ุจุงุฏ ุจุฑุง ุชูุงู ูุงฺููโูุง ูุงุจู ุฏุณุชุฑุณ ุจุงุดู

ุจุฎุด ณ: ุงุนูุงู Validation ุฏุฑ FileManager
1. ุจุฑุฑุณ ูุฑูุช ูุงู:
   - ูู MIME type ู ูู extension ฺฺฉ ุจุดู
   - ุงุฒ ูุณุช ูุฌุงุฒ ุฏุฑ limits.file ุงุณุชูุงุฏู ฺฉูู
2. ุจุฑุฑุณ ุงุจุนุงุฏ ุงุตู ุชุตูุฑ:
   - ูุจู ุงุฒ ุดุฑูุน ูุดุฑุฏูโุณุงุฒุ width ู height ฺฺฉ ุจุดู
   - ุงฺฏุฑ ุจุดุชุฑ ุงุฒ limits.image.maxOriginalDimension ุจูุฏุ ุฎุทุง ุจุฏู
3. ุจุฑุฑุณ ูุณุจุช ุงุจุนุงุฏ:
   - ุงฺฏุฑ ุชุตูุฑ ุฎู ุจุงุฑฺฉ ุง ูพูู ุจูุฏุ ุฎุทุง ุจุฏู
   - ุงุฒ limits.image.maxAspectRatio ุงุณุชูุงุฏู ฺฉูู
4. ุจุฑุฑุณ ุญุฌู ุจุนุฏ ุงุฒ ูุดุฑุฏูโุณุงุฒ:
   - ุญุฌู Base64 ููุง ุฑู ูุญุงุณุจู ฺฉู
   - ุงฺฏุฑ ุจุดุชุฑ ุงุฒ limits.file.maxCompressedSizeBytes ุจูุฏุ ุฎุทุง ุจุฏู
5. ูุฏุฑุช ุญุงูุธู:
   - ุจุนุฏ ุงุฒ ุงุชูุงู ฺฉุงุฑุ canvas ู image ุฑู ูพุงฺฉ ฺฉู

ุจุฎุด ด: ุงุนูุงู Validation ุฏุฑ MessageHandler
1. ุทูู ูพุงู:
   - ุงุฒ limits.maxMessageLength ุงุณุชูุงุฏู ฺฉูู
2. ุชุนุฏุงุฏ ูพุงู ุฏุฑ ฺุช:
   - ุงฺฏุฑ limits.maxMessagesPerChat ูุงูุญุฏูุฏ ูุจูุฏุ ฺฺฉ ฺฉูู
   - ูพุงู ุฎุทุง ููุงุณุจ ูุดูู ุจุฏู
3. ุจุฑุฑุณ provider:
   - ูุจู ุงุฒ ุงุถุงูู ฺฉุฑุฏู ูพุงู ุจู historyุ ฺฺฉ ฺฉูู

ุจุฎุด ต: ุงุนูุงู Validation ุฏุฑ ChatManager
1. ุชุนุฏุงุฏ ฺุช:
   - ุฏุฑ startNewChat ุงฺฏุฑ limits.maxChats ูุงูุญุฏูุฏ ูุจูุฏุ ฺฺฉ ฺฉูู
2. ุชุบุฑ ูุงู ฺุช:
   - ุงฺฏุฑ chatId ุงูุช ูุดุฏุ ุฎุทุง ุจุฏู (ูู silent failure)
   - ุนููุงู ุฑู sanitize ฺฉู (ุญุฐู newlineุ null byteุ ูุงุตููโูุง ุงุถุงู)
3. ุชุบุฑ ฺุช ูุนุงู:
   - ุงูู ูุฌูุฏ chat ุฑู ุจุฑุฑุณ ฺฉูุ ุจุนุฏ activeChatId ุฑู ุชุบุฑ ุจุฏู

ุจุฎุด ถ: ุจูุจูุฏ InputManager
1. ุฏุฑ ูุชุฏ submit:
   - ุงฺฏุฑ ูู ูุชู ู ูู ุชุตูุฑ ุฎุงู ุจูุฏุ ฺุฒ ุงุฑุณุงู ูฺฉูู
   - ฺฉ ูุชุบุฑ isSubmitting ุงุถุงูู ฺฉู ุชุง ุฌูู ุงุฑุณุงู ุฏูุจุงุฑู ุฑู ุจฺฏุฑู

ุจุฎุด ท: ุญุฐู ูุญุฏูุฏุชโูุง ูุฏู
1. ุงุฒ constants.js ุงูโูุง ุฑู ุญุฐู ฺฉู:
   - FILE_LIMITS (ุฌุงฺฏุฒู ุดุฏู ุจุง limits.file)
   - IMAGE_SETTINGS (ุฌุงฺฏุฒู ุดุฏู ุจุง limits.image)
   - VALIDATION_LIMITS (ุฌุงฺฏุฒู ุดุฏู ุจุง limits)

2. ุณุงุฑ constant ูุง (API_CONFIG, UI_TIMEOUTS, ...) ุจุฏูู ุชุบุฑ ุจูููู


ูฺฉุชูโูุง:
- ูพุงูโูุง ุฎุทุง ุจู ูุงุฑุณ ู ูุงุถุญ
- ุชูุงู validation ูุง ุจุง limits ูุงุจู ูพฺฉุฑุจูุฏ ฺฉุงุฑ ฺฉูู

### ูพุฑุงููพุช ถน
ูุฏู: ุฑูุน ุจุงฺฏโูุง ุจุงูโูุงูุฏู ุฏุฑ ุณุณุชู validation
1. ุฑูุน ุจุงฺฏ wildcard ุฏุฑ fileManager.js: ุฏุฑ ูุชุฏ handleFileSelect
    - ฺฺฉ ฺฉุฑุฏู allowedExtensions ู allowedMimeTypes ุจุงุฏ wildcard ุฑู ูพุดุชุจุงู ฺฉูู
    - ุงฺฏุฑ ุขุฑุงู ุดุงูู '*' ุง '*/*' ุจูุฏุ ููู ูุฑูุชโูุง ูุฌุงุฒ ูุณุชู
    - ูฺฏุฑูู ุงุฒ includes ุงุณุชูุงุฏู ฺฉู
2 .ุฌููฺฏุฑ ุงุฒ ููุงุด Infinityุ ุฏุฑ fileManager.js:
    - ูุจู ุงุฒ ููุงุด ูพุงู ุฎุทุง ุญุฌู ูุงูุ ฺฺฉ ฺฉู ฺฉู limit ุจุฑุงุจุฑ Infinity ูุจุงุดู
    - ุนุฏุฏ ุฑู ุจุง toFixed(1) ููุงุด ุจุฏู
    - ุฏุฑ compressImage: ููู ฺฉุงุฑ ุจุฑุง ุญุฌู ูุดุฑุฏู ุดุฏู
3. ุงุถุงูู ฺฉุฑุฏู safety timeout ุฏุฑ inputManager.js ูุชุฏ submit:
    - ฺฉ setTimeout ุงุถุงูู ฺฉู ฺฉู ุจุนุฏ 30 ุซุงูู isSubmitting ุฑู false ฺฉูู
    - ุงู ฺฉ ุงูุฏุงู ุงูู ุจุฑุง ุญุงูุชโูุง ุงุณุชุซูุงโุณุช
4. ุจูุจูุฏ sanitizationุ ุฏุฑ chatManager.renameChat:
    - ุจุนุฏ ุงุฒ trim ู replaceุ ูุงุตูโูุง ูุชูุงู ุฑู ุจู ฺฉ ูุงุตู ุชุจุฏู ฺฉู
    - ฺฺฉ ฺฉู ุงฺฏุฑ ุจุนุฏ sanitize ุฎุงู ุดุฏุ ุฎุทุง ุจุฏู

ุงูุชุธุงุฑ:
- ุจุงฺฏ preset unlimited ุจุฑุทุฑู ุจุดู
- ูพุงูโูุง ุฎุทุง ููุดู ูุนููู ุจุงุดู
- UI ูฺ ููุช ููู ูุดู

### ูพุฑุงููพุช ทฐ
ูโุฎูุงู ุจุฑุง ูุญุฏูุฏุชโูุง ฺฉ ุณูุฏ ุฌุฏุงฺฏุงูู ุจููุณ.

### ูพุฑุงููพุช ทฑ
ุงฺฏุฑ ุณูุฏูุง ุฏฺฏู ูู ูุงุฒ ุจู ุจุฑูุฒุฑุณุงู ุฏุงุฑู ุงูุฌุงู ุจุฏู.

### ูพุฑุงููพุช ทฒ
ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
Error in listener for event "init": TypeError: can't access property "id", activeChat is undefined
    bindCoreEvents http://localhost:3000/js/ui/chatUI.js:103
    emit http://localhost:3000/js/core/eventEmitter.js:31
    emit http://localhost:3000/js/core/eventEmitter.js:29
    init http://localhost:3000/js/core/chatEngine.js:146
    async* http://localhost:3000/js/main.js:39
    async* http://localhost:3000/js/main.js:17
```

### ูพุฑุงููพุช ทณ
ุฒูุงู ฺฉู ฺฉ ูพุงู ุฑุง ุฏุฑ ุจุฎุด ูุฑูุฏ ูุชู ูโููุณู ู ุงูู ุฑุง ุงุฑุณุงู ูโฺฉููุ ูพุงู ูพุงฺฉ ุงุฒ ูุฑูุฏ ูพุงฺฉ ูโุดูุ ุงูุง ุฏุฑ ุตูุญู ฺฏูพ ููุงุด ุฏุงุฏู ููโุดู ู ูฺ ูพุงู ูู ุงุฒ ูุฏู ููุด ุฏุงุฏู ููโุดู.

### ูพุฑุงููพุช ทด
ูุดฺฉู ุญู ูุดุฏ.

### ูพุฑุงููพุช ทต
ูููุฒ ูุดฺฉู ูุฌูุฏ ุฏุงุฑูุ ุจุง ุจุฑุง ุงู ฺฉู ูุดฺฉู ุฑุง ุฒูุฏุชุฑ ูพุฏุง ฺฉููุ ุฏุฑ ุฌุงูุง ฺฉู ุงุญุชูุงู ุฎุทุง ูุฏ ูุงฺฏ ุจุฒุงุฑ ุชุง ูู ุจูุช ุจฺฏู ฺฉุฌุง ุฎุทุง ูุฌูุฏ ุฏุงุฑู.

### ูพุฑุงููพุช ทถ
ุงู ูุงฺฏโูุง ููุงุด ุฏุงุฏู ูโุดู:

```js
[DEBUG InputManager] submit() called. inputManager.js:59:17
[DEBUG InputManager] User input: 
Object { userInput: "ุณูุงู", hasImage: false }
inputManager.js:68:17
[DEBUG InputManager] Calling onSendMessage... inputManager.js:86:17
[DEBUG ChatUI] handleSendMessage called with: 
Object { userInput: "ุณูุงู", hasImage: false }
chatUI.js:169:17
[DEBUG ChatUI] Calling engine.sendMessage... chatUI.js:176:21
[DEBUG Engine] sendMessage() called. chatEngine.js:258:17
[DEBUG MsgHandler] sendMessage called. messageHandler.js:34:17
[DEBUG MsgHandler] Blocked: isLoading or no activeChatId. 
Object { isLoading: false, activeChatId: null }
messageHandler.js:36:21
Submission safety timeout triggered. Resetting UI state.
```

### ูพุฑุงููพุช ทท
ุฏุฑ ุตูุญู ฺฏูพ ุฎุทุง ยซุญุฏุงฺฉุซุฑ null ูพุงู ุฏุฑ ูุฑ ฺฏูพ ูุฌุงุฒ ุงุณุช.ยป ููุงุด ุฏุงุฏู ูโุดู ู ุฏุฑ ฺฉูุณูู ูู ุฎุทุงูุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
[DEBUG ChatUI] Received "init" event: 
Object { settings: {โฆ}, chats: (1) [โฆ], activeChat: {โฆ} }
chatUI.js:100:21
[DEBUG InputManager] submit() called. inputManager.js:59:17
[DEBUG InputManager] User input: 
Object { userInput: "ุณูุงู ุฎูุจุ", hasImage: false }
inputManager.js:68:17
[DEBUG InputManager] Calling onSendMessage... inputManager.js:86:17
[DEBUG ChatUI] handleSendMessage called with: 
Object { userInput: "ุณูุงู ุฎูุจุ", hasImage: false }
chatUI.js:169:17
[DEBUG ChatUI] Calling engine.sendMessage... chatUI.js:176:21
[DEBUG MsgHandler] sendMessage called. messageHandler.js:34:17
[DEBUG MsgHandler] Settings and provider are valid. messageHandler.js:54:17
[DEBUG MsgHandler] Found active chat: 
Object { id: "chat_1763299283560", title: "ฺฏูพ ุฌุฏุฏ", messages: [], createdAt: 1763299283560, updatedAt: 1763299283560, provider: "custom", modelName: "gpt-oss-120b" }
```

### ูพุฑุงููพุช ทธ
ูโุฎูุงู ูุงุจูุช ูพุงฺฉโุณุงุฒ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุดุช ุญุงูุธู ุฑุง ุงุถุงูู ฺฉู. ุฏุฑ ุญุงู ุญุงุถุฑ ุจู ูุธุฑ ูโุฑุณู ุจุฑูุงูู ุจุนุฏ ุงุฒ ุงุชูุงู ฺฉุงุฑุ ุจุฑุฎ ุงุฒ ูุฑุขูุฏูุง ุฎูุฏ (ูุฎุตูุตุงู Event Listener ูุง) ุฑุง ุจู ุทูุฑ ฺฉุงูู ูุชููู ููโฺฉูู. ุงู ููุถูุน ูโุชููู ุฏุฑ ุจููุฏูุฏุช ุจุงุนุซ ฺฉูุฏ ู ูุตุฑู ุจุด ุงุฒ ุญุฏ ุญุงูุธู ุจุดู.

ุจุงุฏ ุชูุงู "ุดูููุฏฺฏุงู ุฑูุฏุงุฏ" (Event Listeners) ู ูุฑุขูุฏูุง ูพุณโุฒูููโุง ฺฉู ุจุฑูุงูู ุงุฌุงุฏ ฺฉุฑุฏู ุจู ุทูุฑ ฺฉุงูู ูุชููู ู ูพุงฺฉโุณุงุฒ ุจุดู.
  - ุชูุงู ููุงุจุน ูพุงฺฉ ุจุดู
  - ุญุงูุธู ุขุฒุงุฏ ุจุดู
  - ฺฉุฏ ุณุงุฏู ู ูุงุจู ููู ุจุงุดู

### ูพุฑุงููพุช ทน
ุงฺฏุฑ ุจุง ุชุบุฑ ฺฉู ุฏุฑ Event Listeners ุงุฌุงุฏ ฺฉุฑุฏ ูุงุฒ ูุณุช ฺฉู ุณูุฏ ุจุฑูุฒุฑุณุงู ุจุดู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุจุฏู.

### ูพุฑุงููพุช ธฐ
ูโุฎูุงู ูุงุจูุช ูุบู ุฎูุฏฺฉุงุฑ ุฏุฑุฎูุงุณุชโูุง ูุจู ุฑุง ุงุถุงูู ฺฉู.

ููุช ฺฉุงุฑุจุฑ ุจู ฺฏูพโูุง ุฌุงุจุฌุง ูโุดู ุง ูพุงู ุฌุฏุฏ ูโูุฑุณุชูุ ุฏุฑุฎูุงุณุช ูุจู (ฺฉู ูููุฒ ูพุงุณุฎ ูฺฏุฑูุชู) ููฺูุงู ุฏุฑ ุญุงู ุงุฌุฑุงุณุช. ุงู ุจุงุนุซ ูโุดู ูพุงุณุฎ ูุจู ุจู ฺฉูพ ุงุดุชุจุงู ุงุถุงูู ุจุดู ุง ููุงุจุน ูุฏุฑ ุจุฑู.
1. ูพุด ุงุฒ ุงุฑุณุงู ูุฑ ูพุงู ุฌุฏุฏุ ุงฺฏุฑ ุฏุฑุฎูุงุณุช ูุจู ุฏุฑ ุญุงู ุงุฌุฑุงุณุชุ ุงูู ุฑู ูุบู ฺฉู
2. ููุช ฺฉุงุฑุจุฑ ฺฏูพ ุฑู ุนูุถ ูโฺฉููุ ุฏุฑุฎูุงุณุช ูุนู ุฑู ูุบู ฺฉู
3. ุงฺฏุฑ ุฏุฑุฎูุงุณุช ูุบู ุดุฏุ ูฺ ุฎุทุง ููุงุด ูุฏู (ฺูู ุนูุฏ ุจูุฏู)

ุงูุฒุงูุงุช:
- ฺฉุฏ ุณุงุฏู ู ูุงุจู ููู ุจุงุดู
- ูฺ ูพุงู ุฎุทุง ุงุถุงู ุจุฑุง ูุบู ูุดูู ูุฏู
- ููุท ฺฉ ุฏุฑุฎูุงุณุช ููุฒูุงู ูุฌุงุฒ ุจุงุดู

### ูพุฑุงููพุช ธฑ
ุงฺฏุฑ ุณูุฏ ูุงุฒ ุจู ุจุฑูุฒุฑุณุงู ุฏุงุฑูุ ุจุฑูุฒุด ฺฉู.

### ูพุฑุงููพุช ธฒ
ุฏุฑ ุญุงู ุญุงุถุฑุ ฺฉุชุงุจุฎุงูู `markdown-it.min.js` ฺฉู ุญุฌู ูุณุจุชุงู ุฒุงุฏ ุฏุงุฑูุ ูููู ุงูู ุจุงุฑฺฏุฐุงุฑ ุจุฑูุงูู ุฏุงูููุฏ ูโุดู. ุงู ููุถูุน ุจุงุนุซ ฺฉูุฏ ุดุฏู ุจุงุฑฺฏุฐุงุฑ ุงููู ุตูุญู ูโุดูุ ุฏุฑ ุญุงู ฺฉู ูุง ููุท ุฒูุงู ุจู ุงู ฺฉุชุงุจุฎุงูู ูุงุฒ ุฏุงุฑู ฺฉู ูพุงุณุฎ ุงุฒ ูู ูุตููุน ุฏุฑุงูุช ุจุดู.

ูโุฎูุงูู ุจุงุฑฺฏุฐุงุฑ ฺฉุชุงุจุฎุงูู `markdown-it` ุจู ุตูุฑุช "ุชูุจู" (Lazy Loading) ุงูุฌุงู ุจุดู.
- ุจู ูุญุถ ุฏุฑุงูุช **ูุฎุณุชู ูพุงุณุฎ ุงุฒ ููุด ูุตููุน**ุ ฺฉุชุงุจุฎุงูู ุจุงุฏ ุจู ุตูุฑุช ูพูุง (dynamic import) ุฏุฑ ูพุณโุฒููู ุจุงุฑฺฏุฐุงุฑ ุจุดู.
- ุชุง ุฒูุงู ฺฉู ฺฉุชุงุจุฎุงูู ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑูุ ูพุงุณุฎ ููุด ูุตููุน ูโุชููู ุจู ุตูุฑุช ูุชู ุณุงุฏู ููุงุด ุฏุงุฏู ุจุดู ู ูพุณ ุงุฒ ุขูุงุฏู ุดุฏู ฺฉุชุงุจุฎุงููุ ุจู ุฏุฑุณุช ุฑูุฏุฑ ุจุดู.
- ุจุนุฏ ุงุฒ ูุฎุณุชู ุจุงุฑุ ฺฉุชุงุจุฎุงูู ุฑู cache ฺฉู ุชุง ุฏูุจุงุฑู ุจุงุฑฺฏุฐุงุฑ ูุดู

### ูพุฑุงููพุช ธณ
ูพุงูโูุง ูุฏู ููุด ุจู ุตูุฑุช ุฎุงู ููุงุด ุฏุงุฏู ูโุดู ู ุจู ุตูุฑุช ูุงุฑฺฉโุฏุงูู ุฑูุฏุฑ ููโุดู.

### ูพุฑุงููพุช ธด
ูุดฺฉู ุฑูุน ูุดุฏ ู ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
Failed to load markdown-it library: TypeError: MarkdownIt is not a constructor
    loadingPromise http://localhost:3000/js/services/markdownService.js:38
    promise callback*load http://localhost:3000/js/services/markdownService.js:35
    _ensureMarkdownIsLoadedAndRerender http://localhost:3000/js/ui/components/messageRenderer.js:378
    appendMessage http://localhost:3000/js/ui/components/messageRenderer.js:104
    renderHistory http://localhost:3000/js/ui/components/messageRenderer.js:27
    renderHistory http://localhost:3000/js/ui/components/messageRenderer.js:27
    updateChatView http://localhost:3000/js/ui/chatUI.js:209
    init http://localhost:3000/js/ui/chatUI.js:109
    emit http://localhost:3000/js/core/eventEmitter.js:45
    emit http://localhost:3000/js/core/eventEmitter.js:43
    init http://localhost:3000/js/core/chatEngine.js:172
    async* http://localhost:3000/js/main.js:39
    async* http://localhost:3000/js/main.js:17
```

### ูพุฑุงููพุช ธต
ุฏุฑ ุญุงู ุญุงุถุฑุ ุงฺฏุฑ ุจุฑูุงูู ุฏุฑ ููฺฏุงู ุดุฑูุน ุจู ฺฉุงุฑ ุจุง ูุดฺฉู ููุงุฌู ุจุดู (ูุซูุงู ูุชููู ุจู ุญุงูุธู ูุฑูุฑฺฏุฑ ุฏุณุชุฑุณ ูพุฏุง ฺฉูู)ุ ููุท ฺฉ ูพุงู ุฎุทุง ุนููู ุจู ฺฉุงุฑุจุฑ ููุงุด ูโุฏู. ุงู ูพุงู ุจู ฺฉุงุฑุจุฑ ฺฉูฺฉ ููโฺฉูู ุชุง ุจูููู ูุดฺฉู ุงุตู ฺู ู ฺุทูุฑ ุขู ุฑุง ุจุฑุทุฑู ฺฉูู.

ูโุฎูุงูู ุณุณุชู ูุฏุฑุช ุฎุทุง ุฑุง ููุดููุฏุชุฑ ฺฉู ุชุง ูพุงูโูุง ุฏููโุชุฑ ู ููุฏุชุฑ ุจู ฺฉุงุฑุจุฑ ููุงุด ุจุฏู.
- ุจุฑูุงูู ุจุงุฏ ุจุชููู **ุงููุงุน ูุฎุชูู ุฎุทุงูุง** ุฑุง ุฏุฑ ููฺฏุงู ุฑุงูโุงูุฏุงุฒ ุชุดุฎุต ุจุฏู (ูุงููุฏ ุฎุทุงูุง ูุฑุจูุท ุจู ุญุงูุธูุ ูุณุฎูุ ุง ูุดฺฉูุงุช ุฏฺฏุฑ).
- ุจุฑุง ูุฑ ููุน ุฎุทุงุ ฺฉ **ูพุงู ูุดุฎุต ู ฺฉุงุฑุจุฑุฏ** ููุงุด ุฏุงุฏู ุจุดู ฺฉู ุจู ฺฉุงุฑุจุฑ ุฏุฑ ุญู ูุดฺฉู ฺฉูฺฉ ฺฉูู.
- ุงฺฏุฑ ููุน ุฎุทุง ูุงุจู ุชุดุฎุต ูุจูุฏุ ููุงู ูพุงู ุฎุทุง ุนููู ููุงุด ุฏุงุฏู ุจุดู.

**ูุฏู ููุง:**
ฺฉุงุฑุจุฑ ุฏุฑ ููฺฏุงู ุจุฑูุฒ ุฎุทุงุ ุจู ุฌุง ฺฉ ูพุงู ูุจููุ ฺฉ ุฑุงูููุง ุฏูู ุฏุฑุงูุช ฺฉูู ฺฉู ุจู ุงู ุฏุฑ ุงุณุชูุงุฏู ุจูุชุฑ ุงุฒ ุจุฑูุงูู ฺฉูฺฉ ูโฺฉูู.

ุงูุฒุงูุงุช:
- ูพุงูโูุง ุจู ุฒุจุงู ุณุงุฏู ู ูุงุฑุณ ุจุงุดู
- ฺฉุงุฑุจุฑ ุจูููู ุจุงุฏ ฺฺฉุงุฑ ฺฉูู
- ุทุฑุงุญ ุณุงุฏู ู ูุงุจู ููู
- ฺฉุฏ ุชูุฒ ู ุณุงุฒูุงูุฏู ุดุฏู

### ูพุฑุงููพุช ธถ
ุฏุฑ ุญุงู ุญุงุถุฑุ ฺฉุฏ ุจู ูุชู ูพุงู ุฎุทุง ูุงุจุณุชู ุงุณุช ฺฉู ุงู ุฑูุด ูพุงุฏุงุฑ ูุฏุงุฑู.
1.  ฺฉ ูุงู ุฌุฏุฏ ุจุฑุง **ุชุนุฑู ุฎุทุงูุง ุณูุงุฑุด** (Custom Errors) ุงุฌุงุฏ ฺฉู.
2.  ุฏุฑ `indexedDBStorage.js`ุ ุจู ุฌุง ูพุฑุชุงุจ ฺฉุฑุฏู ุฎุทุงูุง ุนููู (`new Error`)ุ ุงุฒ ุงู **ุฎุทุงูุง ุณูุงุฑุด ุฌุฏุฏ** ุงุณุชูุงุฏู ฺฉู.
3.  ุฏุฑ ููุงุชุ ุฏุฑ `main.js`ุ ุจู ุฌุง ฺฺฉ ฺฉุฑุฏู ูุชู ูพุงู ุจุง `error.message.includes(...)`ุ ุงุฒ `instanceof` ุจุฑุง ุชุดุฎุต **ููุน ุฏูู ุฎุทุง** ุงุณุชูุงุฏู ฺฉู (ูุซูุงู `if (error instanceof VersionError)`).
4.  ุฏุฑ ูุงูโูุง ุฏฺฏู ูู ุงฺฏุฑ ุฎุทุง ุจูุฌูุฏ ูุงุฏ ุงุฒ ููู ุฑูุด ุงุณุชูุงุฏู ฺฉู.

### ูพุฑุงููพุช ธท
ุฎุจ ุณูุฏูุง ุฑุง ูู ุจุง ุชูุฌู ุจู ุงู ุชุบุฑูุง ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช ธธ
ุฏุฑ ุณุงุฎุชุงุฑ ูุนู ุชูุงู ุชุงุฑุฎฺู ฺฏูพโูุง ุฑุง ุฏุฑ ุงุจุชุฏุง ฺฉุงุฑ ุฏุฑ ุญุงูุธู ุจุงุฑฺฏุฐุงุฑ ูโุดู ฺฉู ุจุงุนุซ ฺฉูุฏ ู ูุตุฑู ุฒุงุฏ ุญุงูุธู ุฏุฑ ุจููุฏูุฏุช ูโุดู. ูโุฎูุงู ุณุงุฎุชุงุฑ ุงุฑุชุจุงุท ุจุง ูุงู ุฐุฎุฑูโุณุงุฒ ุฑุง ุจุงุฒุทุฑุงุญ ฺฉู ุชุง ุงุฒ ุจุงุฑฺฏุฐุงุฑ ุฏุงุฏูโูุง ุจู ุตูุฑุช "ุจุฎุดโุจุฎุด ู ุฏุฑ ุตูุฑุช ูุงุฒ" ูพุดุชุจุงู ฺฉูู.
- ุฏุฑ ุงุจุชุฏุง ูุณุช ฺฏูพโูุง ฺฏุฑูุชู ุจุดู.
- ูุฑ ุฒูุงู ฺฉุงุฑุจุฑ ฺฉ ฺฏูพ ุฑุง ุงูุชุฎุงุจ ฺฉุฑุฏ ูุณุช ูพุงูโูุง ุงูู ฺฏูพ ุฏุฑุงูุช ุจุดู.
- ฺฉุงููุช ฺฏุฐุงุฑ ุฏุฑ ฺฉุฏ ุฑุง ุจู ูุงุฑุณ ุจุงุดู

### ูพุฑุงููพุช ธน
ูโุฎูุงู ูุงุจูุช ุงุถุงูู ฺฉู ฺฉู ุจู ฺฉุงุฑุจุฑ ุงุฌุงุฒู ุจุฏู ฺฉ ุงุฑุงุฆูโุฏููุฏู ูพุดโูุฑุถ ุชุนุฑู ฺฉูู.
1. ุงุฌุงุฏ ูุงู ูพฺฉุฑุจูุฏ: ฺฉ ูุงู ุฌุฏุฏ ุจู ูุงู `config.json` ุฏุฑ ุฑุดู ุงุตู ูพุฑูฺู ุงุฌุงุฏ ฺฉู.
    - ุงู ูุงู ุจุงุฏ ุจู ุตูุฑุช ุงุฎุชุงุฑุ ุงูฺฉุงู ุชุนุฑู ฺฉ "ุงุฑุงุฆูโุฏููุฏู ูพุดโูุฑุถ ุฑุง ูุฑุงูู ฺฉูุฏ.
2. ุงู ูุงู ุฏุฑ ุงุฌุฑุง ูุฎุณุช ุจุฑูุงูู ุจุงุฑฺฏุฐุงุฑ ุจุดู
3. ุงฺฏุฑ ุจุฑูุงูู ุจุง ฺฉ ุงุฑุงุฆูโุฏููุฏู ูพุดโูุฑุถ ูุนุชุจุฑ ุดุฑูุน ุจู ฺฉุงุฑ ฺฉุฑุฏุ **ูพูุฌุฑู ููุฏุงู ุชูุธูุงุช (SettingsModal) ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงุด ุฏุงุฏู ูุดู**. ฺฉุงุฑุจุฑ ุจุงุฏ ุจุชููู ุจูุงูุงุตูู ุดุฑูุน ุจู ฺฏูพ ุฒุฏู ฺฉูู.
4. ุงฺฏุฑ ุงุฒ ุงุฑุงุฆูโุฏููุฏู ูพุดโูุฑุถ ุงุณุชูุงุฏู ูโุดูุ ฺฉ ูพุงู ฺฉูฺฺฉ ู ุบุฑ ูุฒุงุญู ุจู ฺฉุงุฑุจุฑ ููุงุด ุจุฏู ฺฉู "ุดูุง ุฏุฑ ุญุงู ุงุณุชูุงุฏู ุงุฒ ูุฏู ูพุดโูุฑุถ ูุณุชุฏ."

ูฺฉุชูโูุง:
- ฺฉ ูุงู config.example.js ุงุฌุงุฏ ฺฉู ุจุง ููุงุฏุฑ ุฎุงู ุจู ุนููุงู ููููู
- ฺฉุฏ ุณุงุฏู ู ูุงุจู ููู ุจุงุดู
- ฺฉุงููุชโูุง ูุงุฑุณ ุจุงุดู
- ฺฉุงุฑุจุฑ ููฺูุงู ุจุงุฏ ุจุชููู ฺฉูุฏูุง ุฎูุฏุด ุฑุง ุงุถุงูู ฺฉูู.

### ูพุฑุงููพุช นฐ
ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ ฺฏุฒููโุง ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุขุฏุฑุณ ูุฏู ูุณุช. (endpointUrl)

### ูพุฑุงููพุช นฑ
ุญุงูุง ุจุง ุชูุฌู ุจู ุชุบุฑุงุช ฺฉู ุฏุงุฏ ุณูุฏูุง ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช นฒ
ฺุฑุง ูุญุชูุง ุณูุฏูุง ุฑุง ฺฉู ูโฺฉูุ ูู ุณูุฏูุง ุฑุง ุจู ุญุงูุช ูพุดู ุจุฑฺฏุฑุฏููุฏู. ุฏูุจุงุฑู ุชุบุฑุงุช ุฌุฏุฏ ุฑุง ุจู ุณูุฏ ุงุถุงูู ฺฉู ุจุฏูู ุงูฺฉู ฺุฒ ุงุฒ ูุญุชูุง ุงููโูุง ฺฉู ฺฉู.

### ูพุฑุงููพุช นณ
ูโุฎูุงู ูุงุจูุช ูุฏุฑุช ฺูุฏู ุงุฑุงุฆูโุฏููุฏู (Provider) ุจุฑุง ยซูุฏู ุณูุงุฑุดยป ุฑู ุจู ุชูุธูุงุช ุงุถุงูู ฺฉู. ฺฉุงุฑุจุฑ ุจุชููู ฺูุฏุชุง ฺฉูุฏ API ูุฎุชูู ุจุฑุง ุณุฑูุฑูุง ุณูุงุฑุด ุงุถุงูู ฺฉููุ ุงุณู ุจูุดูู ุจุฏูุ ู ฺฉ ุฑู ุจู ุนููุงู ูพุดโูุฑุถ ุงูุชุฎุงุจ ฺฉูู ู ุงููโูุง ฺฉู ููโุฎูุงุฏ ุฑู ุญุฐู ฺฉูู.
1. ฺฉุงุฑุจุฑ ุจุงุฏ ุจุชููู ุจุฑุง ุงุฑุงุฆูโุฏููุฏู ุณูุงุฑุด ฺูุฏ ฺฉูุฏ API ูุฎุชูู ุงุถุงูู ฺฉูู. ูุฑ ฺฉูุฏ ุจุงุฏ ฺฉ **ูุงู ููุญุตุฑ ุจู ูุฑุฏ** ุฏุงุดุชู ุจุงุดู.
2. ูุฑ ฺฉ ุงุฒ ุงุฑุงุฆู ุฏููุฏูโูุง ุงุฒ ฺฉ **ุทุฑุงุญ ุฌูุนโุดููุฏู (ุขฺฉุงุฑุฏุฆูู)** ุงุณุชูุงุฏู ฺฉูู. ูุฑ ุจุฎุด ุจุงุฏ ุจู ุตูุฑุช ูพุดโูุฑุถ ุจุณุชู ุจุงุดู ู ุจุง ฺฉูฺฉ ุจุงุฒ ุจุดู.
4. ุฏฺฉูู **"ุงูุฒูุฏู"** ุฏุฑ ุฌูู ยซูุฏู ุณูุงุฑุดยป ฺฉ ุฏฺฉูู ุจุง ูุงู ยซุงูุฒูุฏูยป ุงุถุงูู ฺฉูู.
5. ูุฑ ฺฉูุฏ ุง ูุฏู ฺฉู ุงุถุงูู ูโุดูุ ุจุงุฏ ุฏฺฉูู **"ุญุฐู"** ูุฎุตูุต ุจู ุฎูุฏุด ุฑู ุฏุงุดุชู ุจุงุดู (ุจุง ฺฉ ูพุงู ุชุงุฏ ูุจู ุงุฒ ุญุฐู).

ูฺฉุชูโูุง:
- UI ุณุงุฏู ู ูุงุจู ููู ุจุงุดู
- ฺฉุฏ ุชูุฒ ู ุจุง ฺฉุงููุช ูุงุฑุณ
- ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุฑูุงู
- ุฏูุช ฺฉู ฺฉู ูฺฺฏโูุง ูพุดู ูุจุงุฏ ุฏฺุงุฑ ูุดฺฉู ุจุดู.

### ูพุฑุงููพุช นด
ูพุงุฏูโุณุงุฒ ฺฉู ุงูุฌุงู ุฏุงุฏ ูุดฺฉูโูุง ุฒุฑ ุฑุง ุฏุงุฑู:
1. ุจุง ุฒุฏู ุฏฺฉูู ุญุฐู ููุฏุงู ุชุงุฏ ุญุฐู ุฒุฑ ููุฏุงู ุชูุธูุงุช ููุงุด ุฏุงุฏู ูโุดู.
2. ุจุง ุชุงุฏ ูุฏุงู ุญุฐูุ ูพฺฉุฑุจูุฏ ูุฏู ุณูุงุฑุด ูพุงฺฉ ููโุดู.

### ูพุฑุงููพุช นต
ุงฺฏุฑ ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ (config) ฺฉ ุงุฑุงุฆูโุฏููุฏู ูุฌูุฏ ุฏุงุฑู ฺฉุงุฑุจุฑ ูโุชููู ุฏุฑ ุชูุธูุงุช ุงุฑุงุฆูโุฏููุฏู ูุนุงู ูุดุฎุต ูฺฉูู.

### ูพุฑุงููพุช นถ
ูุงู ูุฏูโูุง gpt-4 ู  gemini-2.5-flash ุจู ุตูุฑุช ูพุดโูุฑุถ ุฏุฑ ููุฏูุง ููุดุชู ุดุฏูโุงูุฏ ฺฉู ุจุงุนุซ ูโุดู ููุช ฺฉุงุฑุจุฑ ุจุฎูุงุฏ ุชุบุฑุงุช ูุฏู ุณูุงุฑุด ุฑู ุฐุฎุฑู ฺฉู ุฎุทุง ยซูุทูุงู ุชูุงู ููุฏูุง Gemini ุฑุง ูพุฑ ฺฉูุฏ.ยป ููุงุด ุฏุงุฏู ูโุดู.

ุงู ููุฏูุง ุจุงุฏ ุฎุงู ุจุงุดูุ ู ููุงุชุง ฺฉ  placeholder ููุงุด ุฏุงุฏู ุจุดู. ู ุงฺฏุฑ ุงู ููุฏุงุฑูุง ุฑุง ุงุฒ ููุฏูุง ุญุฐู ฺฉููุ ููุช ูโโุฎูุงู ุชุบุฑุงุช ุฑุง ุฐุฎุฑู ฺฉููุ ุฏูุจุงุฑู ูพุงู ยซูุทูุงู ุชูุงู ููุฏูุง Gemini ุฑุง ูพุฑ ฺฉูุฏ.ยป ููุงุด ุฏุงุฏู ูโุดู.

ููุทู ฺฉุงุฑ ุจุงุฏ ุงูุทูุฑ ุจุงุดู: 
1. ุงฺฏุฑ ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ (config) ุงุฑุงุฆูโุฏููุฏูโุง ูุฌูุฏ ุฏุงุฑูุ ฺฉุงุฑุจุฑ ุงูุฒุงู ูุฏุงุฑู ุชุง ุงุฑุงุฆูโุฏููุฏูโุง ุงุถุงูู ฺฉูู.
2. ุงฺฏุฑ ุฏุฑ ฺฉ ููุฏ ููุฏุงุฑ ูุงุฑุฏ ุดุฏู ูููุน ุฐุฎุฑูโุณุงุฒ ุจุงุฏ ุจูุด ูุดุฏุงุฑ ุจุฏ ฺฉู ุฏุงุฏูโูุง ุงูู ุงุฑุงุฆูโุฏููุฏู ุฑุง ุจุงุฏ ฺฉุงูู ฺฉูู.
3. ุงฺฏุฑ ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ (config) ุงุฑุงุฆูโุฏููุฏูโุง ูุฌูุฏ ุฏุงุฑูุ ู ุฎูุฏ ฺฉุงุฑุจุฑ ุงุฑุงุฆูโุฏููุฏูโุง ุงุถุงูู ฺฉุฑุฏู ุจุงุฏ ุจุชููู ูุดุฎุต ฺฉูู ุงุฒ ฺฉุฏูู ุงุณุชูุงุฏู ุจุดู.

### ูพุฑุงููพุช นท
ุฎุจ ุจุง ุชูุฌู ุชุบุฑูุง ฺฉู ุฏุงุฏ ุณูุฏูุง ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช นธ
ุฒูุงูฺฉู ูโุฎูุงู ูุงู ฺฉ ฺฏูพ ุฑุง ูุฑุงุด ฺฉูู ุจุง ุฎุทุง ุฒุฑ ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
Uncaught TypeError: can't access property "value", input is null
    onConfirm http://127.0.0.1:3000/js/ui/components/sidebarManager.js:180
    _handleConfirm http://127.0.0.1:3000/js/ui/components/sidebarManager.js:233
sidebarManager.js:180:34
    onConfirm http://127.0.0.1:3000/js/ui/components/sidebarManager.js:180
    _handleConfirm http://127.0.0.1:3000/js/ui/components/sidebarManager.js:233
```

### ูพุฑุงููพุช นน
ูโุฎูุงู ูุงุจูุช **ุงูุชุฎุงุจ ูุฏู ูุฌุฒุง ุจุฑุง ูุฑ ฺฏูพ** ุฑู ุจู ูพุฑูฺู ุงุถุงูู ฺฉู. ูโุฎูุงู ฺฉุงุฑุจุฑ ุจุชููู ุจุฑุง ูุฑ ฺฏูพ ูุดุฎุต ฺฉูู ุงุฒ ฺู ูุฏู ุงุณุชูุงุฏู ูโฺฉูู.
1. ูุฑ ฺฏูพ ูโุชููู ูุฏู ุฎูุฏุด ุฑุง ุฏุงุดุชู ุจุงุดู
2. ุฏฺฉูู ุงูุชุฎุงุจ ูุฏู ุฏุฑ Header ฺฏูพ
    - ุฏุฑ ูุณูุช ุจุงูุง ุตูุญู ฺฏูพ (header)ุ ู **ุฏฺฉูู ฺฉูฺฺฉ** ุงุถุงูู ฺฉู ฺฉู:
      - ูุงู ูุฏู ูุนู ุฑู ููุงุด ุจุฏู (ูุซูุงู "GPT-4")
      - ุจุง ฺฉูฺฉ ุฑูุดุ ู ูุณุช ุฏุฑุงูพโุฏุงูู ุงุฒ ูุฏูโูุง ููุงุด ุฏุงุฏู ุจุดู
    - ุงู ุฏฺฉูู ููุท ููุช ููุงุด ุฏุงุฏู ุจุดู ฺฉู ฺฉ ฺฏูพ ูุนุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดู
3. ููุงุด ุขฺฉูู ูุฏู ุฏุฑ Sidebar
    - ุฏุฑ ูุณุช ฺฏูพโูุง (Sidebar)ุ ฺฉูุงุฑ ูุฑ ฺฏูพ ู **ุขฺฉูู ฺฉูฺฺฉ** ููุงุด ุจุฏู ฺฉู ูุดูู ุจุฏู ุจุง ฺู ูุฏู ฺฉุงุฑ ูโฺฉูู.
4. ุงฺฏุฑ ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ ูุฏู ูุดุฎุต ุดุฏู ู ุฎูุฏ ฺฉุงุฑุจุฑ ูุฏู ูุงุฑุฏ ูฺฉุฑุฏู ูุฏู ูุงู ูพฺฉุฑุจูุฏ ุงูุชุฎุงุจ ุดุฏู ุจุงุดู
5. ุงฺฏุฑ ฺฉุงุฑุจุฑ ุฏุฑ ุชูุธูุงุช ูุฏู ุฑุง ุจู ุนููุงู ูุนุงู ุงูุชุฎุงุจ ฺฉุฑุฏู ุงูู ุฑุง ุฏุฑ ูุฑ ฺฏูพ ุจู ุตูุฑุช ูพุดโูุฑุถ ูุฑุงุฑ ุจุฏู

**ูฺฉุชูโูุง**
- ุชุบุฑุงุช ฺฉู ูโุฏ ูุจุงุฏ ุฏุฑ ูฺฺฏโูุง ูุนู ุชุฏุงุฎู ุงุฌุงุฏ ฺฉูู.
- ุชุบุฑุงุช ุฑู ุฏุฑ ูุงฺููโูุง ููุงุณุจ ุงูุฌุงู ุจุฏู.
- ููุฏุงู ู ุฏฺฉูู header ุจุงุฏ ุจุง ุทุฑุงุญ ูุนู ูพุฑูฺู ููุงููฺฏ ุจุงุดู
- ุงฺฏู ูุฏู ุงูุชุฎุงุจ ุดุฏู ุฏฺฏู ุฏุฑ ุชูุธูุงุช ููุฌูุฏ ูุจุงุดู (ูุซูุงู ฺฉุงุฑุจุฑ ฺฉูุฏ API ุฑู ูพุงฺฉ ฺฉุฑุฏู)ุ ุจู ฺฉุงุฑุจุฑ ูุดุฏุงุฑ ุจุฏู ู ุจู ุชูุธูุงุช ุณุฑุงุณุฑ ุจุฑฺฏุฑุฏ.
- ุจุฑุง ุจุฎุดโูุง ุฌุฏุฏ ฺฉุงููุช ูุงุฑุณ ุจููุณ

### ูพุฑุงููพุช ฑฐฐ
ุงุฒุช ูโุฎูุงู ูุดฺฉูโูุง ุฒุฑ ุฑุง ุจุฑ ุทุฑู ฺฉู
1. ูุฏู ูพุดโูุฑุถ ฺฉู ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ ูุดุฎุต ุดุฏูุ ุฏุฑ ูุณุช ูุฏูโูุง ุจุงุฏ ูุดูู ุฏุงุฏู ุจุดู
2. ุฏุฑ ุฏุฑุงูพโุฏูุงู ูุดุฎุต ุจุดู ฺฉู ฺฉุฏูู ูุฏู ุงูุชุฎุงุจ ุดุฏู
3. ุงฺฏุฑ ุฏุฑ ุชูุธูุงุช ฺฉ ูุฏู ุณูุงุฑุด ุงุถุงูู ุดุฏู ุจุงุดูุ ุฏุฑ ุฏุฑุงูพโุฏุงูู ูุฏูโูุง gemini ู openAi ููุงุด ุฏุงุฏู ููโุดู.
4. ูโุฎูุงู ุฏุฑ ููุงุฑ ฺฉูุงุฑ ู ุฏุฑุงูพโูุณุช ุขฺฉููโูุง ููุงุด ุฏุงุฏู ุดุฏู ุฑูฺฏ ูุฎุตูุต ุจู ุฎูุฏุดูู ุฑู ุฏุงุดุชู ุจุงุดู.
5.  ูพุงู ุฎุทุง ููุท ุงุณู ูุฏู ูุฏู ุฑู ูุดูู ูุฏูุ ุงุณู ูุฏู ุฌุฏุฏ ุฑู ููฺฏู
    - ุฏุฑ ูพุงู ุฎุทุง ุจููุณ: `ูุฏู ยซ...ยป ุฏฺฏุฑ ููุฌูุฏ ูุณุช. ฺฏูพ ุจู ยซ...ยป ุชุบุฑ ฺฉุฑุฏ.

### ูพุฑุงููพุช ฑฐฑ
ูโุฎูุงู ุณุงุฎุชุงุฑ ุฐุฎุฑูโุณุงุฒ ุงุทูุงุนุงุช ูุฏู ุฏุฑ ูุฑ ฺฏูพ ุฑู ุชุบุฑ ุจุฏ ุชุง ุงุฒ **Reference-based** ุงุณุชูุงุฏู ฺฉูู ุจู ุฌุง **Full Config**. ุงูุงู ูุฑ ฺฏูพ ฺฉ ุฑูููุดุช ฺฉุงูู ุงุฒ `providerConfig` (ุดุงูู apiKeyุ modelName ู...) ุฑู ุฏุงุฑู ฺฉู ุจุงุนุซ ูุดู:
- ุญุฌู ุฐุฎุฑูโุณุงุฒ ุฒุงุฏ ุจุดู
- ููุช ฺฉุงุฑุจุฑ API key ุฑู ุนูุถ ูโฺฉููุ ฺฏูพโูุง ูุฏู ุจุฑูุฒ ูุดู
- API key ุฏุฑ ฺูุฏู ุฌุง ุชฺฉุฑุงุฑ ุจุดู (ุงููุช ูุณุช)

ูโุฎูุงู ุจู ุฌุง ุงู ุฑูุดุ ูุฑ ฺฏูพ ููุท ฺฉ **reference** ุจู ูุฏู ุฏุงุดุชู ุจุงุดู ู ุงุทูุงุนุงุช ฺฉุงูู ุฑู ุงุฒ `settings` ุจฺฏุฑู.
1. ุงฺฏุฑ ูู ฺฉ ูุฏู ุญุฐู ุดุฏู ุจูุฏ ฺฉ ูพุงู ููุงุด ุจุฏู:
    - "ูุฏู ยซ[ูุงู ูุฏู]ยป ุฏุฑ ุชูุธูุงุช ููุฌูุฏ ูุณุช. ูุทูุงู ูุฏู ุฏฺฏุฑ ุงูุชุฎุงุจ ฺฉูุฏ." 
    - ุฏุฑ ุฏุฑุงูพ ุฏุงูู ฺฉ ุนูุงูุช warning (โ๏ธ) ฺฉูุงุฑ ูุฏู ุญุฐู ุดุฏู ุจุฐุงุฑ
    - tooltip ูุดูู ุจุฏู: "ุงู ูุฏู ุฏฺฏุฑ ููุฌูุฏ ูุณุช"
    - ุฏุฑ ููุงุฑ ฺฉูุงุฑ ฺฉ badge ฺฉูฺฺฉ "โ๏ธ" ฺฉูุงุฑ ุนููุงู ฺฏูพ ูุดูู ุจุฏู
      - tooltip: "ูุฏู ุงู ฺฏูพ ุฏุฑ ุชูุธูุงุช ููุฌูุฏ ูุณุช"
2. **ุนููฺฉุฑุฏ ูุนู ูุจุงุฏ ุฎุฑุงุจ ุจุดู**: ฺฏูพโูุง ฺฉู ูุฏูุดูู ููุฌูุฏู ุจุงุฏ ูุซู ูุจู ฺฉุงุฑ ฺฉูู
3. **ฺฉุงููุชโูุง ูุงุฑุณ**: ุจุฑุง ุจุฎุดโูุง ุฌุฏุฏ ู ููุทูโูุง ูพฺุฏู

### ูพุฑุงููพุช ฑฐฒ
ฺฉ ูุดฺฉู ฺฉู ูุฌูุฏ ุฏุงุฑู ุงูฺฉู ููุช ุฏุฑ ูุงู ูพฺฉุฑุจูุฏ ฺฉ ูุฏู ุงุถุงูู ุดุฏูุ ุงุทูุงุนุงุช ุงูู ูุฏู ุฏุฑ ุชูุธูุงุช ููุงุด ุฏุงุฏู ูโุดู ู ฺฉุงุฑุจุฑ ูโุชููู ุงูู ุฑู ุญุฐู ฺฉูู. ููุทู ุงู ฺฉุงุฑ ุงุดุชุจุงูู ุงูู ูุฏู ูุจุงุฏ ุฏุฑ ุชูุธูุงุช ูุดูู ุฏุงุฏู ุจุดู.

### ูพุฑุงููพุช ฑฐณ
ุฎุจ ฺฉ ูุดฺฉู ูุฌูุฏ ุฏุงุฑูุ ุงฺฏุฑ ูุงู ฺฉ ูุฏู ุฒุจุงู ุชุบุฑ ฺฉูู ุงูู ูุฏู ุฏุฑ ฺฏูพโูุง ูุงูุนุชุจุฑ ูโุดู ฺฉู ุจู ูุธุฑู ูุจุงุฏ ุงู ุงุชูุงู ุจุงูุชู.

### ูพุฑุงููพุช ฑฐด
ุฎุจ ุจุง ุชูุฌู ุจู ุงุถุงูู ุดุฏู ูฺฺฏ ยซุงูุชุฎุงุจ ูุฏู ูุฌุฒุง ุจุฑุง ูุฑ ฺฏูพยป ุณูุฏูุง ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช ฑฐต
ุฏุฑ ุญุงู ุญุงุถุฑ ุงฺฏุฑ ูุชูโูุง ฺฉ ูพุงู ุฒุงุฏ ุจุดู ููุงุฑ ูพูุงุด (Scrollbar) ุณูุช ฺูพ ุจุฎุด ูพุงูโูุง ููุงุด ุฏุงุฏู ูโุดู ฺฉู ุงุฒ ูุญุงุธ ุธุงูุฑ ุงุตูุง ุฎูุจ ูุณุช. ูโุฎูุงู ููุงุฑ ูพูุงุด ุจู ุณูุช ฺูพ ุตูุญู ููุชูู ุจุดู.

### ูพุฑุงููพุช ฑฐถ
ูุงู ูพุฑูฺู ุงุฒ ยซฺฏูฺฏยป ุจู ยซูพฺฉยป (peik) ุชุบุฑ ฺฉุฑุฏู. ุฏุฑ ุชูุงู ูพุฑูฺู ุงู ุชุบุฑ ุฑุง ุงุนูุงู ฺฉู.

### ูพุฑุงููพุช ฑฐท
ุฎุจุ ุญุงูุง ูโุฎูุงู ูุนูุงุฑ ูพฺฉ ุฑุง ฺฉู ุชุบุฑ ุจุฏูุ ุฏุฑ ุงู ูุนูุงุฑ ูุณุชู ูพฺฉ ุฑุง ุจุงุฏ ุฌุฏุง ฺฉู. ุณุงุฎุช ฺฉ ูุณุชู ูุณุชูู ฺฉู:
- ูฺ ูุงุจุณุชฺฏ ุจู ูุญุท ุฎุงุต (DOMุ ูุฑูุฑฺฏุฑุ ...) ูุฏุงุฑู
- ููุท ููุทู ุงุตู ุฑู ุฏุงุฑู
- ุฏุฑ ูุฑ ูุญุท ฺฉุงุฑ ูโฺฉูู
- ุจุฑ ุงุณุงุณ ูุนูุงุฑ ุงูุฒูููโูุญูุฑ ุทุฑุงุญ ุดุฏู
- ุณุงุฎุชุงุฑ ูุณุชู:
```
core/
โโโ src/
โ   โโโ peik.js                    # ฺฉูุงุณ ุงุตู ู ููุทู ูุฑูุฏ
โ   โโโ chat.js                    # ฺฉูุงุณ ูุฏุฑุช ฺฉ ฺฏูุชฺฏู
โ   โโโ pluginManager.js           # ูุฏุฑ ุงูุฒูููโูุง
โ   โโโ plugin.js                  # ฺฉูุงุณ ูพุงู ุงูุฒููู
โ   โโโ eventEmitter.js            # ุณุณุชู ุฑูุฏุงุฏ
โ   โ
โ   โโโ interfaces/                # ูุฑุงุฑุฏุงุฏูุง ุงุณุชุงูุฏุงุฑุฏ
โ   โ   โโโ storageInterface.js    # ูุฑุงุฑุฏุงุฏ ุฐุฎุฑูโุณุงุฒ
โ   โ   โโโ httpClientInterface.js # ูุฑุงุฑุฏุงุฏ ุงุฑุชุจุงุท ุดุจฺฉู
โ   โ   โโโ providerInterface.js   # ูุฑุงุฑุฏุงุฏ ุงุฑุงุฆูโุฏููุฏฺฏุงู
โ   โ
โ   โโโ utils/                     # ุงุจุฒุงุฑูุง ฺฉูฺฉ
โ   โ   โโโ errors.js              # ฺฉูุงุณโูุง ุฎุทุง ุณูุงุฑุด
โ   โ   โโโ validator.js           # ุชูุงุจุน ุงุนุชุจุงุฑุณูุฌ
โ   โ   โโโ serializer.js          # ุณุฑุงูโุณุงุฒ ู deserialize
โ   โ
โ   โโโ index.js                   # Export ุนููู ููู ฺุฒ
โ
โโโ package.json
```

ุงุตูู ููู ฺฉู ุจุงุฏ ุฑุนุงุช ุจุดู:
1. Async-First: ุชูุงู ุนููุงุช ุงุตู ุจุงุฏ async ุจุงุดู (ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ูุญุทโูุง ูุฎุชูู ูุซู Web Workers)
2. Serializable Data: ุฏุงุฏูโูุง ุฑุฏ ู ุจุฏู ุดุฏู ุจุงุฏ JSON-serializable ุจุงุดู (ูู Functionุ ูู DOM Reference)
3. Isolated Communication: ุงุฑุชุจุงุท ุจู ุงุฌุฒุง ููุท ุงุฒ ุทุฑู Interface ูุง ู Event System
4. Event-Driven: ุฌุฑุงู ุงุตู ุจุฑ ูพุงู ุฑูุฏุงุฏุ ูู ูุฑุงุฎูุงู ูุณุชูู

ูฺฉุงุช ูพุงุฏูโุณุงุฒ:
1. Interface ูุง: ุจุงุฏ ุจู ุตูุฑุช ฺฉูุงุณ ูพุงู ุจุงุดู ฺฉู ูุชุฏูุงุดูู ุฎุทุง ูพุฑุชุงุจ ูโฺฉูู (ุจุงุฏ ุชูุณุท ุงูุฒูููโูุง ูพุงุฏูโุณุงุฒ ุจุดู).
    - StorageInterface: ูุชุฏูุง ูุซู saveChat, getChat, getAllChats, deleteChat, ...
    - HttpClientInterface: ูุชุฏูุง ูุซู request, streamRequest
    - ProviderInterface: ูุชุฏูุง ูุซู sendMessage, validateConfig, formatMessages
2. ฺฉูุงุณ Plugin: ฺฉ ฺฉูุงุณ ูพุงู ุจุง:
    - metadata ุงุณุชุงุชฺฉ (name, version, category, type, description, author, dependencies)
    - ฺูุงุฑ ูุชุฏ ฺุฑุฎู ุญุงุช: install(), activate(), deactivate(), uninstall()
3. ฺฉูุงุณ PluginManager: ูุฏุฑุช ุงูุฒูููโูุง
    - register, install, uninstall
    - getPlugin, getPluginsByType, getPluginsByCategory
    - ุณุณุชู Hook: registerHook, executeHook
    - ุจุฑุฑุณ ูุงุจุณุชฺฏโูุง
4. ฺฉูุงุณ Chat: ูุฏุฑุช ฺฉ ฺฏูุชฺฏู
    - sendMessage (ุจุง ูพุดุชุจุงู Stream)
    - getMessages, updateTitle, changeProvider
    - export/import
    - ุฑูุฏุงุฏูุง: message:sending, message:sent, chunk, response:complete, error, ...
5. ฺฉูุงุณ Peik: ฺฉูุงุณ ุงุตู
    - init: ุฑุงูโุงูุฏุงุฒุ ุจุงุฑฺฏุฐุงุฑ config ู ุงูุฒูููโูุง
    - createChat, getChat, getAllChats, deleteChat
    - importChat, exportChat, exportAll
    - updateSettings, getSettings
    - use: ูุงูุจุฑ ุจุฑุง register ุงูุฒููู (chainable)

ุงุณุชูุงุฏู ุงุฒ ฺฉุฏูุง ููุฌูุฏ:
ูโุชูู ุงุฒ ููุทู ฺฉุฏูุง ููุฌูุฏ ุฏุฑ js/core/ ู js/utils/ ุงุณุชูุงุฏู ฺฉูุ ูู:
- ููู ูุงุจุณุชฺฏโูุง ูุญุท ุฑู ุญุฐู ฺฉู
- ุณุงุฎุชุงุฑ ุฑู ูุทุงุจู ูุนูุงุฑ ุฌุฏุฏ ุชุบุฑ ุจุฏู
- ุงุฒ ุงุตูู ฺูุงุฑฺฏุงูู ูพุฑู ฺฉู

ุฏูุช ฺฉู ฺฉู ููุท ููู ุจุฎุดโูุง ฺฉู ฺฏูุชู ุฑุง ุชุบุฑ ุจุฏ.

### ูพุฑุงููพุช ฑฐธ
ุฎุจ ูุณุชู ุขูุงุฏู ุดุฏ! ุญุงูุง ูโุฎูุงู ูุฎุณุชู ุงูุฒููู ุฑู ุจุณุงุฒ. ฺฉ ุงูุฒููู ุฐุฎุฑูโุณุงุฒ ุณุงุฏู ุฏุฑ ุญุงูุธู (MemoryStorage) ฺฉู:
- ุงุฒ StorageInterface ุงุฑุซโุจุฑ ฺฉูู
- ุฏุงุฏูโูุง ุฑู ููุท ุฏุฑ RAM ูฺฏู ุฏุงุฑู (ุจุฑุง ุชุณุช)
- ุชูุงู ูุชุฏูุง ูุงุฒู ุฑู ูพุงุฏูโุณุงุฒ ฺฉูู

ุงู ุงูุฒููู ุฑู ุฏุฑ plugins/platform/memoryStorage/ ุจุณุงุฒ.

### ูพุฑุงููพุช ฑฐน
ูโุฎูุงู ุฏู ุงูุฒููู Provider ุจุณุงุฒู:

1. Gemini Provider: ุฏุฑ ูุณุฑ plugins/core/geminiProvider/index.js ุงู ุงูุฒููู ุจุงุฏ:
- ุงุฒ ProviderInterface ูพุฑู ฺฉูู
- ุจุง Google Gemini API ฺฉุงุฑ ฺฉูู
- ุงุฒ ุทุฑู HttpClient (ฺฉู ุงุฒ PluginManager ุฏุฑุงูุช ูโุดู) ุฏุฑุฎูุงุณุช ุจูุฑุณุชู
- ูพุดุชุจุงู ุงุฒ Stream ุฏุงุดุชู ุจุงุดู
- ุชุงุฑุฎฺู ูพุงูโูุง ุฑู ุจู ูุฑูุช Gemini ุชุจุฏู ฺฉูู
- ุฎุทุงูุง API ุฑู ูุฏุฑุช ฺฉูู

2. OpenAI Provider: ุฏุฑ ูุณุฑ plugins/core/openaiProvider/index.js. ุงู ุงูุฒููู ุจุงุฏ:
- ุงุฒ ProviderInterface ูพุฑู ฺฉูู
- ุจุง OpenAI API (ChatGPT) ฺฉุงุฑ ฺฉูู
- ุงุฒ ุทุฑู HttpClient ุฏุฑุฎูุงุณุช ุจูุฑุณุชู
- ูพุดุชุจุงู ุงุฒ Stream ุฏุงุดุชู ุจุงุดู
- ุชุงุฑุฎฺู ูพุงูโูุง ุฑู ุจู ูุฑูุช OpenAI ุชุจุฏู ฺฉูู
- ุฎุทุงูุง API ุฑู ูุฏุฑุช ฺฉูู

## ูฺฉุงุช ููู:
- ูุฑ ุฏู ุจุงุฏ ุงุฒ Plugin ุงุฑุซโุจุฑ ฺฉูู
- category ุจุงุฏ 'provider' ุจุงุดู
- ูุจุงุฏ ูุณุชููุงู fetch ุงุณุชูุงุฏู ฺฉููุ ุงุฒ HttpClient ุงุณุชูุงุฏู ฺฉูู
- ุจุงุฏ validateConfig ุฏุงุดุชู ุจุงุดู (ุจุฑุฑุณ apiKey ู modelName)
- ูุฑูุช ูพุงูโูุง ูพฺฉ ุฑู ุจู ูุฑูุช API ูุฑุจูุทู ุชุจุฏู ฺฉูู

### ูพุฑุงููพุช ฑฑฐ
ุฎุจุ Provider ูุง ุขูุงุฏู ุดุฏู ูู ุจู ฺฉ ุงูุฒููู HttpClient ูุงุฒ ุฏุงุฑู. ูโุฎูุงู ฺฉ ุงูุฒููู HttpClient ุจุณุงุฒู ฺฉู ุงุฒ Fetch API ุงุณุชูุงุฏู ฺฉูู. ูุณุฑ plugins/platform/fetchHttp/index.js. ุงู ุงูุฒููู ุจุงุฏ:
- ุงุฒ Plugin ุงุฑุซโุจุฑ ฺฉูู
- ุงุฒ HttpClientInterface ูพุฑู ฺฉูู
- category ุงุด 'network' ุจุงุดู
- ุฏู ูุชุฏ ุฏุงุดุชู ุจุงุดู:
  1. request(url, options): ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ุนุงุฏ
  2. streamRequest(url, options, onChunk, signal): ุจุฑุง ุฏุฑุงูุช ุงุณุชุฑู SSE

ูุชุฏ streamRequest ุจุงุฏ:
- ุงุฒ fetch ุจุง ReadableStream ุงุณุชูุงุฏู ฺฉูู
- ูุฑ ุฎุท ุงุฒ ุงุณุชุฑู ุฑู ุจู onChunk ุจูุฑุณุชู
- ุงุฒ signal ุจุฑุง ูุบู ุฏุฑุฎูุงุณุช ูพุดุชุจุงู ฺฉูู
- ุฎุทุงูุง ุดุจฺฉู ุฑู ูุฏุฑุช ฺฉูู

ูฺฉุชู: ุงู ุงูุฒููู ููุท ุฏุฑ ูุฑูุฑฺฏุฑ ุง Node.js 18+ ฺฉุงุฑ ูโฺฉูู (ฺฉู fetch ุฏุงุฑู).

### ูพุฑุงููพุช ฑฑฒ
ูโุฎูุงู ฺฉ ูุซุงู ฺฉุงูู ุฏุฑ examples/testCore.js ุจููุณ ฺฉู: 
1. ูุณุชู Peik ุฑู import ฺฉูู
2. ููู ุงูุฒูููโูุง ุฑู import ฺฉูู
3. ุงูุฒูููโูุง ุฑู ุจุง use() ุซุจุช ฺฉูู ุจู ุงู ุชุฑุชุจ:
   - MemoryStorage
   - FetchHttp
   - GeminiProvider
4. peik.init() ุฑู ุตุฏุง ุจุฒูู
5. ฺฉ ฺฏูพ ุฌุฏุฏ ุจุณุงุฒู ุจุง ุนููุงู "ุขุฒููู ูุณุชู ูพฺฉ"
6. ุชูุธูุงุช Gemini ุฑู ุงุฒ ูุชุบุฑ ูุญุท ุง ฺฉ ููุฏุงุฑ ุซุงุจุช ุจุฎููู:
   {
     provider: 'gemini',
     apiKey: 'YOUR_API_KEY',
     modelName: 'gemini-2.0-flash-exp'
   }
7. ฺฉ ูพุงู ุณุงุฏู ุจูุฑุณุชู: "ุณูุงู! ูุทูุงู ฺฉ ุดุนุฑ ฺฉูุชุงู ูุงุฑุณ ุจฺฏู."
8. ุฑูุฏุงุฏูุง ุฒุฑ ุฑู ฺฏูุด ุจุฏู ู ูุงฺฏ ฺฉูู:
   - 'ready': ููุช ุณุณุชู ุขูุงุฏู ุดุฏ
   - 'chat:created': ููุช ฺุช ุณุงุฎุชู ุดุฏ
   - 'chunk': ูุฑ ุชฺฉู ุงุฒ ูพุงุณุฎ (ุจุฏูู console.log ุฒุงุฏุ ููุท ุจู stdout ุงุถุงูู ฺฉู)
   - 'response:complete': ููุช ูพุงุณุฎ ฺฉุงูู ุดุฏ
   - 'error': ุงฺฏู ุฎุทุง ุฑุฎ ุฏุงุฏ
9. ุฏุฑ ุงูุชูุง ุฎูุงุตูโุง ูุดูู ุจุฏู:
   - ุชุนุฏุงุฏ ูพุงูโูุง
   - ุนููุงู ฺุช
   - ุทูู ูพุงุณุฎ ููุง
ุงู ูุซุงู ุจุงุฏ ุจุง Node.js ูุงุจู ุงุฌุฑุง ุจุงุดู.

ููฺูู ฺฉ ูุงู examples/README.md ูู ุจููุณ ฺฉู ุชูุถุญ ุจุฏู ฺุทูุฑ ุงุฌุฑุง ฺฉูู.

### ูพุฑุงููพุช ฑฑณ
ููุช ุงุณฺฉุฑูพุช ุขุฒููู ุฑุง ุจุง ุฏุณุชูุฑ `node examples/testCore.js` ุงุฌุฑุง ูโฺฉููุ ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ูโฺฉูู:

```js
(node:53100) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)
/home/alireza/project/goug/examples/testCore.js:1
import { Peik } from '../core/src/index.js';
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1153:20)
    at Module._compile (node:internal/modules/cjs/loader:1205:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1295:10)
    at Module.load (node:internal/modules/cjs/loader:1091:32)
    at Module._load (node:internal/modules/cjs/loader:938:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:83:12)
    at node:internal/main/run_main_module:23:47

Node.js v20.9.0
```

### ูพุฑุงููพุช ฑฑด
ุญุงูุง ูโุฎูุงู ุณูุฏูุง ฺฉุงูู ุจุฑุง ูุณุชู ุจููุณ:
1. ูุงู: core/docs/apiReference.md ฺฉ ูุฑุฌุน ฺฉุงูู API ฺฉู ุดุงูู:
- ูุนุฑู ฺฉูุชุงู ูุณุชู ูพฺฉ
- ุชูุถุญ ูุฑ ฺฉูุงุณ (Peik, Chat, Plugin, PluginManager, EventEmitter)
- ุชูุงู ูุชุฏูุง ุจุง ูพุงุฑุงูุชุฑูุง ู ูุซุงู ุงุณุชูุงุฏู
- ุชูุถุญ Interface ูุง
- ุชูุถุญ Utils
- ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ
2. ูุงู: core/docs/pluginDevelopmentGuide.md ุฑุงูููุง ุณุงุฎุช ุงูุฒููู ฺฉู ุดุงูู:
- ุงูุฒููู ฺุณุช ู ฺุฑุงุ
- ุณุงุฎุชุงุฑ ฺฉ ุงูุฒููู
- ฺฺฏููู ฺฉ ุงูุฒููู ุจุณุงุฒู (ฺฏุงู ุจู ฺฏุงู)
- ูุซุงู ฺฉ ุงูุฒููู ุณุงุฏู
- ุจูุชุฑู ุฑูุดโูุง (Best Practices)
3. ูุงู: core/README.md ฺฉ README ุจุฑุง ูพูุดู core ฺฉู ุดุงูู:
- ูุนุฑู ฺฉูุชุงู
- ูุตุจ ู ุงุณุชูุงุฏู
- ูุซุงู ุณุฑุน
- ููฺฉ ุจู ูุณุชูุฏุงุช
- ูุณุช ุงูุฒูููโูุง ููุฌูุฏ

ููู ูุณุชูุฏุงุช ูุงุฑุณ ุจุงุดูุฏ ู ุจุง ูุซุงูโูุง ูุงุถุญ.

### ูพุฑุงููพุช ฑฑต
ุญุงูุง ูโุฎูุงู ุฑุงุจุท ฺฉุงุฑุจุฑ ูุนู (ฺฉู ุฏุฑ js/ui/ ู templates/ ู styles/ ูุณุช) ุฑุง ุจู ฺฉ ุงูุฒููู ูุณุชูู ุชุจุฏู ฺฉู. ูุฏู ุณุงุฎุช ฺฉ ุงูุฒููู WebUI ุฏุฑ ูุณุฑ plugins/presentation/webUI/ ุงุณุช. ุงู ุงูุฒููู ุจุงุฏ:
- ุงุฒ Plugin ุงุฑุซโุจุฑ ฺฉูู
- category ุงุด 'presentation' ุจุงุดู
- ุชูุงู ูุงุจูุชโูุง UI ูุนู ุฑู ุฏุงุดุชู ุจุงุดู:
  - ููุงุด ูุณุช ฺุชโูุง ุฏุฑ Sidebar
  - ููุงุด ูพุงูโูุง
  - ฺฉุงุฏุฑ ูุฑูุฏ ุจุฑุง ุงุฑุณุงู ูพุงู
  - ูพุดุชุจุงู ุงุฒ ุชุตูุฑ
  - ูุฏุงู ุชูุธูุงุช
  - Lightbox ุจุฑุง ุชุตุงูุฑ
  - ูพุดุชุจุงู ุงุฒ Markdown
- ุงุฒ ูุณุชู Peik ุงุณุชูุงุฏู ฺฉูู (ูู ูุณุชููุงู ุจุง DOM)
- ุงุฒ ุฑูุฏุงุฏูุง Chat ฺฏูุด ุจุฏู (chunk, response:complete, ...)
- ุณุงุฎุชุงุฑ ูุงูโูุง ูุดุงุจู ูุนู ุจุงุดู ูู ูุงฺููุงุฑ
- ุณุงุฎุชุงุฑ ูพุดููุงุฏ:
```
plugins/presentation/webUI/
โโโ index.js                # ุงูุฒููู ุงุตู
โโโ components/
โ   โโโ sidebar.js
โ   โโโ messageList.js
โ   โโโ inputArea.js
โ   โโโ settingsModal.js
โ   โโโ lightbox.js
โโโ templates/
โ   โโโ ... (HTML templates)
โโโ styles/
โ   โโโ ... (CSS files)
โโโ package.json
```

ุงุฒ ฺฉุฏูุง ููุฌูุฏ ุฏุฑ js/ui/ ู templates/ ู styles/ ุงุณุชูุงุฏู ฺฉู ูู:
- ุขูโูุง ุฑุง ูุงฺููุงุฑ ฺฉู
- ุจู ุฌุง ุฏุณุชุฑุณ ูุณุชูู ุจู chatEngineุ ุงุฒ peik ู chat ุงุณุชูุงุฏู ฺฉู
- ุงุฒ ุฑูุฏุงุฏูุง ุจุฑุง ุจูโุฑูุฒุฑุณุงู UI ุงุณุชูุงุฏู ฺฉู

### ูพุฑุงููพุช ฑฑถ
ูโุฎูุงู ูุงูโูุง ฺฉู WebUI ุจูุดูู ูุงุจุณุชฺฏ ุฏุงุฑู ุฑู ุจู ูพูุดู ุงูุฒููู ููุชูู ฺฉู:
1. ูุงู templateLoader.js ุฑุง ุงุฒ js/ui/ ุจู plugins/presentation/webUI/utils/ ุงูุชูุงู ุจุฏู
2. ูุงู markdownService.js ุฑุง ุงุฒ js/services/ ุจู plugins/presentation/webUI/utils/ ุงูุชูุงู ุจุฏู
3. ุชูุงู ูุงูโูุง templates/ ุฑุง ุจู plugins/presentation/webUI/templates/ ุงูุชูุงู ุจุฏู
4. ุชูุงู ูุงูโูุง styles/ ุฑุง ุจู plugins/presentation/webUI/styles/ ุงูุชูุงู ุจุฏู
5. ุฏุฑ ูุงูโูุง WebUIุ import ูุง ุฑุง ุจู ูุณุฑูุง ุฌุฏุฏ ุชุบุฑ ุจุฏู
6. ฺฉ ูุงู index.html ุฌุฏุฏ ุฏุฑ ุฑุดู ูพุฑูฺู ุจุณุงุฒ ฺฉู:
   - ููุท ฺฉ div ุจุง id="root" ุฏุงุดุชู ุจุงุดู
   - ูุณุชู ู ุงูุฒูููโูุง ุฑู import ฺฉูู
   - WebUI ุฑู ุฑุงูโุงูุฏุงุฒ ฺฉูู

### ูพุฑุงููพุช ฑฑท
1. ูู ูุงู ฺฉุชุงุจุฎุงูู markdown-it ุจู ุขุฏุฑุณ `plugins/presentation/webUI/lib/` ููุชูู ฺฉุฑุฏูุ ุงุฒุช ูโุฎูุงู ุฏุฑ utils/markdownService.js ูุณุฑ import ุฑุง ูุฑุงุด ฺฉู.
2. ูุงู index.html ุฑุง ุฏุฑ ุฑุดู ูพุฑูฺู ุจุง ุชูุฌู ุจู ุณุงุฎุชุงุฑ ุฌุฏุฏ ูพุฑูฺู ุจุฑูุฒุฑุณุงู ฺฉูุ ุชุง ุจุชููู ุงุฒ ุงูุฒููู ุฌุฏุฏ webUI ุงุณุชูุงุฏู ฺฉูู.

### ูพุฑุงููพุช ฑฑธ
ูุงู index.html ุฑุง ุฏุฑ ุฑุดู ูพุฑูฺู ุจุง ุชูุฌู ุจู ุณุงุฎุชุงุฑ ุฌุฏุฏ ูพุฑูฺู ุจุฑูุฒุฑุณุงู ฺฉูุ ุชุง ุจุชููู ุงุฒ ุงูุฒููู ุฌุฏุฏ webUI ุงุณุชูุงุฏู ฺฉูู.

ุฏูุช ฺฉู ูู ูโุฎูุงู ูพุฑูฺู ุจุง ุณุงุฎุชุงุฑ ุฌุฏุฏ (ุงูุฒููู ูุญูุฑ) ุงุฌุฑุง ุจุดู ูู ุณุงุฎุชุงุฑ ูุฏู.

### ูพุฑุงููพุช ฑฑน
ูุงู index.html  ฺฉู ุฏุฑ ุฑุดู ูพุฑูฺู ูุณุช ุฑุง ุจู ุตูุฑุช ุฒุฑ ุจุฑูุฒุฑุณุงู ฺฉู:
- ฺฉ div ุจุง id="root" ุฏุงุดุชู ุจุงุดู
- ุชูุงู CSS ูุง webUI ุฑู ููฺฉ ฺฉูู (ุงุฒ plugins/presentation/webUI/styles/)
- ฺฉ ุงุณฺฉุฑูพุช ุฏุงุดุชู ุจุงุดู ฺฉู:
  - ูุณุชู Peik ุฑู import ฺฉูู
  - ุงูุฒูููโูุง ูุงุฒู ุฑู import ฺฉูู:
    - memoryStorage
    - FetchHttp
    - GeminiProvider
    - OpenAIProvider
    - WebUI
  - ููู ุฑู ุซุจุช ฺฉูู
  - peik.init() ุฑู ุตุฏุง ุจุฒูู

### ูพุฑุงููพุช ฑฒฐ
ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
โ ุฎุทุง ูููฺฉ ุฏุฑ ุฑุงูโุงูุฏุงุฒ: PluginError: ูุงุจุณุชฺฏโูุง ุฒุฑ ุจุฑุง web-ui ุงูุช ูุดุฏ: storage
    PeikError http://localhost:3000/core/src/utils/errors.js:6
    PluginError http://localhost:3000/core/src/utils/errors.js:21
    register http://localhost:3000/core/src/pluginManager.js:26
    use http://localhost:3000/core/src/peik.js:25
    <anonymous> http://localhost:3000/:44
localhost:3000:51:25
    <anonymous> http://localhost:3000/:51
```

ุงูุฒููู webUI ูุจุงุฏ ุจู ุฐุฎุฑูโุณุงุฒ ูุงุจุณุชฺฏ ุฏุงุดุชู ุจุงุดูุ ุจุงุฏ ุจุง ูุฑ ุฐุฎุฑูโุณุงุฒ ุจุชููู ฺฉุงุฑ ฺฉูู. ุฏุฑ ุงู ุฌุง ูุง `memoryStorage` ุฑุง ุจู ุนููุงู ุฐุฎุฑูโุณุงุฒ ูุฑุงุฑ ุฏุงุฏู ูพุณ ุจุงุฏ ฺฉุงุฑ ฺฉูู.

### ูพุฑุงููพุช ฑฒฑ
ุจุง ุงูุชุฎุงุจ ุฏฺฉูู ยซฺฏูพ ุฌุฏุฏยป ุฎุทุง ุฒุฑ ุฏุฑ ฺฉูุณูู ููุงุด ุฏุงุฏู ูโุดู:

```js
Uncaught (in promise) TypeError: this.peik.getModelDisplayInfo is not a function
    updateHeader http://localhost:3000/plugins/presentation/webUI/uiManager.js:148
    switchChat http://localhost:3000/plugins/presentation/webUI/uiManager.js:131
    bindCoreEvents http://localhost:3000/plugins/presentation/webUI/uiManager.js:73
    emit http://localhost:3000/core/src/eventEmitter.js:46
    emit http://localhost:3000/core/src/eventEmitter.js:44
    createChat http://localhost:3000/core/src/peik.js:87
    createNewChat http://localhost:3000/plugins/presentation/webUI/uiManager.js:120
    bindGlobalEvents http://localhost:3000/plugins/presentation/webUI/uiManager.js:104
    bindGlobalEvents http://localhost:3000/plugins/presentation/webUI/uiManager.js:104
    init http://localhost:3000/plugins/presentation/webUI/uiManager.js:31
    activate http://localhost:3000/plugins/presentation/webUI/index.js:29
    register http://localhost:3000/core/src/pluginManager.js:35
    use http://localhost:3000/core/src/peik.js:25
    <anonymous> http://localhost:3000/:44
    async* http://localhost:3000/:63
```

### ูพุฑุงููพุช ฑฒฒ
ูโุฎูุงู ฺฉ ุงูุฒููู IndexedDBStorage ุจุณุงุฒ ฺฉู ุฏุงุฏูโูุง ุฑู ุฏุงุฆู ุฐุฎุฑู ฺฉูู. ุงูุฒููู ุฏุฑ ูุณุฑ plugins/platform/indexeddbStorage/index.js ุณุงุฎุชู ุจุดู.
- ุงุฒ Plugin ุงุฑุซโุจุฑ ฺฉูู
- ุงุฒ StorageInterface ูพุฑู ฺฉูู
- category ุงุด 'storage' ุจุงุดู
- ุงุฒ IndexedDB ูุฑูุฑฺฏุฑ ุงุณุชูุงุฏู ฺฉูู
- ุชูุงู ูุชุฏูุง StorageInterface ุฑู ูพุงุฏูโุณุงุฒ ฺฉูู:
  - saveSettings / loadSettings
  - saveChat / loadChat / getAllChats / deleteChat
- ุฏุฑ ูุณุฎู ูุฏู ฺฉ ูุงู `js/services/indexedDBStorage.js` ุฏุงุดุชู ฺฉู ุฎูุจ ฺฉุงุฑ ูโฺฉุฑุฏุ ูโุชูู ุงุฒ ููุทูุด ุงุณุชูุงุฏู ฺฉู ูู ุจู ุตูุฑุช ุงูุฒููู ุจููุณ.

ุจุนุฏ ุงุฒ ุณุงุฎุชู ุงู ุงูุฒูููุ ุฏุฑ index.html ุจู ุฌุง MemoryStorage ุงุฒ IndexedDBStorage ุงุณุชูุงุฏู ฺฉู.

### ูพุฑุงููพุช ฑฒณ
ูพุงูโูุง ูุฏู ููุด ุฏุฑ ุญุจุงุจ ูุฎุตูุต ุจู ุฎูุฏุด ููุงุด ุฏุงุฏู ููโุดู ู ุจุฏูู ูฺ ุงุณุชุงู ุฏุฑ ุฒุฑ ูพุงู ฺฉุงุฑุจุฑ (ุณูุช ุฑุงุณุช) ููุงุด ุฏุงุฏู ูโุดู.

### ูพุฑุงููพุช ฑฒต
ุฏุฑ ุตูุญู ูุฏุฑุช ฺฉูุฏูุงุ ุฏุฑ ุจุฎุด ูุฏู ุณูุงุฑุด ุฏฺฉูู ยซุงูุฒูุฏูยป ฺฉุงุฑ ููโฺฉูู.

### ูพุฑุงููพุช ฑฒถ
ุญุงูุง ุฏุฑ ฺฉูุณูู ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
Uncaught (in promise) TypeError: this.engine.saveSettings is not a function
    handleSave http://localhost:3000/plugins/presentation/webUI/components/settingsModal.js:288
```

### ูพุฑุงููพุช ฑฒท
ูุดฺฉู ุงุตู ุฏุฑ ุงูุฒููู webUI ุงุณุช ฺฉู ุงุฒ ูุงูโฺฏุฐุงุฑโูุง ูุฏู ุงุณุชูุงุฏู ูโฺฉูู. ุจุงุฏ ูุงู `plugins/presentation/webUI/components/settingsModal.js` ุฑุง ุจุง ุณุงุฎุชุงุฑ ุฌุฏุฏ ููุงููฺฏ ฺฉู.

### ูพุฑุงููพุช ฑฒธ
ูโุฎูุงู ฺฉ ุงูุฒููู CustomProvider ุจุณุงุฒ ุจุฑุง ูุฏูโูุง ุณูุงุฑุด (ูุซู Ollama). ูุณุฑ plugins/core/customProvider/index.js
- ุงุฒ Plugin ุงุฑุซโุจุฑ ฺฉูู
- ุงุฒ ProviderInterface ูพุฑู ฺฉูู
- category ุงุด 'provider' ุจุงุดู
- metadata.name ุงุด 'custom' ุจุงุดู
- ุงุฒ HttpClient ุงุณุชูุงุฏู ฺฉูู
- ุจุง APIูุง ุณุงุฒฺฏุงุฑ ุจุง OpenAI ฺฉุงุฑ ฺฉูู (ูุซู Ollama)
- ูพุดุชุจุงู ุงุฒ Stream ุฏุงุดุชู ุจุงุดู
- endpoint URL ุฑู ุงุฒ config ุฏุฑุงูุช ฺฉูู (ฺูู custom ูุณุช)
- endpoint URL ุงุฒ config.endpointUrl ุจุฎููู (ูู hard-coded)
- ุงฺฏุฑ apiKey ูุจูุฏุ ุฎุทุง ูุฏู (ุจุฑุฎ APIูุง ูุญู ูุงุฒ ูุฏุงุฑู)

ุฏุฑ index.html ุงุถุงููโุงุด ฺฉู.

### ูพุฑุงููพุช ฑฒน
ุฏุฑ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฎุทุง ุฒุฑ ููุงุด ุฏุงุฏู ูโุดู:

```js
ุฎุทุง ุฏุฑ ุงุฑุณุงู ูพุงู: ProviderError: Stream API Error: 401
    PeikError http://localhost:3000/core/src/utils/errors.js:6
    ProviderError http://localhost:3000/core/src/utils/errors.js:33
    sendMessage http://localhost:3000/plugins/core/customProvider/index.js:66
chat.js:110:25
    sendMessage http://localhost:3000/core/src/chat.js:110
```

### ูพุฑุงููพุช ฑณฐ
ูฺฺฏโูุง ยซูุฑุงุด ูุงู ฺฏูพยปุ ยซุฑูููุดุช ูพุงูยป ู ยซุจุงุฑฺฏุฐุงุฑ ุชุตูุฑยป ฺฉู ุฏุฑ ูุณุฎู ูพุดู ุจูุฏูุ ุงูุงู ุฏุฑ UI ุฌุฏุฏ ูุณุชู. ุงูโูุง ุจุงุฏ ุจุฎุด ุงุฒ ุงูุฒููู `web-ui` ุจุงุดู.
1. `sidebar.js` (ูุฑุงุด ูุงู):
   - ฺฉูุงุฑ ุฏฺฉูู ุญุฐูุ ฺฉ ุฏฺฉูู ยซูุฑุงุดยป (ุจุง ุขฺฉูู `edit`) ุงุถุงูู ฺฉู.
   - ูุงู ุฌุฏุฏ ุฑุง ุงุฒ ฺฉุงุฑุจุฑ ุจฺฏุฑ.
2. ุฑูููุดุช ูพุงู
   - ุฏุงุฎู ุญุจุงุจ ูพุงูุ ฺฉ ุฏฺฉูู ฺฉูฺฺฉ ยซุฑูููุดุชยป (ุขฺฉูู `content_copy`) ูุฑุงุฑ ุจุฏู.
   - ุจุง ฺฉูฺฉ ุฑู ุขูุ ูุชู ูพุงู ุฑุง ุฏุฑ ฺฉููพโุจูุฑุฏ ุฑูููุดุช ฺฉู.
   - ุจุฑุง ุจุงุฒุฎูุฑุฏ ุจู ฺฉุงุฑุจุฑุ ุขฺฉูู ุฑุง ุจุฑุง ฒ ุซุงูู ุจู `check` ุชุบุฑ ุจุฏู.
3. ุจุงุฑฺฏุฐุงุฑ ุชุตูุฑ
   - ฺฉ ุฏฺฉูู ุจุง ุขฺฉูู `image` ุจู ฺฉูุงุฑ ุฏฺฉูู ุงุฑุณุงู ุงุถุงูู ฺฉู.
   - ุจุง ฺฉูฺฉ ุฑู ุขูุ ฺฉ `input[type=file]` ูุฎู (ููุท ุชุตุงูุฑ) ุจุงุฒ ุดูุฏ.
   - ููุช ุชุตูุฑ ุงูุชุฎุงุจ ุดุฏ:
     - ุขู ุฑุง ุจู Base64 ุชุจุฏู ฺฉู.
     - ฺฉ ูพุดโููุงุด ฺฉูฺฺฉ (Thumbnail) ุจุง ุฏฺฉูู ุญุฐู (X) ุจุงูุง ฺฉุงุฏุฑ ูุชู ูุดุงู ุจุฏู.
   - ุฏุฑ ูุชุฏ `sendMessage`ุ ุงฺฏุฑ ุชุตูุฑ ุงูุชุฎุงุจ ุดุฏู ุจูุฏุ ุขู ุฑุง ุจู ุนููุงู ุขุฑฺฏููุงู ุฏูู ุจู `chat.sendMessage(text, { mimeType, data })` ูพุงุณ ุจุฏู.

### ูพุฑุงููพุช ฑณฑ
ูโุฎูุงู ุฏฺฉููโูุง ูุฑุงุด ู ุญุฐู ูุฑ ุฏู ุฏุฑ ฺฉ ูุณุช ุฏุฑุงูพ ุฏุงูู ููุงุด ุฏุงุฏู ุจุดู. ฺฉ ุฏฺฉูู ุณู ููุทู ุงูู ูุฑุงุฑ ุจุฏู ุชุง ุงู ูุณุช ููุงุด ุฏุงุฏู ุจุดู.

### ูพุฑุงููพุช ฑณฒ
ุฏุฑ ุฒูุงู ูุฑุงุด ูุงู ุฎุทุง ุฒุฑ ุฏุฑ ฺฉูุณูู ููุงุด ุฏุงุฏู ูโุดู:

```js
Uncaught TypeError: this.peik.renameChat is not a function
    addChat http://localhost:3000/plugins/presentation/webUI/components/sidebar.js:81
```

### ูพุฑุงููพุช ฑณณ
ุฏุฑ peik.js ูุชุฏ renameChat ุงุถุงูู ุดุฏู ูู ุงุฒ chatManager.renameChat() ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ูุฌูุฏ ูุฏุงุฑู.

ูุทูุงู ุงู ูุชุฏ ุฑู ุฏุฑ peik.js ุชุตุญุญ ฺฉู:

async renameChat(chatId, newTitle) {
    const chat = await this.getChat(chatId);
    if (chat) {
        await chat.updateTitle(newTitle);
    }
}

ุงู ฺฉุงุฑ ูุณุชููุงู ุงุฒ ูุชุฏ updateTitle ููุฌูุฏ ุฏุฑ ฺฉูุงุณ Chat ุงุณุชูุงุฏู ูโฺฉูู.

### ูพุฑุงููพุช ฑณด
ุจุฑุฑุณ ฺฉู ฺฉู ุขุง Lightbox ุจุฑุง ููุงุด ุชุตุงูุฑ ูพุงุฏูโุณุงุฒ ุดุฏู ุงฺฏู ูู:
2. ููุช ุฑู ุชุตูุฑ ุฏุฑ MessageList ฺฉูฺฉ ูโุดูุ Lightbox ุจุงุฒ ุจุดู
3. Lightbox ุจุงุฏ:
   - ุชุตูุฑ ุฑู ุชูุงู ุตูุญู ูุดูู ุจุฏู
   - ุฏฺฉูู ุจุณุชู (ร) ุฏุงุดุชู ุจุงุดู
   - ุจุง ฺฉูฺฉ ุฑู ูพุณโุฒููู ุจุณุชู ุจุดู
   - ุจุง ฺฉูุฏ ESC ุจุณุชู ุจุดู

### ูพุฑุงููพุช ฑณต
ูพุงูโูุง ูุฏู ููุด ุจู ุตูุฑุช ุฎุงู ููุงุด ุฏุงุฏู ูโุดู ู ุจู ูุงุฑฺฉโุฏุงูู ุฑูุฏุฑ ููโุดู.

### ูพุฑุงููพุช ฑณถ
ุฒูุงู ุงุฌุฑุง ูพุฑูฺู ุฎุทุง ุฒุฑ ุฏุฑ ฺฉูุณูู ููุงุด ุฏุงุฏู ูโุดู:

```js
GET
http://localhost:3000/js/utils/customErrors.js
NS_ERROR_CORRUPTED_CONTENT

Loading module from โhttp://localhost:3000/js/utils/customErrors.jsโ was blocked because of a disallowed MIME type (โtext/htmlโ).
localhost:3000
```

### ูพุฑุงููพุช ฑณท
ูโุฎูุงู ูุงู README ุฑุง ุจุง ุชูุฌู ุจู ุณุงุฎุชุงุฑ ู ูุนูุงุฑ ุชุงุฒู ูพุฑูฺู ุจุฑูุฒุฑุณุงู ฺฉู.

### ูพุฑุงููพุช ฑณธ
ูโุฎูุงู ูพูุดู `/docs` ุฑุง ุงุฌุงุฏ ฺฉู ู ุณูุฏูุง ุฒุฑ ุฑุง ุงุฌุงุฏ ฺฉู
1. ุณูุฏ `architecture.md`
  - ููุณูู ูุนูุงุฑ ุงูุฒูููโูุญูุฑ
  - ูููุฏุงุฑ ฺฉู ุณุณุชู
  - ุชูุถุญ ูุงูโูุง (Core, Platform, Presentation)
  - ุฌุฑุงู ุฏุงุฏู (Data Flow)
  - ุชุตููุงุช ูุนูุงุฑ ููู ู ุฏูุงูุด
  - ุงุตูู ฺูุงุฑฺฏุงูู ุขูุฏูโูฺฏุฑ
2. ุณูุฏ `gettingStarted.md`
  - ูพุดโูุงุฒูุง
  - ูุตุจ ฺฏุงูโุจูโฺฏุงู
  - ุงููู ฺุช (Tutorial)
  - ุชูุธูุงุช ุงููู
  - ูฺฉุงุช ุนุจโุงุจ
3. ุณูุฏ`userGuide.md`
  - ุขุดูุง ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ
  - ูุญูู ุงุฌุงุฏ ู ูุฏุฑุช ฺุชโูุง
  - ุชูุธูุงุช ู ฺฉูุฏูุง API
  - ูุฏุฑุช ูุฏูโูุง ุณูุงุฑุด
  - ุงุฑุณุงู ุชุตูุฑ
  - ูฺฉุงุช ู ุชุฑููุฏูุง
4. ุณูุฏ `developerGuide.md`
  - ูุฎุงุทุจ: ุชูุณุนูโุฏููุฏฺฏุงู ฺฉู ูโุฎูุงู ุงุฒ ูุณุชู ุงุณุชูุงุฏู ฺฉูู
  - ูุญูู ุงุณุชูุงุฏู ุงุฒ `peik-core` ุฏุฑ ูพุฑูฺู
  - API Reference ุฎูุงุตู
  - ูููููโูุง ฺฉุงุฑุจุฑุฏ
  - ุณุงุฎุช UI ุณูุงุฑุด
  - ุงุณุชูุงุฏู ุฏุฑ ูุญุทโูุง ูุฎุชูู (Browser, Node.js)
5. ุณูุฏ `faq.md`
  - ูพุฑุณุดโูุง ูพุฑุชฺฉุฑุงุฑ
  - ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญู
  - ูุญุฏูุฏุชโูุง
  - ุชูุงูุช ุจุง ุงุจุฒุงุฑูุง ูุดุงุจู

### ูพุฑุงููพุช ฑณน
ุชุบุฑุงุช ุฒุฑ ุฑุง ุงูุฌุงู ุจุฏู:
1. ุฏุฑ ุณูุฏ ูุนูุงุฑ: ุงุถุงูู ฺฉุฑุฏู ฺฉ **ูููุฏุงุฑ ุณุงุฏู** (ุญุช ุจู ุตูุฑุช ASCII Art) ุฏุฑ ุจุฎุด ูุงูโุจูุฏ
2. ุฏุฑ ุฑุงูููุง ุชูุณุนูโุฏููุฏูโฺฏุงู:
    - ุงุถุงูู ฺฉุฑุฏู ุจุฎุด **"ูุนูุงุฑ ุฏุฑ ฺฉ ูฺฏุงู"** ุจุง ฺฉ ูููุฏุงุฑ
    - ุชูุถุญ **ูุญูู Debug ฺฉุฑุฏู**

### ูพุฑุงููพุช ฑดฐ
ุณูุฏูุง ุฒุฑ ุฑุง ุจููุณ:
1. `core/docs/interfaces.md`:
    - StorageInterface - ูุฑุงุฑุฏุงุฏ ฺฉุงูู
    - HttpClientInterface - ูุฑุงุฑุฏุงุฏ ฺฉุงูู
    - ProviderInterface - ูุฑุงุฑุฏุงุฏ ฺฉุงูู
    - ฺุฑุง Interface ูุญูุฑุ
    - ูุญูู ูพุงุฏูโุณุงุฒ
2. `core/docs/events.md`:
  - ุณุณุชู ุฑูุฏุงุฏ EventEmitter
  - ูุณุช ฺฉุงูู ุฑูุฏุงุฏูุง Peik
  - ูุณุช ฺฉุงูู ุฑูุฏุงุฏูุง Chat
  - ูุญูู ุงุณุชูุงุฏู
  - ูููููโูุง

### ูพุฑุงููพุช ฑดฑ
ุจุฑุง ุงูุฒูููโูุง ุฒุฑ ฺฉ ูุงู README ุจููุณ:
1. ุงูุฒููู memoryStoraged
    - ฺุณุช ู ฺู ฺฉุงุฑ ูโฺฉูู
    - ฺู ูููุน ุงุฒุด ุงุณุชูุงุฏู ฺฉูู
    - ูุญูู ูุตุจ
    - ูพฺฉุฑุจูุฏ
    - ูุญุฏูุฏุชโูุง (ุฏุงุฏูโูุง ูููุชโุงู)
    - ูุซุงู ุงุณุชูุงุฏู
2. ุงูุฒููู indexeddbStorage
    - ฺุณุช ู ฺู ฺฉุงุฑ ูโฺฉูู
    - ูุฒุงุง (ุฐุฎุฑู ุฏุงุฆู)
    - ูุญูู ูุตุจ
    - ูพฺฉุฑุจูุฏ
    - ุณุงุฎุชุงุฑ ุฏุชุงุจุณ
    - ูุซุงู ุงุณุชูุงุฏู
3. ุงูุฒููู fetchHttp
    - ฺุณุช ู ฺู ฺฉุงุฑ ูโฺฉูู
    - ูุญูู ูุตุจ
    - ูพุดุชุจุงู ุงุฒ Stream
    - ูุญุฏูุฏุชโูุง (ููุท ูุฑูุฑฺฏุฑ ู Node 18+)
    - ูุซุงู ุงุณุชูุงุฏู
4. ุงูุฒููู geminiProvider
    - ูุนุฑู Google Gemini
    - ูุญูู ุฏุฑุงูุช ฺฉูุฏ API
    - ูุฏูโูุง ูพุดุชุจุงูโุดุฏู
    - ูุญูู ูุตุจ
    - ูพฺฉุฑุจูุฏ
    - ูุงุจูุชโูุง (ุชุตูุฑุ ุงุณุชุฑู)
    - ูุญุฏูุฏุชโูุง ู Quota
    - ูุซุงู ุงุณุชูุงุฏู
5. ุงูุฒููู openaiProvider
    - ูุนุฑู OpenAI
    - ูุญูู ุฏุฑุงูุช ฺฉูุฏ API
    - ูุฏูโูุง ูพุดุชุจุงูโุดุฏู (GPT-4, GPT-3.5)
    - ูุญูู ูุตุจ
    - ูพฺฉุฑุจูุฏ
    - ูุงุจูุชโูุง
    - ูุฒููโูุง
    - ูุซุงู ุงุณุชูุงุฏู
6. ุงูุฒููู customProvider
    - ฺุณุช (APIูุง ุณุงุฒฺฏุงุฑ ุจุง OpenAI)
    - ูููููโูุง (Ollama, LMStudio, LocalAI)
    - ูุญูู ูุตุจ
    - ูพฺฉุฑุจูุฏ (endpoint, model, apiKey ุงุฎุชุงุฑ)
    - ุชุณุช ุงุชุตุงู
    - ูุซุงู ุจุง Ollama

### ูพุฑุงููพุช ฑดฒ
ูโุฎูุงู ุจุฑุง ุงูุฒููู webUI ุณูุฏูุง ุฒุฑ ุฑุง ุจููุณ:
1. ุณูุฏ `plugins/presentation/webUI/README.md`
    - ูุนุฑู ุงูุฒููู
    - ูฺฺฏโูุง
    - ูุญูู ูุตุจ
    - ูพฺฉุฑุจูุฏ (rootElement)
    - ุณูุงุฑุดโุณุงุฒ (CSS Variables)
    - ุณุงุฎุชุงุฑ ฺฉุงููพูููุชโูุง
    - ูุญูู ุชูุณุนู UI ุณูุงุฑุด
    - ูุซุงู ุงุณุชูุงุฏู
2. ุณูุฏ `plugins/presentation/webUI/docs/components.md`
    - ูุนูุงุฑ ฺฉุงููพูููุช
    - ุชูุถุญ ูุฑ ฺฉุงููพูููุช:
      - Sidebar
      - MessageList
      - InputArea
      - SettingsModal
      - LightboxManager
    - UIManager ู ููุดุด
    - ูุญูู ุณูุงุฑุดโุณุงุฒ
3. ุณูุฏ `plugins/presentation/webUI/docs/theming.md`
    - ุณุณุชู ูุชุบุฑูุง CSS
    - ูุญูู ุชุบุฑ ุฑูฺฏโูุง
    - ูุญูู ุชุบุฑ ูููุชโูุง
    - ุณุงุฎุช ุชู ุณูุงุฑุด
    - ูุซุงู ุชู ุฑูุดู/ุชุงุฑฺฉ

### ูพุฑุงููพุช ฑดฒ
ุณู ูุดฺฉู ุฒุฑ ุฑุง ุฏุฑ ฺฉุฏูุง ูุณุชู ูพฺฉ ุจุฑุทุฑู ฺฉู:
1. ุฌุฏุงุณุงุฒ ูุถุนุช Runtime ุงุฒ Chat: ุฏุฑ ฺฉูุงุณ `Chat`ุ ุฏู ููุฏ `isSending` ู `abortController` ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ูุจุงุฏ ุฌุฒู ุฏุงุฏูโูุง ูุงุจู ุฐุฎุฑูโุณุงุฒ ุจุงุดูุฏ (ฺูู ูุงุจู ุณุฑุงูโุณุงุฒ ูุณุชูุฏ).
    - ุงู ุฏู ููุฏ ุฑุง ุงุฒ ฺฉูุงุณ `Chat` ุญุฐู ฺฉู
    - ุฏุฑ ฺฉูุงุณ `Peik` ฺฉ `Map` ุจู ูุงู `chatRuntimeStates` ุจุณุงุฒ ฺฉู ูุถุนุช ูุญุธูโุง ูุฑ ฺุช ุฑุง ูฺฏู ุฏุงุฑุฏ
    - ฺฉูุฏ ุงู Map ุจุงุฏ `chatId` ุจุงุดุฏ ู ููุฏุงุฑ ุขู `{ isSending: false, abortController: null }`
    - ุฏุฑ ูุชุฏ `sendMessage` ฺฉูุงุณ `Chat`ุ ุจู ุฌุง ุงุณุชูุงุฏู ูุณุชูู ุงุฒ `this.isSending`ุ ุงุฒ ุทุฑู `this.peik.chatRuntimeStates.get(this.id)` ุจู ุงู ุงุทูุงุนุงุช ุฏุณุชุฑุณ ูพุฏุง ฺฉู
    - ููฺฏุงู ุงุฌุงุฏ ฺฉ Chat ุฌุฏุฏ ุฏุฑ ูุชุฏ `createChat` ฺฉูุงุณ `Peik`ุ ฺฉ ุฑฺฉูุฑุฏ ุฎุงู ุฏุฑ `chatRuntimeStates` ุจุฑุง ุขู ฺุช ุจุณุงุฒ
    - ููฺฏุงู ุญุฐู ฺุช ุฏุฑ ูุชุฏ `deleteChat`ุ ุฑฺฉูุฑุฏ ูุฑุจูุทู ุฑุง ุงุฒ `chatRuntimeStates` ูพุงฺฉ ฺฉู
2. ุฌุงุจุฌุง ููุทู ูพุฏุง ฺฉุฑุฏู Provider: ูุชุฏ `_resolveProvider` ุฏุฑูู ฺฉูุงุณ `Chat` ูุฑุงุฑ ุฏุงุฑุฏ ฺฉู ุจุงุนุซ ูุงุจุณุชฺฏ ูุณุชูู Chat ุจู PluginManager ูโุดูุฏ.
    - ูุชุฏ `_resolveProvider` ุฑุง ุงุฒ ฺฉูุงุณ `Chat` ุญุฐู ฺฉู
    - ฺฉ ูุชุฏ ุนููู ุจู ูุงู `getProvider(modelInfo)` ุฏุฑ ฺฉูุงุณ `Peik` ุจุณุงุฒ ฺฉู:
      - `modelInfo.provider` ุฑุง ุจฺฏุฑุฏ
      - ุฏุฑ `this.pluginManager.getPluginsByCategory('provider')` ุฌุณุชุฌู ฺฉูุฏ
      - ุงูุฒูููโุง ฺฉู `metadata.name` ุขู ุจุง provider ูุทุงุจูุช ุฏุงุฑุฏ ุฑุง ุจุฑฺฏุฑุฏุงูุฏ
    - ุฏุฑ ูุชุฏ `sendMessage` ฺฉูุงุณ `Chat`ุ ุจู ุฌุง `this._resolveProvider()`ุ ุงุฒ `this.peik.getProvider(this.modelInfo)` ุงุณุชูุงุฏู ฺฉู
3. ุงุตูุงุญ ูุงูโฺฏุฐุงุฑ ุฑูุฏุงุฏูุง: ุฑูุฏุงุฏูุง emit ุดุฏู ุฏุฑ ฺฉูุงุณ `Chat` ุงุณุชุงูุฏุงุฑุฏ ูุณุชูุฏ ู ุทุจู ุณูุฏ ูุนูุงุฑ ูุงูโฺฏุฐุงุฑ ูุดุฏูโุงูุฏ. ุฏุฑ ูุชุฏ `sendMessage` ฺฉูุงุณ `Chat`:
    - ูุจู ุงุฒ ุงุถุงูู ฺฉุฑุฏู ูพุงู ฺฉุงุฑุจุฑ ุจู ุขุฑุงูุ ุฑูุฏุงุฏ `message:sending` ุฑุง ุจุง ุฏุงุฏู `{ role: 'user', content }` emit ฺฉู
    - ุจุนุฏ ุงุฒ ุงุถุงูู ฺฉุฑุฏู ูพุงู ฺฉุงุฑุจุฑ ุจู ุขุฑุงูุ ุฑูุฏุงุฏ `message:sent` ุฑุง ุจุง ุดุก ฺฉุงูู `userMsg` emit ฺฉู
    - ุฎุท `await this.emit('message', userMsg);` ุฑุง ุญุฐู ฺฉู
    - ูุจู ุงุฒ ุงุถุงูู ฺฉุฑุฏู ูพุงู ูุฏู ุจู ุขุฑุงูุ ุฑูุฏุงุฏ `message:sending` ุฑุง ุจุง ุฏุงุฏู `{ role: 'model' }` emit ฺฉู
    - ุจุนุฏ ุงุฒ ุงุถุงูู ฺฉุฑุฏู ูพุงู ูุฏู (ุฎุงู) ุจู ุขุฑุงูุ ุฑูุฏุงุฏ `message:sent` ุฑุง ุจุง ุดุก `modelMsg` emit ฺฉู
    - ุฎุท `await this.emit('message', modelMsg);` ุฑุง ุญุฐู ฺฉู
    - ุฑูุฏุงุฏ `sending` ูุนู ุฑุง ุจู `response:receiving` ุชุบุฑ ูุงู ุจุฏู (ฺูู ูุฑุจูุท ุจู ุดุฑูุน ุฏุฑุงูุช ูพุงุณุฎ ุงุฒ ูุฏู ุงุณุช)
    - ููู emit ูุง ุจุงุฏ async ุจุงู ุจูุงููุฏ (ุจุง await)

### ูพุฑุงููพุช ฑดณ
ุฏู ุชุบุฑ ุฒุฑ ุฑุง ุฏุฑ ูุงู `Chat.js` ุงูุฌุงู ุจุฏู:
1. ุฏุฑ ูุชุฏ `cancel()`ุ ุฎุท `runtimeState.isSending = false;` ุฑุง ุญุฐู ฺฉู. ููุท `abort()` ูุฑุงุฎูุงู ุดูุฏุ ฺูู `isSending` ุฏุฑ ุจููฺฉ `finally` ูุชุฏ `sendMessage` ุชูุธู ูโุดูุฏ.
2. ุฏุฑ ูุชุฏ `_getRuntimeState()`ุ ูุจู ุงุฒ ุฎุท `state = { isSending: false, abortController: null };` ฺฉ `console.warn` ุงุถุงูู ฺฉู ฺฉู ุจฺฏูุฏ: `โ๏ธ Runtime state ุจุฑุง ฺุช ${this.id} ูุฌูุฏ ูุฏุงุดุช. ุงุฌุงุฏ ูโุดูุฏ.`

### ูพุฑุงููพุช ฑดด
ฺูุงุฑ ุจูุจูุฏ ุฒุฑ ุฑุง ุฏุฑ ฺฉุฏูุง ูุณุชู ูพฺฉ ุงูุฌุงู ุจุฏู:
1. ุจูุจูุฏ ูุฏุฑุช ุฎุทุง ุฏุฑ EventEmitter: ุฏุฑ ูุงู `EventEmitter.js`ุ ููุช ฺฉ listener ุฎุทุง ูโุฏูุฏุ ููุท ุฏุฑ console ููุงุด ุฏุงุฏู ูโุดูุฏ ู ฺฏู ูโุดูุฏ.
    - ุฏุฑ ูุชุฏ `emit`ุ ุงฺฏุฑ listener ูุง ุฎุทุง ุฏุงุฏูุฏุ ุนูุงูู ุจุฑ `console.error`ุ ฺฉ ุฑูุฏุงุฏ ุจู ูุงู `error` ูู emit ฺฉู
    - ุงูุง ูุฑุงูุจ ุจุงุด ฺฉู ุงฺฏุฑ ุฎูุฏ ุฑูุฏุงุฏ `error` ุฎุทุง ุฏุงุฏุ ูุงุฑุฏ ุญููู ุจโููุงุช ูุดูู
    - ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงู ูุดฺฉู: ุงฺฏุฑ `eventName` ุจุฑุงุจุฑ ุจุง `'error'` ุจูุฏุ ููุท `console.error` ฺฉู ู ุฑูุฏุงุฏ ุฏฺฏุฑ emit ูฺฉู
    - ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูู `console.error` ฺฉู ูู `this.emit('error', error)` ุฑุง ูุฑุงุฎูุงู ฺฉู
2. ุงุถุงูู ฺฉุฑุฏู ูุชุฏ export ุจู Chat: ูุชุฏ `toJSON` ููุท ุจุฑุง ุฐุฎุฑูโุณุงุฒ ุฏุงุฎู ุงุณุช ู ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ Export ูุฏุงุฑุฏ.
    - ฺฉ ูุชุฏ ุฌุฏุฏ ุจู ูุงู `export()` ุฏุฑ ฺฉูุงุณ `Chat` ุจุณุงุฒ
    - ุงู ูุชุฏ ุจุงุฏ ฺฉ object ุจุง ุณุงุฎุชุงุฑ ุฒุฑ ุจุฑฺฏุฑุฏุงูุฏ:
      - `version`: ุฑุดุชู `"1.0.0"`
      - `type`: ุฑุดุชู `"chat"`
      - `exportedAt`: ุฒูุงู ูุนู ุจู ูุฑูุช ISO string (ุงุณุชูุงุฏู ุงุฒ `new Date().toISOString()`)
      - `data`: ฺฉ object ุดุงูู:
        - `chat`: ุฎุฑูุฌ ูุชุฏ `toJSON` ุจุฏูู ููุฏ `messages`
        - `messages`: ุขุฑุงู `this.messages`
    - ุงุฒ `Serializer.clone` ุจุฑุง ุงุทููุงู ุงุฒ ุณุฑุงูโุณุงุฒ ุตุญุญ ุงุณุชูุงุฏู ฺฉู
3. ุชุบุฑ ููุน metadata ุฏุฑ Plugin: ุฏุฑ ูุงู `Plugin.js`ุ ุงุฒ `static get metadata()` ุงุณุชูุงุฏู ุดุฏู ฺฉู ูุฑ ุจุงุฑ ฺฉ object ุฌุฏุฏ ูโุณุงุฒุฏ.
    - `static get metadata()` ุฑุง ุญุฐู ฺฉู
    - ุจู ุฌุง ุขูุ ฺฉ property ุงุณุชุงุชฺฉ ูุนููู ุจู ูุงู `metadata` ุชุนุฑู ฺฉู:
    ```
    static metadata = {
        name: 'unnamed-plugin',
        version: '0.0.0',
        category: 'utility',
        description: '',
        dependencies: []
    };
    ```
    - ุฏููุงู ููุงู ููุงุฏุฑ ูุจู ุฑุง ุฏุงุดุชู ุจุงุดุฏุ ููุท ุงุฒ `get` ุงุณุชูุงุฏู ูฺฉู
4. ุญุฐู activeChat ุงุฒ Peik: ููุฏ `activeChat` ุฏุฑ ฺฉูุงุณ `Peik` ุจุงุนุซ ูโุดูุฏ ุงฺฏุฑ ฺูุฏ UI ูุฎุชูู ุงุฒ ฺฉ ููููู Peik ุงุณุชูุงุฏู ฺฉููุฏุ ุจุง ูู ุชุฏุงุฎู ุฏุงุดุชู ุจุงุดูุฏ.
    - ููุฏ `this.activeChat = null;` ุฑุง ุงุฒ constructor ฺฉูุงุณ `Peik` ุญุฐู ฺฉู
    - ุฏุฑ ูุชุฏ `getChat`:
      - ุฎุทโูุง ฺฉู ฺฺฉ ูโฺฉุฑุฏูุฏ `this.activeChat` ููุงู `chatId` ุงุณุช ุง ูู ุฑุง ุญุฐู ฺฉู
      - ููุดู ุงุฒ storage ุจุฎูุงู ู ฺฉ ููููู ุฌุฏุฏ `Chat` ุจุณุงุฒ
      - ุฎุท `this.activeChat = chatInstance;` ุฑุง ุญุฐู ฺฉู
    - ุฏุฑ ูุชุฏ `deleteChat`:
      - ุฎุทโูุง ฺฉู `this.activeChat` ุฑุง `null` ูโฺฉุฑุฏูุฏ ุญุฐู ฺฉู

**ูฺฉุชู:** ุงู ุชุบุฑ ุจุงุนุซ ูโุดูุฏ ูุฑ ุจุงุฑ `getChat` ูุฑุงุฎูุงู ุจุดูุ ฺฉ instance ุฌุฏุฏ ุณุงุฎุชู ุจุดู. ุงฺฏุฑ ูุงุฒ ุจู cache ุจุงุดูุ ุจุนุฏุงู ูโุชูุงู ฺฉ ุณุณุชู cache ุงุฎุชุตุงุต ุงุถุงูู ฺฉุฑุฏ.

### ูพุฑุงููพุช ฑดต
ูุงู `peik.js` ุฎู ุจุฒุฑฺฏ ุดุฏู (ณฐฐ ุฎุท). ูโุฎูุงู ุชูุณูุด ฺฉู ุจู ูุงูโูุง ฺฉูฺฺฉโุชุฑ.
1. ฺูุงุฑ ูุงู ุฌุฏุฏ ุจุณุงุฒ
    - ูุงู `core/src/services/providerResolver.js`: ูพุฏุง ฺฉุฑุฏู Provider ููุงุณุจ ู ุชูุธูุงุช ูุฏู
        - ฺ ุฏุงุฎูุด ุจุงุดู: ูุชุฏูุง `getProvider`ุ `resolveProviderConfig` ู `getDefaultModelInfo` ุงุฒ peik.js
    - ูุงู `core/src/services/modelInfoHelper.js`: ุชุจุฏู ุงุทูุงุนุงุช ูู ูุฏู ุจู ุงุทูุงุนุงุช ูุงุจู ููุงุด
        - ฺ ุฏุงุฎูุด ุจุงุดู: ูุชุฏ `getModelDisplayInfo` ุงุฒ peik.js
    - ูุงู `core/src/managers/settingsManager.js`: ูุฏุฑุช ฺฉุงูู ุชูุธูุงุช
      -  ฺ ุฏุงุฎูุด ุจุงุดู: ูุชุฏูุง `updateSettings`ุ `saveSettings`ุ `isSettingsValid` ุงุฒ peik.js + ูุณูุช ุจุงุฑฺฏุฐุงุฑ ุชูุธูุงุช ุงุฒ Storage
    - ูุงู `core/src/managers/chatManager.js`: ูุฏุฑุช ฺฉุงูู ฺุชโูุง
        - ฺ ุฏุงุฎูุด ุจุงุดู: ูุชุฏูุง `createChat`ุ `getChat`ุ `deleteChat`ุ `renameChat` ุงุฒ peik.js + ูุณุช `chats` ู `chatRuntimeStates`
2. ูุงู `peik.js` ุฑู **ุจุงุฒููุณ ฺฉุงูู** ฺฉู:
    - ุณุงุฎุช manager ูุง ู service ูุง ุฏุฑ constructor
    - ูุชุฏ `use()` ุจุฑุง ุงูุฒูููโูุง
    - ูุชุฏ `init()` ฺฉู manager ูุง ุฑู ุฑุงูโุงูุฏุงุฒ ูโฺฉูู
    - ูุชุฏ `getStorage()`
    - ูุชุฏูุง ฺฉูฺฺฉ ฺฉู ููุท ฺฉุงุฑ manager ูุง ุฑู ุตุฏุง ูโุฒูู (ูุซูุงู `createChat` ุตุฏุง ุจุฒูู `chatManager.createChat`)

**ูฺฉุชู:** ุฏฺฏู ูุงุฒู ูุณุช ุจุง ูุณุฎู ูุจู ุณุงุฒฺฏุงุฑ ุจุงุดูุ ูโุชูู ูุฑ ุชุบุฑ ฺฉู ูุงุฒูู ุจุฏ.
3. ุจูโุฑูุฒุฑุณุงู `index.js`: ูุงูโูุง ุฌุฏุฏ ุฑู ูู export ฺฉู ุชุง ุจุดู ุงุณุชูุงุฏู ฺฉุฑุฏ.

> ูพุฑุงููพุชโูุง ฑดฒ ุชุง ฑดต ุงุฒ ูุฏู sonnet4.5 ุจู ุนููุงู ูุดุงูุฑ ูู ฺฏุฑูุชู ุดุฏู ุงุณุช.

### ูพุฑุงููพุช ฑดถ
ุฎุจ ุจุง ุชูุฌู ุจู ุชุบุฑุงุช ฺฉู ุฏุฑ ฺฉุฏ ุงุนูุงู ฺฉุฑุฏ ูโุฎูุงู ุณูุฏูุง ูพุฑูฺู ุฑุง ุจุฑูุฒุฑุณุงู ฺฉู. ุงฺฏุฑ ุณูุฏ ุฌุฏุฏ ูู ูุงุฒ ุงุณุช ุงูู ุฑู ุจููุณ.

### ูพุฑุงููพุช ฑดท
ูโุฎูุงู ฺฉู ูพุฑูฺู ุจู ุฑุง ุจุง ุชูุฌู ุจู ุจุงุฒุณุงุฒ ฺฉู ุฏุฑ ูุณุชู ุงุตู ุงูุฌุงู ุฏุงุฏ ุจุฑุฑุณ ฺฉู ู ุงฺฏุฑ ูุงุฒ ุจู ุณุงุฒฺฏุงุฑ ุจุง ูุณุชู ุฌุฏุฏ ุฏุงุฑู ุงููโูุง ุฑุง ุงุตูุงุญ ฺฉู.

### ูพุฑุงููพุช ฑดธ
ุฏุฑ ุงูุฒูููโูุง ุงุฑุงุฆูโุฏููุฏูโูุง ุชุบุฑุงุช ุฒุฑ ุฑุง ุงูุฌุงู ุจุฏู:
1. ุญุฐู `get` ุงุฒ metadata: ุฏุฑ ูุฑ ุณู ูุงู (`geminiProvider/index.js`, `openaiProvider/index.js`, `customProvider/index.js`):
    - `static get metadata()` ุฑุง ุจู `static metadata = { ... }` ุชุจุฏู ฺฉู
    - ูุญุชูุง object ููุงู ุจุงุดุฏุ ููุท syntax ุชุบุฑ ฺฉูุฏ
2. ูุงุจู ุชูุธู ฺฉุฑุฏู System Instruction: ุฏุฑ ูุชุฏ `_formatMessages` ูุฑ ุณู ูุงู:
    - ุจู ุฌุง ูุชู ุซุงุจุชุ ุงุฒ `config.systemInstruction` ุงุณุชูุงุฏู ฺฉู
    - ุงฺฏุฑ `config.systemInstruction` ูุฌูุฏ ูุฏุงุดุชุ ุงุฒ ููุฏุงุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ฺฉู
    - ููุฏุงุฑ ูพุดโูุฑุถ: `'You are a helpful assistant named Peik.'`
3. ุจูุจูุฏ Error Handling ุฏุฑ Stream: ุฏุฑ ูุชุฏ `_processStreamLine`:
    - ุจู ุฌุง `console.warn`ุ ุงุฒ `console.error` ุงุณุชูุงุฏู ฺฉู
    - ฺฉ ฺฉุงููุช ุงุถุงูู ฺฉู ฺฉู ุชูุถุญ ุจุฏู ฺุฑุง ุฎุทุง ุฑุง ูุงุฏุฏู ูโฺฏุฑู (ุงฺฏุฑ ุฏูู ุฎุงุต ุฏุงุฑุฏ)

### ูพุฑุงููพุช ฑดน
ฺูุงุฑ ุชุบุฑ ุฒุฑ ุฑุง ุฏุฑ ูุงูโูุง `fetchHttp/index.js` ู `memoryStorage/index.js` ุงูุฌุงู ุจุฏู:
1. ุงุตูุงุญ metadata (ูุฑ ุฏู ูุงู): `static get metadata()` ุฑุง ุจู `static metadata = { ... }` ุชุจุฏู ฺฉู. ูุญุชูุง ููุงู ุจุงุดุฏ.
2. ุจูุจูุฏ getAllChats ุฏุฑ MemoryStorage: ุจู ุฌุง `delete chatCopy.messages`ุ ููุท ููุฏูุง ูุงุฒู ุฑุง ุจุฑฺฏุฑุฏุงู:
```
return {
    id: chat.id,
    title: chat.title,
    createdAt: chat.createdAt,
    updatedAt: chat.updatedAt,
    modelInfo: chat.modelInfo
}
```
3. ุจูุจูุฏ Error ุฏุฑ FetchHttp - ูุชุฏ request: ุฏุฑ ุจููฺฉ catchุ ููุช `error.statusCode` ูุฌูุฏ ูุฏุงุฑุฏ:
    - ฺฉ Error ุฌุฏุฏ ุจุณุงุฒ ุจุง message: `Network Error: ${error.message}`
    - ุจู ุขู property ุงุถุงูู ฺฉู: `code = 'NETWORK_ERROR'`
    - Error ุฌุฏุฏ ุฑุง throw ฺฉู
4. ูุญุฏูุฏ ฺฉุฑุฏู Buffer ุฏุฑ FetchHttp - ูุชุฏ streamRequest: ุจุนุฏ ุงุฒ ุฎุท `buffer += chunk`:
    - ฺฺฉ ฺฉู ุงฺฏุฑ `buffer.length > 100000`:
      - throw ฺฉู Error ุจุง message: `'Stream line too long'`

### ูพุฑุงููพุช ฑตฐ
ุดุด ุชุบุฑ ุฒุฑ ุฑุง ุฏุฑ `indexeddbStorage/index.js` ุงูุฌุงู ุจุฏู:
1. ุงุตูุงุญ metadataุ `static get metadata()` ุฑุง ุจู `static metadata = { ... }` ุชุจุฏู ฺฉู.
2. ุญุฐู ูุงุจุณุชฺฏ ุจู windowุ ุฏุฑ ูุชุฏ `_initDB`ุ ุฎุท `if (!window.indexedDB)` ุฑุง ุจู ุงู ุชุจุฏู ฺฉู:
```
if (typeof indexedDB === 'undefined')
```
3. ุงุถุงูู ฺฉุฑุฏู Retry ุจู _initDBุ ุฏุฑ ุจููฺฉ `request.onerror`ุ ูุจู ุงุฒ `reject`ุ ุงู ุฎุท ุฑุง ุงุถุงูู ฺฉู:
```
this.dbPromise = null;
```
4. ุงุถุงูู ฺฉุฑุฏู ูุชุฏ deactivateุ ุงุฒ ูุชุฏ `_initDB`ุ ุงู ูุชุฏ ุฑุง ุงุถุงูู ฺฉู:
```js
async deactivate() {
    if (this.dbPromise) {
        const db = await this.dbPromise;
        db.close();
        this.dbPromise = null;
    }
}
```
5. ุงุถุงูู ฺฉุฑุฏู onabortุ ุฏุฑ ุชูุงู ูุชุฏูุง ฺฉู `transaction.oncomplete` ุฏุงุฑูุฏุ ุจุนุฏ ุงุฒ `transaction.onerror`ุ ุงู ุฑุง ุงุถุงูู ฺฉู:
```
transaction.onabort = () => reject(new StorageError('Transaction was aborted'));
```
6. ุงุณุชูุงุฏู ุงุฒ Index ุฏุฑ getAllChatsุ ูุชุฏ `getAllChats` ุฑุง ฺฉุงููุงู ุจุงุฒููุณ ฺฉู:
    - ุจู ุฌุง `store.getAll()`ุ ุงุฒ `store.index('updatedAt').openCursor(null, 'prev')` ุงุณุชูุงุฏู ฺฉู
    - ฺุชโูุง ุฑุง ุจุง cursor ุจุฎูุงู (ฺฉ ฺฉ)
    - ุงุฒ ูุฑ ฺฉุฏุงู ููุท ููุฏูุง ูุงุฒู ุฑุง ุจุฑุฏุงุฑ (ุจุฏูู messages)
    - ุฏฺฏุฑ ูุงุฒ ุจู sort ูุณุช (DB ูุฑุชุจ ูโฺฉูุฏ)

### ูพุฑุงููพุช ฑตฑ
ูุดฺฉู ูุดุช ุญุงูุธู (Memory Leak) ุฏุฑ ุงูุฒููู WebUI ุฑุง ุจุฑุทุฑู ฺฉู. ุงู ูุดฺฉูโูุง ุฏุฑ ูุงูโูุง ุฒุฑ ูุฌูุฏ ุฏุงุฑู:
1. ุงุถุงูู ฺฉุฑุฏู ูุชุฏ destroy ุจู ุชูุงู Component ูุง `uiManager.js`ุ `sidebar.js`ุ messageList.js`ุ inputArea.js`ุ settingsModal.js`
    - ุฏุฑ ูุฑ ูุงูุ ฺฉ ูุชุฏ ุจู ูุงู `destroy()` ุงุถุงูู ฺฉู ฺฉู ุงู ฺฉุงุฑูุง ุฑุง ุงูุฌุงู ุฏูุฏ: 
      - ุชูุงู event listener ูุง ฺฉู ุจู `document` ุง `window` ุงุถุงูู ุดุฏูโุงูุฏ ุฑุง remove ฺฉู
      - ุชูุงู event listener ูุง ฺฉู ุจู element ูุง DOM ุงุถุงูู ุดุฏูโุงูุฏ ุฑุง remove ฺฉู
      - reference ูุง ุฐุฎุฑู ุดุฏู ุจู DOM element ูุง ุฑุง `null` ฺฉู
      - ุงฺฏุฑ Component ุฏฺฏุฑ ุฏุงุฑุฏุ ูุชุฏ `destroy()` ุขู ุฑุง ูู ูุฑุงุฎูุงู ฺฉู

**ูฺฉุชู ููู:** ุจุฑุง ุงูฺฉู ุจุชูุงู listener ูุง ุฑุง remove ฺฉูุ ุจุงุฏ ุงุฒ **bound method** ุงุณุชูุงุฏู ฺฉู. ุจู ุงู ุตูุฑุช:
- ุฏุฑ `constructor`ุ ุชูุงู handler function ูุง ุฑุง bind ฺฉู ู ุฏุฑ ฺฉ property ุฐุฎุฑู ฺฉู
- ููฺฏุงู `addEventListener`ุ ุงุฒ ููุงู bound function ุงุณุชูุงุฏู ฺฉู
- ููฺฏุงู `removeEventListener`ุ ุงุฒ ููุงู bound function ุงุณุชูุงุฏู ฺฉู
2. ุงุถุงูู ฺฉุฑุฏู ูุชุฏ deactivate ุจู WebUIPlugin: ูุงู  `index.js`
    - ฺฉ ูุชุฏ `async deactivate()` ุงุถุงูู ฺฉู ฺฉู:
      - ุงฺฏุฑ `this.uiManager` ูุฌูุฏ ุฏุงุฑุฏุ ูุชุฏ `destroy()` ุขู ุฑุง ูุฑุงุฎูุงู ฺฉู
      - `this.uiManager` ุฑุง `null` ฺฉู
      - ููฺฉ CSS ฺฉู ุฏุฑ `_loadStyles` ุงุถุงูู ุดุฏู ุฑุง ูพุฏุง ู ุญุฐู ฺฉู (selector: `link[href*="webUI/styles/main.css"]`)
3. ุจูุจูุฏ Event Binding ุฏุฑ UIManager: ุฏุฑ ูุงู `uiManager.js` ุฏุฑ ูุชุฏ `_bindActiveChatEvents`ุ ูุฑ ุจุงุฑ ฺฉู ุงู ูุชุฏ ูุฑุงุฎูุงู ูโุดูุฏุ ฺูุฏู function ุฌุฏุฏ ุณุงุฎุชู ูโุดููุฏ.
    - ุฏุฑ `constructor`ุ ฺฉ property ุจู ูุงู `chatEventHandlers` ุจุณุงุฒ
    - ุฏุฑ ุขูุ ุชูุงู handler function ูุง ูุฑุจูุท ุจู chat event ูุง ุฑุง bind ฺฉู ู ุฐุฎุฑู ฺฉู:
       - `message:sent` โ ูุชุฏ `handleMessageSent`
       - `chunk` โ ูุชุฏ `handleChunk`
       - `response:complete` โ ูุชุฏ `handleResponseComplete`
       - `response:receiving` โ ูุชุฏ `handleResponseReceiving`
       - `update` โ ูุชุฏ `handleChatUpdate`
       - `error` โ ูุชุฏ `handleChatError`
    - ูุชุฏูุง handler ุฑุง ุจุณุงุฒ (ูุซูุงู `handleMessageSent(msg)`) ฺฉู ููุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุฏ ฺฉู ุงูุงู inline function ูุง   ูโุฏููุฏ
    - ุฏุฑ ูุชุฏ `_bindActiveChatEvents`ุ ุจู ุฌุง ุณุงุฎุช function ูุง ุฌุฏุฏุ ุงุฒ `this.chatEventHandlers` ุงุณุชูุงุฏู ฺฉู
    - ุฎุท `this.activeChatListeners = { ... }` ุฑุง ุญุฐู ฺฉู ฺูู ุฏฺฏุฑ ูุงุฒู ูุณุช
4. ุฑูุน ูุดฺฉู State Duplication: ุฏุฑ ูุงู `uiManager.js`  `this.activeChat` ฺฉ reference ฺฉุงูู ุจู Chat object ุฐุฎุฑู ูโฺฉูุฏ ฺฉู ูโุชูุงูุฏ ุจุงุนุซ ูุดฺฉู ุดูุฏ.
    - ูุงู `this.activeChat` ุฑุง ุจู `this.activeChatId` ุชุบุฑ ุจุฏู
    - ุจู ุฌุง ุฐุฎุฑู ฺฉู objectุ ููุท `chat.id` ุฑุง ุฐุฎุฑู ฺฉู
    - ุฏุฑ ุฌุงูุง ฺฉู ุงุฒ `this.activeChat` ุงุณุชูุงุฏู ูโุดูุฏ:
       - ุงฺฏุฑ ููุท `id` ูุงุฒู ุงุณุชุ ุงุฒ `this.activeChatId` ุงุณุชูุงุฏู ฺฉู
       - ุงฺฏุฑ ฺฉู object ูุงุฒู ุงุณุชุ ุงุฒ `await this.peik.getChat(this.activeChatId)` ุงุณุชูุงุฏู ฺฉู

### ูพุฑุงููพุช ฑตฒ
ูุฑ ุจุงุฑ ฺฉู `loadTemplate` ุง `loadTemplateWithPartials` ูุฑุงุฎูุงู ูโุดูุ ฺฉ ุฏุฑุฎูุงุณุช fetch ุฌุฏุฏ ุจู ุณุฑูุฑ ุงุฑุณุงู ูโุดู. ุงู ุจุงุนุซ ฺฉูุฏ ู ูุฏุฑ ุฑูุช Network ูโุดู.
1. ฺฉ `Map` ุจู ูุงู `templateCache` ุฏุฑ ุงุจุชุฏุง ูุงู ุจุณุงุฒ (ุฎุงุฑุฌ ุงุฒ function ูุง)
2. ุฏุฑ ุชุงุจุน `loadTemplate`:
   - ูุจู ุงุฒ fetchุ ฺฺฉ ฺฉู ุขุง `path` ุฏุฑ cache ููุฌูุฏ ุงุณุช
   - ุงฺฏุฑ ููุฌูุฏ ุงุณุชุ ูุญุชูุง cached ุฑุง ุจุฑฺฏุฑุฏุงู
   - ุงฺฏุฑ ููุฌูุฏ ูุณุชุ fetch ฺฉู ู ุจุนุฏ ุงุฒ ุฏุฑุงูุชุ ุฏุฑ cache ุฐุฎุฑู ฺฉู
   - ุณูพุณ ูุญุชูุง ุฑุง ุจุฑฺฏุฑุฏุงู
3. ฺฉ ุชุงุจุน export ุดุฏู ุจู ูุงู `clearTemplateCache` ุงุถุงูู ฺฉู ฺฉู:
   - ุชูุงู ูุญุชูุงุช `templateCache` ุฑุง ูพุงฺฉ ฺฉูุฏ
   - ุงู ุชุงุจุน ุจุฑุง debugging ุง reload ููุฏ ุงุณุช.

### ูพุฑุงููพุช ฑตณ
ููุช `markdownService` ุจุงุฑฺฏุฐุงุฑ ูโุดูุ ูุชุฏ `rerenderUnprocessedMessages()` **ุชูุงู** ูพุงูโูุง ููุฌูุฏ ุฏุฑ DOM ุฑุง ุฏูุจุงุฑู render ูโฺฉูู. ุงฺฏุฑ 100 ูพุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุ ููู 100 ูพุงู ูพุฑุฏุงุฒุด ูโุดู ฺฉู ุจุงุนุซ lag ูโุดู.
1. ุฏุฑ `constructor`:
   - ฺฉ `Set` ุจู ูุงู `unprocessedMessages` ุงุถุงูู ฺฉู ฺฉู reference ุจู bubble ูุง ูพุฑุฏุงุฒุด ูุดุฏู ุฑุง ูฺฏู ุฏุงุฑุฏ
2. ุฏุฑ ูุชุฏ `appendMessage`:
   - ุงฺฏุฑ `markdownService.isLoaded()` ุจุฑุงุจุฑ `false` ุงุณุชุ `bubble` ุฑุง ุจู `unprocessedMessages` ุงุถุงูู ฺฉู
3. ุฏุฑ ูุชุฏ `appendChunk`:
   - ุงฺฏุฑ `markdownService.isLoaded()` ุจุฑุงุจุฑ `false` ุงุณุช ู bubble ุชุงุฒู ุณุงุฎุชู ุดุฏุ ุขู ุฑุง ุจู `unprocessedMessages` ุงุถุงูู ฺฉู
4. ุฏุฑ ูุชุฏ `rerenderUnprocessedMessages`:
   - ุจู ุฌุง `querySelectorAll('[data-needs-markdown="true"]')` ฺฉู ฺฉู DOM ุฑุง ุฌุณุชุฌู ูโฺฉูุฏ
   - ุงุฒ `this.unprocessedMessages` ุงุณุชูุงุฏู ฺฉู
   - ูุฑ bubble ุฑุง ูพุฑุฏุงุฒุด ฺฉู
   - ุจุนุฏ ุงุฒ ูพุฑุฏุงุฒุดุ `this.unprocessedMessages.clear()` ฺฉู
5. ุฏุฑ ูุชุฏ `clear`:
   - `this.unprocessedMessages.clear()` ุฑุง ูู ูุฑุงุฎูุงู ฺฉู
6. ุฏุฑ ูุชุฏ `destroy`:
   - `this.unprocessedMessages.clear()` ุฑุง ูุฑุงุฎูุงู ฺฉู
   - `this.unprocessedMessages` ุฑุง `null` ฺฉู

### ูพุฑุงููพุช ฑตด
ฺฉุงุฑุจุฑ ูโุชููู ฺฉู ูุฑู ุฑุง ูพุฑ ฺฉููุ ุงูุง ุชุง ุฒูุงู ฺฉูฺฉ ุฑู "ุฐุฎุฑู"ุ ุงุฒ ุฎุทุงูุง ูุทูุน ููโุดู. ุงู UX ุจุฏู.
1. ุงุถุงูู ฺฉุฑุฏู CSS Class ุจุฑุง ุฎุทุงุ ุฏุฑ ูุงู CSS ูุฑุจูุทู (ุง inline ุฏุฑ JS)ุ ฺฉ class ุจู ูุงู `invalid` ุจุฑุง input ูุง ุชุนุฑู ฺฉู ฺฉู border ูุฑูุฒ ููุงุด ุจุฏู.
2. ุงุถุงูู ฺฉุฑุฏู Event Listener ูุง Real-timeุ ุฏุฑ ูุชุฏ `bindEvents`:
    - ุจุฑุง `geminiKeyInput` ู `geminiModelInput`:
       - ฺฉ event listener ุจุฑุง `input` ุงุถุงูู ฺฉู
       - ููุช ฺฉุงุฑุจุฑ ุชุงูพ ูโฺฉูุฏุ ฺฺฉ ฺฉู ฺฉู ููุฏุงุฑ ุฎุงู ูุจุงุดุฏ
       - ุงฺฏุฑ ุฎุงู ุจูุฏุ class `invalid` ุงุถุงูู ฺฉู
       - ุงฺฏุฑ ูพุฑ ุจูุฏุ class `invalid` ุฑุง ุญุฐู ฺฉู
    - ุจุฑุง `chatgptKeyInput` ู `chatgptModelInput`:
       - ููู ฺฉุงุฑ ุฑุง ุชฺฉุฑุงุฑ ฺฉู
    - ุจุฑุง `customProviderList`:
       - ฺฉ event listener ุจุฑุง `input` ุงุถุงูู ฺฉู (ุงุฒ event delegation ุงุณุชูุงุฏู ฺฉู)
       - ุงฺฏุฑ input ุงุฒ ููุน name ุจุงุดุฏ:
         - ฺฺฉ ฺฉู ฺฉู ุฎุงู ูุจุงุดุฏ
         - ฺฺฉ ฺฉู ฺฉู ุชฺฉุฑุงุฑ ูุจุงุดุฏ (ุจุง name ูุง ุฏฺฏุฑ custom provider ูุง)
         - ุงฺฏุฑ ูุดฺฉู ุจูุฏุ class `invalid` ุงุถุงูู ฺฉู
       - ุงฺฏุฑ input ุงุฒ ููุน endpoint ุจุงุดุฏ:
         - ฺฺฉ ฺฉู ฺฉู URL ูุนุชุจุฑ ุจุงุดุฏ (ุจุง `try { new URL(value) }`)
         - ุงฺฏุฑ ูุงูุนุชุจุฑ ุจูุฏุ class `invalid` ุงุถุงูู ฺฉู
3. ุงุถุงูู ฺฉุฑุฏู ูุชุฏูุง ฺฉูฺฉ
    - `validateField(inputElement, validatorFn)`:
       - ฺฉ function ุจฺฏุฑุฏ ฺฉู true/false ุจุฑูโฺฏุฑุฏุงูุฏ
       - ุงฺฏุฑ validator ุจุฑุงุจุฑ false ุดุฏุ class `invalid` ุงุถุงูู ฺฉูุฏ
       - ุงฺฏุฑ ุจุฑุงุจุฑ true ุดุฏุ class `invalid` ุฑุง ุญุฐู ฺฉูุฏ
       - ูุชุฌู ุฑุง return ฺฉูุฏ (true/false)
    - `validateCustomProviderName(inputElement)`:
       - ูุงู ุฑุง ุงุฒ input ุจฺฏุฑุฏ
       - ุชูุงู name ูุง ุฏฺฏุฑ ุฑุง ูพุฏุง ฺฉูุฏ
       - ฺฺฉ ฺฉูุฏ ฺฉู ุฎุงู ุง ุชฺฉุฑุงุฑ ูุจุงุดุฏ
       - class `invalid` ุฑุง ูุฏุฑุช ฺฉูุฏ
4. Cleanup ุฏุฑ destroyุ ุฏุฑ ูุชุฏ `destroy`:
    - ุชูุงู event listener ูุง ุงุถุงูู ุดุฏู ุฑุง remove ฺฉู (bound method ูุง ุฑุง ุงุณุชูุงุฏู ฺฉู)

### ูพุฑุงููพุช ฑตต
ุจุฎุด UIManager ุฎู ูพฺุฏู ุดุฏู. ุจุงุฏ ุณุงุฏูโุชุฑ ุจุงุดูุ ุฏุฑ ุญุงู ุญุงุถุฑ:
- UIManager ููู Component ูุง ุฑุง ูุณุชููุงู ูโุณุงุฒู
- ููโุดู Component ุฌุฏุฏ ุงุฒ ุจุฑูู ุงุถุงูู ฺฉุฑุฏ
- ุจุฑุง ูุฑ ุชุบุฑ ุจุงุฏ UIManager ุฑุง ูุฑุงุด ฺฉุฑุฏ

**ูุฏู:**
- UIManager ููุท ฺฉ ููุงููฺฏโฺฉููุฏู ุณุงุฏู ุจุงุดู
- Component ูุง ุฎูุฏุดุงู ุฑุง register ฺฉูู
- ุจุดู Component ุฌุฏุฏ ุงุถุงูู ฺฉุฑุฏ ุจุฏูู ุชุบุฑ UIManager

**ูฺฉุชู:** ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎู ูุจู ููู ูุณุชุ ูโุชูู ูุฑ ุชุบุฑ ูุงุฒูู ุจุฏ.

> ูพุฑุงููพุชโูุง ฑดธ ุชุง ฑตต ุงุฒ ูุฏู sonnet4.5 ุจู ุนููุงู ูุดุงูุฑ ูู ฺฏุฑูุชู ุดุฏู ุงุณุช.